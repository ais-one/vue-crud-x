import{t as n,s as t}from"./vendor.f4e9483c.js";import{i as e,u as r,a as o,b as i,c as a,v as u,t as c,d as s,e as f,m as l,f as h,g as p,h as v,j as d,k as g,l as y,p as m,r as w,n as _,o as b,q as x,s as E,w as S,x as M,y as T,z as j,A as k,B as C,D as P,E as O,F as A,G as N,H as R,I,J as D,K as L,L as B,M as z,N as q,O as F,P as G,Q as V,R as H,S as U,T as W,U as Y,V as $,W as J,X,Y as Q,Z as K,_ as Z,$ as nn,a0 as tn,a1 as en,a2 as rn,a3 as on,a4 as an,a5 as un,a6 as cn,a7 as sn,a8 as fn,a9 as ln,aa as hn,ab as pn,ac as vn,ad as dn,ae as gn,af as yn,ag as mn,ah as wn,ai as _n,aj as bn}from"./index.7db33356.js";import{f as xn,s as En,m as Sn,a as Mn,o as Tn}from"./omit.f6b2584c.js";var jn=function(n,t){if(void 0===t&&(t=[]),e(n))for(var r=0;r<n.length;r+=1)jn(n[r],t);else t.push(n);return t},kn=Array.prototype,Cn=kn.splice,Pn=kn.indexOf;var On={};var An=Number.isInteger?Number.isInteger:function(n){return i(n)&&n%1==0},Nn=180/Math.PI,Rn=parseInt;var In,Dn,Ln,Bn,zn,qn,Fn,Gn,Vn,Hn,Un,Wn,Yn,$n,Jn,Xn,Qn,Kn,Zn,nt,tt,et,rt,ot,it,at=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",contains:a,includes:a,difference:p,find:v,findIndex:xn,firstValue:d,flatten:g,flattenDeep:jn,getRange:y,pull:function(n){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];for(var r=0;r<t.length;r++)for(var o=t[r],i=-1;(i=Pn.call(n,o))>-1;)Cn.call(n,i,1);return n},pullAt:m,reduce:w,remove:_,sortBy:En,union:function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];return r([].concat.apply([],n))},uniq:r,valuesOfKey:b,head:x,last:E,startsWith:function(n,t){return!(!e(n)&&!o(n))&&n[0]===t},endsWith:function(n,t){return!(!e(n)&&!o(n))&&n[n.length-1]===t},filter:S,every:M,some:T,group:j,groupBy:k,groupToMap:C,getWrapBehavior:function(n,t){return n["_wrap_"+t]},wrapBehavior:function(n,t){if(n["_wrap_"+t])return n["_wrap_"+t];var e=function(e){n[t](e)};return n["_wrap_"+t]=e,e},number2color:function(n){var t=On[n];if(!t){for(var e=n.toString(16),r=e.length;r<6;r++)e="0"+e;t="#"+e,On[n]=t}return t},parseRadius:function(n){var t=0,r=0,o=0,i=0;return e(n)?1===n.length?t=r=o=i=n[0]:2===n.length?(t=o=n[0],r=i=n[1]):3===n.length?(t=n[0],r=i=n[1],o=n[2]):(t=n[0],r=n[1],o=n[2],i=n[3]):t=r=o=i=n,{r1:t,r2:r,r3:o,r4:i}},clamp:P,fixedBase:O,isDecimal:function(n){return i(n)&&n%1!=0},isEven:function(n){return i(n)&&n%2==0},isInteger:An,isNegative:function(n){return i(n)&&n<0},isNumberEqual:A,isOdd:function(n){return i(n)&&n%2!=0},isPositive:function(n){return i(n)&&n>0},max:N,maxBy:Sn,min:R,minBy:Mn,mod:I,toDegree:function(n){return Nn*n},toInteger:Rn,toRadian:D,forIn:L,has:B,hasKey:B,hasValue:function(n,t){return a(u(n),t)},keys:z,isMatch:q,values:u,lowerCase:F,lowerFirst:function(n){var t=c(n);return t.charAt(0).toLowerCase()+t.substring(1)},substitute:G,upperCase:function(n){return c(n).toUpperCase()},upperFirst:V,getType:H,isArguments:function(n){return s(n,"Arguments")},isArray:e,isArrayLike:U,isBoolean:W,isDate:Y,isError:function(n){return s(n,"Error")},isFunction:f,isFinite:function(n){return i(n)&&isFinite(n)},isNil:$,isNull:J,isNumber:i,isObject:X,isObjectLike:Q,isPlainObject:K,isPrototype:Z,isRegExp:function(n){return s(n,"RegExp")},isString:o,isType:s,isUndefined:nn,isElement:tn,requestAnimationFrame:en,clearAnimationFrame:rn,augment:function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];for(var e=n[0],r=1;r<n.length;r++){var o=n[r];f(o)&&(o=o.prototype),l(e.prototype,o)}},clone:on,debounce:an,memoize:un,deepMix:cn,each:L,extend:function(n,t,e,r){f(t)||(e=t,t=n,n=function(){});var o=Object.create?function(n,t){return Object.create(n,{constructor:{value:t}})}:function(n,t){function e(){}e.prototype=n;var r=new e;return r.constructor=t,r},i=o(t.prototype,n);return n.prototype=l(i,n.prototype),n.superclass=o(t.prototype,t),l(i,e),l(n,r),n},indexOf:sn,isEmpty:fn,isEqual:h,isEqualWith:function(n,t,e){return f(e)?!!e(n,t):h(n,t)},map:ln,mapValues:hn,mix:l,assign:l,get:pn,set:vn,pick:dn,omit:Tn,throttle:gn,toArray:yn,toString:c,uniqueId:mn,noop:wn,identity:function(n){return n},size:_n,Cache:bn}),ut={exports:{}};
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
In=ut,function(t){var e="object"==typeof n?n:"object"==typeof self?self:"object"==typeof this?this:{};function r(n,t){return n!==e&&("function"==typeof Object.create?Object.defineProperty(n,"__esModule",{value:!0}):n.__esModule=!0),function(e,r){return n[e]=t?t(e,r):r}}!function(n){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(n[e]=t[e])};Dn=function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},Ln=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o]);return n},Bn=function(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(n);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(e[r[o]]=n[r[o]])}return e},zn=function(n,t,e,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(n,t,e,r);else for(var u=n.length-1;u>=0;u--)(o=n[u])&&(a=(i<3?o(a):i>3?o(t,e,a):o(t,e))||a);return i>3&&a&&Object.defineProperty(t,e,a),a},qn=function(n,t){return function(e,r){t(e,r,n)}},Fn=function(n,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(n,t)},Gn=function(n,t,e,r){function o(n){return n instanceof e?n:new e((function(t){t(n)}))}return new(e||(e=Promise))((function(e,i){function a(n){try{c(r.next(n))}catch(t){i(t)}}function u(n){try{c(r.throw(n))}catch(t){i(t)}}function c(n){n.done?e(n.value):o(n.value).then(a,u)}c((r=r.apply(n,t||[])).next())}))},Vn=function(n,t){var e,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(n){return function(t){return c([n,t])}}function c(i){if(e)throw new TypeError("Generator is already executing.");for(;a;)try{if(e=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(n,a)}catch(u){i=[6,u],r=0}finally{e=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}},Hn=function(n,t){for(var e in n)"default"===e||Object.prototype.hasOwnProperty.call(t,e)||it(t,n,e)},it=Object.create?function(n,t,e,r){void 0===r&&(r=e),Object.defineProperty(n,r,{enumerable:!0,get:function(){return t[e]}})}:function(n,t,e,r){void 0===r&&(r=e),n[r]=t[e]},Un=function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Wn=function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var r,o,i=e.call(n),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(u){o={error:u}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(o)throw o.error}}return a},Yn=function(){for(var n=[],t=0;t<arguments.length;t++)n=n.concat(Wn(arguments[t]));return n},$n=function(){for(var n=0,t=0,e=arguments.length;t<e;t++)n+=arguments[t].length;var r=Array(n),o=0;for(t=0;t<e;t++)for(var i=arguments[t],a=0,u=i.length;a<u;a++,o++)r[o]=i[a];return r},Jn=function(n,t){for(var e=0,r=t.length,o=n.length;e<r;e++,o++)n[o]=t[e];return n},Xn=function(n){return this instanceof Xn?(this.v=n,this):new Xn(n)},Qn=function(n,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=e.apply(n,t||[]),i=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(n){o[n]&&(r[n]=function(t){return new Promise((function(e,r){i.push([n,t,e,r])>1||u(n,t)}))})}function u(n,t){try{c(o[n](t))}catch(e){l(i[0][3],e)}}function c(n){n.value instanceof Xn?Promise.resolve(n.value.v).then(s,f):l(i[0][2],n)}function s(n){u("next",n)}function f(n){u("throw",n)}function l(n,t){n(t),i.shift(),i.length&&u(i[0][0],i[0][1])}},Kn=function(n){var t,e;return t={},r("next"),r("throw",(function(n){throw n})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,o){t[r]=n[r]?function(t){return(e=!e)?{value:Xn(n[r](t)),done:"return"===r}:o?o(t):t}:o}},Zn=function(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=Un(n),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(e){t[e]=n[e]&&function(t){return new Promise((function(r,i){o(r,i,(t=n[e](t)).done,t.value)}))}}function o(n,t,e,r){Promise.resolve(r).then((function(t){n({value:t,done:e})}),t)}},nt=function(n,t){return Object.defineProperty?Object.defineProperty(n,"raw",{value:t}):n.raw=t,n};var e=Object.create?function(n,t){Object.defineProperty(n,"default",{enumerable:!0,value:t})}:function(n,t){n.default=t};tt=function(n){if(n&&n.__esModule)return n;var t={};if(null!=n)for(var r in n)"default"!==r&&Object.prototype.hasOwnProperty.call(n,r)&&it(t,n,r);return e(t,n),t},et=function(n){return n&&n.__esModule?n:{default:n}},rt=function(n,t){if(!t.has(n))throw new TypeError("attempted to get private field on non-instance");return t.get(n)},ot=function(n,t,e){if(!t.has(n))throw new TypeError("attempted to set private field on non-instance");return t.set(n,e),e},n("__extends",Dn),n("__assign",Ln),n("__rest",Bn),n("__decorate",zn),n("__param",qn),n("__metadata",Fn),n("__awaiter",Gn),n("__generator",Vn),n("__exportStar",Hn),n("__createBinding",it),n("__values",Un),n("__read",Wn),n("__spread",Yn),n("__spreadArrays",$n),n("__spreadArray",Jn),n("__await",Xn),n("__asyncGenerator",Qn),n("__asyncDelegator",Kn),n("__asyncValues",Zn),n("__makeTemplateObject",nt),n("__importStar",tt),n("__importDefault",et),n("__classPrivateFieldGet",rt),n("__classPrivateFieldSet",ot)}(r(e,r(In.exports)))}();var ct=t(at);function st(){return new ft}function ft(){this.reset()}ft.prototype={constructor:ft,reset:function(){this.s=this.t=0},add:function(n){ht(lt,n,this.t),ht(this,lt.s,this.s),this.s?this.t+=lt.t:this.s=lt.t},valueOf:function(){return this.s}};var lt=new ft;function ht(n,t,e){var r=n.s=t+e,o=r-t,i=r-o;n.t=t-i+(e-o)}var pt=Math.PI,vt=pt/2,dt=pt/4,gt=2*pt,yt=180/pt,mt=pt/180,wt=Math.abs,_t=Math.atan,bt=Math.atan2,xt=Math.cos,Et=Math.ceil,St=Math.exp,Mt=Math.log,Tt=Math.pow,jt=Math.sin,kt=Math.sign||function(n){return n>0?1:n<0?-1:0},Ct=Math.sqrt,Pt=Math.tan;function Ot(n){return n>1?0:n<-1?pt:Math.acos(n)}function At(n){return n>1?vt:n<-1?-vt:Math.asin(n)}function Nt(n){return(n=jt(n/2))*n}function Rt(){}function It(n,t){n&&Lt.hasOwnProperty(n.type)&&Lt[n.type](n,t)}var Dt={Feature:function(n,t){It(n.geometry,t)},FeatureCollection:function(n,t){for(var e=n.features,r=-1,o=e.length;++r<o;)It(e[r].geometry,t)}},Lt={Sphere:function(n,t){t.sphere()},Point:function(n,t){n=n.coordinates,t.point(n[0],n[1],n[2])},MultiPoint:function(n,t){for(var e=n.coordinates,r=-1,o=e.length;++r<o;)n=e[r],t.point(n[0],n[1],n[2])},LineString:function(n,t){Bt(n.coordinates,t,0)},MultiLineString:function(n,t){for(var e=n.coordinates,r=-1,o=e.length;++r<o;)Bt(e[r],t,0)},Polygon:function(n,t){zt(n.coordinates,t)},MultiPolygon:function(n,t){for(var e=n.coordinates,r=-1,o=e.length;++r<o;)zt(e[r],t)},GeometryCollection:function(n,t){for(var e=n.geometries,r=-1,o=e.length;++r<o;)It(e[r],t)}};function Bt(n,t,e){var r,o=-1,i=n.length-e;for(t.lineStart();++o<i;)r=n[o],t.point(r[0],r[1],r[2]);t.lineEnd()}function zt(n,t){var e=-1,r=n.length;for(t.polygonStart();++e<r;)Bt(n[e],t,1);t.polygonEnd()}function qt(n,t){n&&Dt.hasOwnProperty(n.type)?Dt[n.type](n,t):It(n,t)}var Ft,Gt,Vt,Ht,Ut,Wt=st(),Yt=st(),$t={point:Rt,lineStart:Rt,lineEnd:Rt,polygonStart:function(){Wt.reset(),$t.lineStart=Jt,$t.lineEnd=Xt},polygonEnd:function(){var n=+Wt;Yt.add(n<0?gt+n:n),this.lineStart=this.lineEnd=this.point=Rt},sphere:function(){Yt.add(gt)}};function Jt(){$t.point=Qt}function Xt(){Kt(Ft,Gt)}function Qt(n,t){$t.point=Kt,Ft=n,Gt=t,Vt=n*=mt,Ht=xt(t=(t*=mt)/2+dt),Ut=jt(t)}function Kt(n,t){var e=(n*=mt)-Vt,r=e>=0?1:-1,o=r*e,i=xt(t=(t*=mt)/2+dt),a=jt(t),u=Ut*a,c=Ht*i+u*xt(o),s=u*r*jt(o);Wt.add(bt(s,c)),Vt=n,Ht=i,Ut=a}function Zt(n){return[bt(n[1],n[0]),At(n[2])]}function ne(n){var t=n[0],e=n[1],r=xt(e);return[r*xt(t),r*jt(t),jt(e)]}function te(n,t){return n[0]*t[0]+n[1]*t[1]+n[2]*t[2]}function ee(n,t){return[n[1]*t[2]-n[2]*t[1],n[2]*t[0]-n[0]*t[2],n[0]*t[1]-n[1]*t[0]]}function re(n,t){n[0]+=t[0],n[1]+=t[1],n[2]+=t[2]}function oe(n,t){return[n[0]*t,n[1]*t,n[2]*t]}function ie(n){var t=Ct(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);n[0]/=t,n[1]/=t,n[2]/=t}var ae,ue,ce,se,fe,le,he,pe,ve,de,ge,ye,me,we,_e,be,xe,Ee,Se,Me,Te,je,ke,Ce,Pe,Oe,Ae=st(),Ne={point:Re,lineStart:De,lineEnd:Le,polygonStart:function(){Ne.point=Be,Ne.lineStart=ze,Ne.lineEnd=qe,Ae.reset(),$t.polygonStart()},polygonEnd:function(){$t.polygonEnd(),Ne.point=Re,Ne.lineStart=De,Ne.lineEnd=Le,Wt<0?(ae=-(ce=180),ue=-(se=90)):Ae>1e-6?se=90:Ae<-1e-6&&(ue=-90),de[0]=ae,de[1]=ce}};function Re(n,t){ve.push(de=[ae=n,ce=n]),t<ue&&(ue=t),t>se&&(se=t)}function Ie(n,t){var e=ne([n*mt,t*mt]);if(pe){var r=ee(pe,e),o=ee([r[1],-r[0],0],r);ie(o),o=Zt(o);var i,a=n-fe,u=a>0?1:-1,c=o[0]*yt*u,s=wt(a)>180;s^(u*fe<c&&c<u*n)?(i=o[1]*yt)>se&&(se=i):s^(u*fe<(c=(c+360)%360-180)&&c<u*n)?(i=-o[1]*yt)<ue&&(ue=i):(t<ue&&(ue=t),t>se&&(se=t)),s?n<fe?Fe(ae,n)>Fe(ae,ce)&&(ce=n):Fe(n,ce)>Fe(ae,ce)&&(ae=n):ce>=ae?(n<ae&&(ae=n),n>ce&&(ce=n)):n>fe?Fe(ae,n)>Fe(ae,ce)&&(ce=n):Fe(n,ce)>Fe(ae,ce)&&(ae=n)}else ve.push(de=[ae=n,ce=n]);t<ue&&(ue=t),t>se&&(se=t),pe=e,fe=n}function De(){Ne.point=Ie}function Le(){de[0]=ae,de[1]=ce,Ne.point=Re,pe=null}function Be(n,t){if(pe){var e=n-fe;Ae.add(wt(e)>180?e+(e>0?360:-360):e)}else le=n,he=t;$t.point(n,t),Ie(n,t)}function ze(){$t.lineStart()}function qe(){Be(le,he),$t.lineEnd(),wt(Ae)>1e-6&&(ae=-(ce=180)),de[0]=ae,de[1]=ce,pe=null}function Fe(n,t){return(t-=n)<0?t+360:t}function Ge(n,t){return n[0]-t[0]}function Ve(n,t){return n[0]<=n[1]?n[0]<=t&&t<=n[1]:t<n[0]||n[1]<t}function He(n){var t,e,r,o,i,a,u;if(se=ce=-(ae=ue=1/0),ve=[],qt(n,Ne),e=ve.length){for(ve.sort(Ge),t=1,i=[r=ve[0]];t<e;++t)Ve(r,(o=ve[t])[0])||Ve(r,o[1])?(Fe(r[0],o[1])>Fe(r[0],r[1])&&(r[1]=o[1]),Fe(o[0],r[1])>Fe(r[0],r[1])&&(r[0]=o[0])):i.push(r=o);for(a=-1/0,t=0,r=i[e=i.length-1];t<=e;r=o,++t)o=i[t],(u=Fe(r[1],o[0]))>a&&(a=u,ae=o[0],ce=r[1])}return ve=de=null,ae===1/0||ue===1/0?[[NaN,NaN],[NaN,NaN]]:[[ae,ue],[ce,se]]}var Ue,We,Ye={sphere:Rt,point:$e,lineStart:Xe,lineEnd:Ze,polygonStart:function(){Ye.lineStart=nr,Ye.lineEnd=tr},polygonEnd:function(){Ye.lineStart=Xe,Ye.lineEnd=Ze}};function $e(n,t){n*=mt;var e=xt(t*=mt);Je(e*xt(n),e*jt(n),jt(t))}function Je(n,t,e){++ge,me+=(n-me)/ge,we+=(t-we)/ge,_e+=(e-_e)/ge}function Xe(){Ye.point=Qe}function Qe(n,t){n*=mt;var e=xt(t*=mt);Ce=e*xt(n),Pe=e*jt(n),Oe=jt(t),Ye.point=Ke,Je(Ce,Pe,Oe)}function Ke(n,t){n*=mt;var e=xt(t*=mt),r=e*xt(n),o=e*jt(n),i=jt(t),a=bt(Ct((a=Pe*i-Oe*o)*a+(a=Oe*r-Ce*i)*a+(a=Ce*o-Pe*r)*a),Ce*r+Pe*o+Oe*i);ye+=a,be+=a*(Ce+(Ce=r)),xe+=a*(Pe+(Pe=o)),Ee+=a*(Oe+(Oe=i)),Je(Ce,Pe,Oe)}function Ze(){Ye.point=$e}function nr(){Ye.point=er}function tr(){rr(je,ke),Ye.point=$e}function er(n,t){je=n,ke=t,n*=mt,t*=mt,Ye.point=rr;var e=xt(t);Ce=e*xt(n),Pe=e*jt(n),Oe=jt(t),Je(Ce,Pe,Oe)}function rr(n,t){n*=mt;var e=xt(t*=mt),r=e*xt(n),o=e*jt(n),i=jt(t),a=Pe*i-Oe*o,u=Oe*r-Ce*i,c=Ce*o-Pe*r,s=Ct(a*a+u*u+c*c),f=At(s),l=s&&-f/s;Se+=l*a,Me+=l*u,Te+=l*c,ye+=f,be+=f*(Ce+(Ce=r)),xe+=f*(Pe+(Pe=o)),Ee+=f*(Oe+(Oe=i)),Je(Ce,Pe,Oe)}function or(n){ge=ye=me=we=_e=be=xe=Ee=Se=Me=Te=0,qt(n,Ye);var t=Se,e=Me,r=Te,o=t*t+e*e+r*r;return o<1e-12&&(t=be,e=xe,r=Ee,ye<1e-6&&(t=me,e=we,r=_e),(o=t*t+e*e+r*r)<1e-12)?[NaN,NaN]:[bt(e,t)*yt,At(r/Ct(o))*yt]}function ir(n){return function(){return n}}function ar(n,t){function e(e,r){return e=n(e,r),t(e[0],e[1])}return n.invert&&t.invert&&(e.invert=function(e,r){return(e=t.invert(e,r))&&n.invert(e[0],e[1])}),e}function ur(n,t){return[n>pt?n-gt:n<-pt?n+gt:n,t]}function cr(n,t,e){return(n%=gt)?t||e?ar(fr(n),lr(t,e)):fr(n):t||e?lr(t,e):ur}function sr(n){return function(t,e){return[(t+=n)>pt?t-gt:t<-pt?t+gt:t,e]}}function fr(n){var t=sr(n);return t.invert=sr(-n),t}function lr(n,t){var e=xt(n),r=jt(n),o=xt(t),i=jt(t);function a(n,t){var a=xt(t),u=xt(n)*a,c=jt(n)*a,s=jt(t),f=s*e+u*r;return[bt(c*o-f*i,u*e-s*r),At(f*o+c*i)]}return a.invert=function(n,t){var a=xt(t),u=xt(n)*a,c=jt(n)*a,s=jt(t),f=s*o-c*i;return[bt(c*o+s*i,u*e+f*r),At(f*e-u*r)]},a}function hr(n){function t(t){return(t=n(t[0]*mt,t[1]*mt))[0]*=yt,t[1]*=yt,t}return n=cr(n[0]*mt,n[1]*mt,n.length>2?n[2]*mt:0),t.invert=function(t){return(t=n.invert(t[0]*mt,t[1]*mt))[0]*=yt,t[1]*=yt,t},t}function pr(n,t,e,r,o,i){if(e){var a=xt(t),u=jt(t),c=r*e;null==o?(o=t+r*gt,i=t-c/2):(o=vr(a,o),i=vr(a,i),(r>0?o<i:o>i)&&(o+=r*gt));for(var s,f=o;r>0?f>i:f<i;f-=c)s=Zt([a,-u*xt(f),-u*jt(f)]),n.point(s[0],s[1])}}function vr(n,t){(t=ne(t))[0]-=n,ie(t);var e=Ot(-t[1]);return((-t[2]<0?-e:e)+gt-1e-6)%gt}function dr(){var n,t,e=ir([0,0]),r=ir(90),o=ir(6),i={point:function(e,r){n.push(e=t(e,r)),e[0]*=yt,e[1]*=yt}};function a(){var a=e.apply(this,arguments),u=r.apply(this,arguments)*mt,c=o.apply(this,arguments)*mt;return n=[],t=cr(-a[0]*mt,-a[1]*mt,0).invert,pr(i,u,c,1),a={type:"Polygon",coordinates:[n]},n=t=null,a}return a.center=function(n){return arguments.length?(e="function"==typeof n?n:ir([+n[0],+n[1]]),a):e},a.radius=function(n){return arguments.length?(r="function"==typeof n?n:ir(+n),a):r},a.precision=function(n){return arguments.length?(o="function"==typeof n?n:ir(+n),a):o},a}function gr(){var n,t=[];return{point:function(t,e){n.push([t,e])},lineStart:function(){t.push(n=[])},lineEnd:Rt,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var e=t;return t=[],n=null,e}}}function yr(n,t){return wt(n[0]-t[0])<1e-6&&wt(n[1]-t[1])<1e-6}function mr(n,t,e,r){this.x=n,this.z=t,this.o=e,this.e=r,this.v=!1,this.n=this.p=null}function wr(n,t,e,r,o){var i,a,u=[],c=[];if(n.forEach((function(n){if(!((t=n.length-1)<=0)){var t,e,r=n[0],a=n[t];if(yr(r,a)){for(o.lineStart(),i=0;i<t;++i)o.point((r=n[i])[0],r[1]);o.lineEnd()}else u.push(e=new mr(r,n,null,!0)),c.push(e.o=new mr(r,null,e,!1)),u.push(e=new mr(a,n,null,!1)),c.push(e.o=new mr(a,null,e,!0))}})),u.length){for(c.sort(t),_r(u),_r(c),i=0,a=c.length;i<a;++i)c[i].e=e=!e;for(var s,f,l=u[0];;){for(var h=l,p=!0;h.v;)if((h=h.n)===l)return;s=h.z,o.lineStart();do{if(h.v=h.o.v=!0,h.e){if(p)for(i=0,a=s.length;i<a;++i)o.point((f=s[i])[0],f[1]);else r(h.x,h.n.x,1,o);h=h.n}else{if(p)for(s=h.p.z,i=s.length-1;i>=0;--i)o.point((f=s[i])[0],f[1]);else r(h.x,h.p.x,-1,o);h=h.p}s=(h=h.o).z,p=!p}while(!h.v);o.lineEnd()}}}function _r(n){if(t=n.length){for(var t,e,r=0,o=n[0];++r<t;)o.n=e=n[r],e.p=o,o=e;o.n=e=n[0],e.p=o}}function br(n,t){return n<t?-1:n>t?1:n>=t?0:NaN}function xr(n,t,e){n=+n,t=+t,e=(o=arguments.length)<2?(t=n,n=0,1):o<3?1:+e;for(var r=-1,o=0|Math.max(0,Math.ceil((t-n)/e)),i=new Array(o);++r<o;)i[r]=n+r*e;return i}function Er(n){for(var t,e,r,o=n.length,i=-1,a=0;++i<o;)a+=n[i].length;for(e=new Array(a);--o>=0;)for(t=(r=n[o]).length;--t>=0;)e[--a]=r[t];return e}ur.invert=ur,1===(Ue=br).length&&(We=Ue,Ue=function(n,t){return br(We(n),t)});function Sr(n,t,e,r){function o(o,i){return n<=o&&o<=e&&t<=i&&i<=r}function i(o,i,u,s){var f=0,l=0;if(null==o||(f=a(o,u))!==(l=a(i,u))||c(o,i)<0^u>0)do{s.point(0===f||3===f?n:e,f>1?r:t)}while((f=(f+u+4)%4)!==l);else s.point(i[0],i[1])}function a(r,o){return wt(r[0]-n)<1e-6?o>0?0:3:wt(r[0]-e)<1e-6?o>0?2:1:wt(r[1]-t)<1e-6?o>0?1:0:o>0?3:2}function u(n,t){return c(n.x,t.x)}function c(n,t){var e=a(n,1),r=a(t,1);return e!==r?e-r:0===e?t[1]-n[1]:1===e?n[0]-t[0]:2===e?n[1]-t[1]:t[0]-n[0]}return function(a){var c,s,f,l,h,p,v,d,g,y,m,w=a,_=gr(),b={point:x,lineStart:function(){b.point=E,s&&s.push(f=[]);y=!0,g=!1,v=d=NaN},lineEnd:function(){c&&(E(l,h),p&&g&&_.rejoin(),c.push(_.result()));b.point=x,g&&w.lineEnd()},polygonStart:function(){w=_,c=[],s=[],m=!0},polygonEnd:function(){var t=function(){for(var t=0,e=0,o=s.length;e<o;++e)for(var i,a,u=s[e],c=1,f=u.length,l=u[0],h=l[0],p=l[1];c<f;++c)i=h,a=p,h=(l=u[c])[0],p=l[1],a<=r?p>r&&(h-i)*(r-a)>(p-a)*(n-i)&&++t:p<=r&&(h-i)*(r-a)<(p-a)*(n-i)&&--t;return t}(),e=m&&t,o=(c=Er(c)).length;(e||o)&&(a.polygonStart(),e&&(a.lineStart(),i(null,null,1,a),a.lineEnd()),o&&wr(c,u,t,i,a),a.polygonEnd());w=a,c=s=f=null}};function x(n,t){o(n,t)&&w.point(n,t)}function E(i,a){var u=o(i,a);if(s&&f.push([i,a]),y)l=i,h=a,p=u,y=!1,u&&(w.lineStart(),w.point(i,a));else if(u&&g)w.point(i,a);else{var c=[v=Math.max(-1e9,Math.min(1e9,v)),d=Math.max(-1e9,Math.min(1e9,d))],_=[i=Math.max(-1e9,Math.min(1e9,i)),a=Math.max(-1e9,Math.min(1e9,a))];!function(n,t,e,r,o,i){var a,u=n[0],c=n[1],s=0,f=1,l=t[0]-u,h=t[1]-c;if(a=e-u,l||!(a>0)){if(a/=l,l<0){if(a<s)return;a<f&&(f=a)}else if(l>0){if(a>f)return;a>s&&(s=a)}if(a=o-u,l||!(a<0)){if(a/=l,l<0){if(a>f)return;a>s&&(s=a)}else if(l>0){if(a<s)return;a<f&&(f=a)}if(a=r-c,h||!(a>0)){if(a/=h,h<0){if(a<s)return;a<f&&(f=a)}else if(h>0){if(a>f)return;a>s&&(s=a)}if(a=i-c,h||!(a<0)){if(a/=h,h<0){if(a>f)return;a>s&&(s=a)}else if(h>0){if(a<s)return;a<f&&(f=a)}return s>0&&(n[0]=u+s*l,n[1]=c+s*h),f<1&&(t[0]=u+f*l,t[1]=c+f*h),!0}}}}}(c,_,n,t,e,r)?u&&(w.lineStart(),w.point(i,a),m=!1):(g||(w.lineStart(),w.point(c[0],c[1])),w.point(_[0],_[1]),u||w.lineEnd(),m=!1)}v=i,d=a,g=u}return b}}var Mr=st();function Tr(n,t){var e=t[0],r=t[1],o=[jt(e),-xt(e),0],i=0,a=0;Mr.reset();for(var u=0,c=n.length;u<c;++u)if(f=(s=n[u]).length)for(var s,f,l=s[f-1],h=l[0],p=l[1]/2+dt,v=jt(p),d=xt(p),g=0;g<f;++g,h=m,v=_,d=b,l=y){var y=s[g],m=y[0],w=y[1]/2+dt,_=jt(w),b=xt(w),x=m-h,E=x>=0?1:-1,S=E*x,M=S>pt,T=v*_;if(Mr.add(bt(T*E*jt(S),d*b+T*xt(S))),i+=M?x+E*gt:x,M^h>=e^m>=e){var j=ee(ne(l),ne(y));ie(j);var k=ee(o,j);ie(k);var C=(M^x>=0?-1:1)*At(k[2]);(r>C||r===C&&(j[0]||j[1]))&&(a+=M^x>=0?1:-1)}}return(i<-1e-6||i<1e-6&&Mr<-1e-6)^1&a}var jr,kr,Cr,Pr=st(),Or={sphere:Rt,point:Rt,lineStart:function(){Or.point=Nr,Or.lineEnd=Ar},lineEnd:Rt,polygonStart:Rt,polygonEnd:Rt};function Ar(){Or.point=Or.lineEnd=Rt}function Nr(n,t){jr=n*=mt,kr=jt(t*=mt),Cr=xt(t),Or.point=Rr}function Rr(n,t){n*=mt;var e=jt(t*=mt),r=xt(t),o=wt(n-jr),i=xt(o),a=r*jt(o),u=Cr*e-kr*r*i,c=kr*e+Cr*r*i;Pr.add(bt(Ct(a*a+u*u),c)),jr=n,kr=e,Cr=r}function Ir(n){return Pr.reset(),qt(n,Or),+Pr}var Dr=[null,null],Lr={type:"LineString",coordinates:Dr};function Br(n,t){return Dr[0]=n,Dr[1]=t,Ir(Lr)}var zr={Feature:function(n,t){return Fr(n.geometry,t)},FeatureCollection:function(n,t){for(var e=n.features,r=-1,o=e.length;++r<o;)if(Fr(e[r].geometry,t))return!0;return!1}},qr={Sphere:function(){return!0},Point:function(n,t){return Gr(n.coordinates,t)},MultiPoint:function(n,t){for(var e=n.coordinates,r=-1,o=e.length;++r<o;)if(Gr(e[r],t))return!0;return!1},LineString:function(n,t){return Vr(n.coordinates,t)},MultiLineString:function(n,t){for(var e=n.coordinates,r=-1,o=e.length;++r<o;)if(Vr(e[r],t))return!0;return!1},Polygon:function(n,t){return Hr(n.coordinates,t)},MultiPolygon:function(n,t){for(var e=n.coordinates,r=-1,o=e.length;++r<o;)if(Hr(e[r],t))return!0;return!1},GeometryCollection:function(n,t){for(var e=n.geometries,r=-1,o=e.length;++r<o;)if(Fr(e[r],t))return!0;return!1}};function Fr(n,t){return!(!n||!qr.hasOwnProperty(n.type))&&qr[n.type](n,t)}function Gr(n,t){return 0===Br(n,t)}function Vr(n,t){var e=Br(n[0],n[1]);return Br(n[0],t)+Br(t,n[1])<=e+1e-6}function Hr(n,t){return!!Tr(n.map(Ur),Wr(t))}function Ur(n){return(n=n.map(Wr)).pop(),n}function Wr(n){return[n[0]*mt,n[1]*mt]}function Yr(n,t,e){var r=xr(n,t-1e-6,e).concat(t);return function(n){return r.map((function(t){return[n,t]}))}}function $r(n,t,e){var r=xr(n,t-1e-6,e).concat(t);return function(n){return r.map((function(t){return[t,n]}))}}function Jr(){var n,t,e,r,o,i,a,u,c,s,f,l,h=10,p=h,v=90,d=360,g=2.5;function y(){return{type:"MultiLineString",coordinates:m()}}function m(){return xr(Et(r/v)*v,e,v).map(f).concat(xr(Et(u/d)*d,a,d).map(l)).concat(xr(Et(t/h)*h,n,h).filter((function(n){return wt(n%v)>1e-6})).map(c)).concat(xr(Et(i/p)*p,o,p).filter((function(n){return wt(n%d)>1e-6})).map(s))}return y.lines=function(){return m().map((function(n){return{type:"LineString",coordinates:n}}))},y.outline=function(){return{type:"Polygon",coordinates:[f(r).concat(l(a).slice(1),f(e).reverse().slice(1),l(u).reverse().slice(1))]}},y.extent=function(n){return arguments.length?y.extentMajor(n).extentMinor(n):y.extentMinor()},y.extentMajor=function(n){return arguments.length?(r=+n[0][0],e=+n[1][0],u=+n[0][1],a=+n[1][1],r>e&&(n=r,r=e,e=n),u>a&&(n=u,u=a,a=n),y.precision(g)):[[r,u],[e,a]]},y.extentMinor=function(e){return arguments.length?(t=+e[0][0],n=+e[1][0],i=+e[0][1],o=+e[1][1],t>n&&(e=t,t=n,n=e),i>o&&(e=i,i=o,o=e),y.precision(g)):[[t,i],[n,o]]},y.step=function(n){return arguments.length?y.stepMajor(n).stepMinor(n):y.stepMinor()},y.stepMajor=function(n){return arguments.length?(v=+n[0],d=+n[1],y):[v,d]},y.stepMinor=function(n){return arguments.length?(h=+n[0],p=+n[1],y):[h,p]},y.precision=function(h){return arguments.length?(g=+h,c=Yr(i,o,90),s=$r(t,n,g),f=Yr(u,a,90),l=$r(r,e,g),y):g},y.extentMajor([[-180,-89.999999],[180,89.999999]]).extentMinor([[-180,-80.000001],[180,80.000001]])}function Xr(n,t){var e=n[0]*mt,r=n[1]*mt,o=t[0]*mt,i=t[1]*mt,a=xt(r),u=jt(r),c=xt(i),s=jt(i),f=a*xt(e),l=a*jt(e),h=c*xt(o),p=c*jt(o),v=2*At(Ct(Nt(i-r)+a*c*Nt(o-e))),d=jt(v),g=v?function(n){var t=jt(n*=v)/d,e=jt(v-n)/d,r=e*f+t*h,o=e*l+t*p,i=e*u+t*s;return[bt(o,r)*yt,bt(i,Ct(r*r+o*o))*yt]}:function(){return[e*yt,r*yt]};return g.distance=v,g}function Qr(n){return n}var Kr,Zr,no,to,eo=st(),ro=st(),oo={point:Rt,lineStart:Rt,lineEnd:Rt,polygonStart:function(){oo.lineStart=io,oo.lineEnd=co},polygonEnd:function(){oo.lineStart=oo.lineEnd=oo.point=Rt,eo.add(wt(ro)),ro.reset()},result:function(){var n=eo/2;return eo.reset(),n}};function io(){oo.point=ao}function ao(n,t){oo.point=uo,Kr=no=n,Zr=to=t}function uo(n,t){ro.add(to*n-no*t),no=n,to=t}function co(){uo(Kr,Zr)}var so=1/0,fo=so,lo=-so,ho=lo,po={point:function(n,t){n<so&&(so=n);n>lo&&(lo=n);t<fo&&(fo=t);t>ho&&(ho=t)},lineStart:Rt,lineEnd:Rt,polygonStart:Rt,polygonEnd:Rt,result:function(){var n=[[so,fo],[lo,ho]];return lo=ho=-(fo=so=1/0),n}};var vo,go,yo,mo,wo=0,_o=0,bo=0,xo=0,Eo=0,So=0,Mo=0,To=0,jo=0,ko={point:Co,lineStart:Po,lineEnd:No,polygonStart:function(){ko.lineStart=Ro,ko.lineEnd=Io},polygonEnd:function(){ko.point=Co,ko.lineStart=Po,ko.lineEnd=No},result:function(){var n=jo?[Mo/jo,To/jo]:So?[xo/So,Eo/So]:bo?[wo/bo,_o/bo]:[NaN,NaN];return wo=_o=bo=xo=Eo=So=Mo=To=jo=0,n}};function Co(n,t){wo+=n,_o+=t,++bo}function Po(){ko.point=Oo}function Oo(n,t){ko.point=Ao,Co(yo=n,mo=t)}function Ao(n,t){var e=n-yo,r=t-mo,o=Ct(e*e+r*r);xo+=o*(yo+n)/2,Eo+=o*(mo+t)/2,So+=o,Co(yo=n,mo=t)}function No(){ko.point=Co}function Ro(){ko.point=Do}function Io(){Lo(vo,go)}function Do(n,t){ko.point=Lo,Co(vo=yo=n,go=mo=t)}function Lo(n,t){var e=n-yo,r=t-mo,o=Ct(e*e+r*r);xo+=o*(yo+n)/2,Eo+=o*(mo+t)/2,So+=o,Mo+=(o=mo*n-yo*t)*(yo+n),To+=o*(mo+t),jo+=3*o,Co(yo=n,mo=t)}function Bo(n){this._context=n}Bo.prototype={_radius:4.5,pointRadius:function(n){return this._radius=n,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(n,t){switch(this._point){case 0:this._context.moveTo(n,t),this._point=1;break;case 1:this._context.lineTo(n,t);break;default:this._context.moveTo(n+this._radius,t),this._context.arc(n,t,this._radius,0,gt)}},result:Rt};var zo,qo,Fo,Go,Vo,Ho=st(),Uo={point:Rt,lineStart:function(){Uo.point=Wo},lineEnd:function(){zo&&Yo(qo,Fo),Uo.point=Rt},polygonStart:function(){zo=!0},polygonEnd:function(){zo=null},result:function(){var n=+Ho;return Ho.reset(),n}};function Wo(n,t){Uo.point=Yo,qo=Go=n,Fo=Vo=t}function Yo(n,t){Go-=n,Vo-=t,Ho.add(Ct(Go*Go+Vo*Vo)),Go=n,Vo=t}function $o(){this._string=[]}function Jo(n){return"m0,"+n+"a"+n+","+n+" 0 1,1 0,"+-2*n+"a"+n+","+n+" 0 1,1 0,"+2*n+"z"}function Xo(n,t,e,r){return function(o,i){var a,u,c,s=t(i),f=o.invert(r[0],r[1]),l=gr(),h=t(l),p=!1,v={point:d,lineStart:y,lineEnd:m,polygonStart:function(){v.point=w,v.lineStart=_,v.lineEnd=b,u=[],a=[]},polygonEnd:function(){v.point=d,v.lineStart=y,v.lineEnd=m,u=Er(u);var n=Tr(a,f);u.length?(p||(i.polygonStart(),p=!0),wr(u,Ko,n,e,i)):n&&(p||(i.polygonStart(),p=!0),i.lineStart(),e(null,null,1,i),i.lineEnd()),p&&(i.polygonEnd(),p=!1),u=a=null},sphere:function(){i.polygonStart(),i.lineStart(),e(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function d(t,e){var r=o(t,e);n(t=r[0],e=r[1])&&i.point(t,e)}function g(n,t){var e=o(n,t);s.point(e[0],e[1])}function y(){v.point=g,s.lineStart()}function m(){v.point=d,s.lineEnd()}function w(n,t){c.push([n,t]);var e=o(n,t);h.point(e[0],e[1])}function _(){h.lineStart(),c=[]}function b(){w(c[0][0],c[0][1]),h.lineEnd();var n,t,e,r,o=h.clean(),s=l.result(),f=s.length;if(c.pop(),a.push(c),c=null,f)if(1&o){if((t=(e=s[0]).length-1)>0){for(p||(i.polygonStart(),p=!0),i.lineStart(),n=0;n<t;++n)i.point((r=e[n])[0],r[1]);i.lineEnd()}}else f>1&&2&o&&s.push(s.pop().concat(s.shift())),u.push(s.filter(Qo))}return v}}function Qo(n){return n.length>1}function Ko(n,t){return((n=n.x)[0]<0?n[1]-vt-1e-6:vt-n[1])-((t=t.x)[0]<0?t[1]-vt-1e-6:vt-t[1])}$o.prototype={_radius:4.5,_circle:Jo(4.5),pointRadius:function(n){return(n=+n)!==this._radius&&(this._radius=n,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(n,t){switch(this._point){case 0:this._string.push("M",n,",",t),this._point=1;break;case 1:this._string.push("L",n,",",t);break;default:null==this._circle&&(this._circle=Jo(this._radius)),this._string.push("M",n,",",t,this._circle)}},result:function(){if(this._string.length){var n=this._string.join("");return this._string=[],n}return null}};var Zo=Xo((function(){return!0}),(function(n){var t,e=NaN,r=NaN,o=NaN;return{lineStart:function(){n.lineStart(),t=1},point:function(i,a){var u=i>0?pt:-pt,c=wt(i-e);wt(c-pt)<1e-6?(n.point(e,r=(r+a)/2>0?vt:-vt),n.point(o,r),n.lineEnd(),n.lineStart(),n.point(u,r),n.point(i,r),t=0):o!==u&&c>=pt&&(wt(e-o)<1e-6&&(e-=1e-6*o),wt(i-u)<1e-6&&(i-=1e-6*u),r=function(n,t,e,r){var o,i,a=jt(n-e);return wt(a)>1e-6?_t((jt(t)*(i=xt(r))*jt(e)-jt(r)*(o=xt(t))*jt(n))/(o*i*a)):(t+r)/2}(e,r,i,a),n.point(o,r),n.lineEnd(),n.lineStart(),n.point(u,r),t=0),n.point(e=i,r=a),o=u},lineEnd:function(){n.lineEnd(),e=r=NaN},clean:function(){return 2-t}}}),(function(n,t,e,r){var o;if(null==n)o=e*vt,r.point(-pt,o),r.point(0,o),r.point(pt,o),r.point(pt,0),r.point(pt,-o),r.point(0,-o),r.point(-pt,-o),r.point(-pt,0),r.point(-pt,o);else if(wt(n[0]-t[0])>1e-6){var i=n[0]<t[0]?pt:-pt;o=e*i/2,r.point(-i,o),r.point(0,o),r.point(i,o)}else r.point(t[0],t[1])}),[-pt,-vt]);function ni(n,t){var e=xt(n),r=e>0,o=wt(e)>1e-6;function i(n,t){return xt(n)*xt(t)>e}function a(n,t,r){var o=[1,0,0],i=ee(ne(n),ne(t)),a=te(i,i),u=i[0],c=a-u*u;if(!c)return!r&&n;var s=e*a/c,f=-e*u/c,l=ee(o,i),h=oe(o,s);re(h,oe(i,f));var p=l,v=te(h,p),d=te(p,p),g=v*v-d*(te(h,h)-1);if(!(g<0)){var y=Ct(g),m=oe(p,(-v-y)/d);if(re(m,h),m=Zt(m),!r)return m;var w,_=n[0],b=t[0],x=n[1],E=t[1];b<_&&(w=_,_=b,b=w);var S=b-_,M=wt(S-pt)<1e-6;if(!M&&E<x&&(w=x,x=E,E=w),M||S<1e-6?M?x+E>0^m[1]<(wt(m[0]-_)<1e-6?x:E):x<=m[1]&&m[1]<=E:S>pt^(_<=m[0]&&m[0]<=b)){var T=oe(p,(-v+y)/d);return re(T,h),[m,Zt(T)]}}}function u(t,e){var o=r?n:pt-n,i=0;return t<-o?i|=1:t>o&&(i|=2),e<-o?i|=4:e>o&&(i|=8),i}return Xo(i,(function(n){var t,e,c,s,f;return{lineStart:function(){s=c=!1,f=1},point:function(l,h){var p,v=[l,h],d=i(l,h),g=r?d?0:u(l,h):d?u(l+(l<0?pt:-pt),h):0;if(!t&&(s=c=d)&&n.lineStart(),d!==c&&(!(p=a(t,v))||yr(t,p)||yr(v,p))&&(v[0]+=1e-6,v[1]+=1e-6,d=i(v[0],v[1])),d!==c)f=0,d?(n.lineStart(),p=a(v,t),n.point(p[0],p[1])):(p=a(t,v),n.point(p[0],p[1]),n.lineEnd()),t=p;else if(o&&t&&r^d){var y;g&e||!(y=a(v,t,!0))||(f=0,r?(n.lineStart(),n.point(y[0][0],y[0][1]),n.point(y[1][0],y[1][1]),n.lineEnd()):(n.point(y[1][0],y[1][1]),n.lineEnd(),n.lineStart(),n.point(y[0][0],y[0][1])))}!d||t&&yr(t,v)||n.point(v[0],v[1]),t=v,c=d,e=g},lineEnd:function(){c&&n.lineEnd(),t=null},clean:function(){return f|(s&&c)<<1}}}),(function(e,r,o,i){pr(i,n,t,o,e,r)}),r?[0,-n]:[-pt,n-pt])}function ti(n){return function(t){var e=new ei;for(var r in n)e[r]=n[r];return e.stream=t,e}}function ei(){}function ri(n,t,e){var r=t[1][0]-t[0][0],o=t[1][1]-t[0][1],i=n.clipExtent&&n.clipExtent();n.scale(150).translate([0,0]),null!=i&&n.clipExtent(null),qt(e,n.stream(po));var a=po.result(),u=Math.min(r/(a[1][0]-a[0][0]),o/(a[1][1]-a[0][1])),c=+t[0][0]+(r-u*(a[1][0]+a[0][0]))/2,s=+t[0][1]+(o-u*(a[1][1]+a[0][1]))/2;return null!=i&&n.clipExtent(i),n.scale(150*u).translate([c,s])}function oi(n,t,e){return ri(n,[[0,0],t],e)}ei.prototype={constructor:ei,point:function(n,t){this.stream.point(n,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var ii=xt(30*mt);function ai(n,t){return+t?function(n,t){function e(r,o,i,a,u,c,s,f,l,h,p,v,d,g){var y=s-r,m=f-o,w=y*y+m*m;if(w>4*t&&d--){var _=a+h,b=u+p,x=c+v,E=Ct(_*_+b*b+x*x),S=At(x/=E),M=wt(wt(x)-1)<1e-6||wt(i-l)<1e-6?(i+l)/2:bt(b,_),T=n(M,S),j=T[0],k=T[1],C=j-r,P=k-o,O=m*C-y*P;(O*O/w>t||wt((y*C+m*P)/w-.5)>.3||a*h+u*p+c*v<ii)&&(e(r,o,i,a,u,c,j,k,M,_/=E,b/=E,x,d,g),g.point(j,k),e(j,k,M,_,b,x,s,f,l,h,p,v,d,g))}}return function(t){var r,o,i,a,u,c,s,f,l,h,p,v,d={point:g,lineStart:y,lineEnd:w,polygonStart:function(){t.polygonStart(),d.lineStart=_},polygonEnd:function(){t.polygonEnd(),d.lineStart=y}};function g(e,r){e=n(e,r),t.point(e[0],e[1])}function y(){f=NaN,d.point=m,t.lineStart()}function m(r,o){var i=ne([r,o]),a=n(r,o);e(f,l,s,h,p,v,f=a[0],l=a[1],s=r,h=i[0],p=i[1],v=i[2],16,t),t.point(f,l)}function w(){d.point=g,t.lineEnd()}function _(){y(),d.point=b,d.lineEnd=x}function b(n,t){m(r=n,t),o=f,i=l,a=h,u=p,c=v,d.point=m}function x(){e(f,l,s,h,p,v,o,i,r,a,u,c,16,t),d.lineEnd=w,w()}return d}}(n,t):function(n){return ti({point:function(t,e){t=n(t,e),this.stream.point(t[0],t[1])}})}(n)}var ui=ti({point:function(n,t){this.stream.point(n*mt,t*mt)}});function ci(n){return si((function(){return n}))()}function si(n){var t,e,r,o,i,a,u,c,s,f,l=150,h=480,p=250,v=0,d=0,g=0,y=0,m=0,w=null,_=Zo,b=null,x=Qr,E=.5,S=ai(j,E);function M(n){return[(n=i(n[0]*mt,n[1]*mt))[0]*l+e,r-n[1]*l]}function T(n){return(n=i.invert((n[0]-e)/l,(r-n[1])/l))&&[n[0]*yt,n[1]*yt]}function j(n,o){return[(n=t(n,o))[0]*l+e,r-n[1]*l]}function k(){i=ar(o=cr(g,y,m),t);var n=t(v,d);return e=h-n[0]*l,r=p+n[1]*l,C()}function C(){return s=f=null,M}return M.stream=function(n){return s&&f===n?s:s=ui(_(o,S(x(f=n))))},M.clipAngle=function(n){return arguments.length?(_=+n?ni(w=n*mt,6*mt):(w=null,Zo),C()):w*yt},M.clipExtent=function(n){return arguments.length?(x=null==n?(b=a=u=c=null,Qr):Sr(b=+n[0][0],a=+n[0][1],u=+n[1][0],c=+n[1][1]),C()):null==b?null:[[b,a],[u,c]]},M.scale=function(n){return arguments.length?(l=+n,k()):l},M.translate=function(n){return arguments.length?(h=+n[0],p=+n[1],k()):[h,p]},M.center=function(n){return arguments.length?(v=n[0]%360*mt,d=n[1]%360*mt,k()):[v*yt,d*yt]},M.rotate=function(n){return arguments.length?(g=n[0]%360*mt,y=n[1]%360*mt,m=n.length>2?n[2]%360*mt:0,k()):[g*yt,y*yt,m*yt]},M.precision=function(n){return arguments.length?(S=ai(j,E=n*n),C()):Ct(E)},M.fitExtent=function(n,t){return ri(M,n,t)},M.fitSize=function(n,t){return oi(M,n,t)},function(){return t=n.apply(this,arguments),M.invert=t.invert&&T,k()}}function fi(n){var t=0,e=pt/3,r=si(n),o=r(t,e);return o.parallels=function(n){return arguments.length?r(t=n[0]*mt,e=n[1]*mt):[t*yt,e*yt]},o}function li(n,t){var e=jt(n),r=(e+jt(t))/2;if(wt(r)<1e-6)return function(n){var t=xt(n);function e(n,e){return[n*t,jt(e)/t]}return e.invert=function(n,e){return[n/t,At(e*t)]},e}(n);var o=1+e*(2*r-e),i=Ct(o)/r;function a(n,t){var e=Ct(o-2*r*jt(t))/r;return[e*jt(n*=r),i-e*xt(n)]}return a.invert=function(n,t){var e=i-t;return[bt(n,wt(e))/r*kt(e),At((o-(n*n+e*e)*r*r)/(2*r))]},a}function hi(){return fi(li).scale(155.424).center([0,33.6442])}function pi(){return hi().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function vi(n){return function(t,e){var r=xt(t),o=xt(e),i=n(r*o);return[i*o*jt(t),i*jt(e)]}}function di(n){return function(t,e){var r=Ct(t*t+e*e),o=n(r),i=jt(o),a=xt(o);return[bt(t*i,r*a),At(r&&e*i/r)]}}var gi=vi((function(n){return Ct(2/(1+n))}));gi.invert=di((function(n){return 2*At(n/2)}));var yi=vi((function(n){return(n=Ot(n))&&n/jt(n)}));function mi(n,t){return[n,Mt(Pt((vt+t)/2))]}function wi(n){var t,e,r,o=ci(n),i=o.center,a=o.scale,u=o.translate,c=o.clipExtent,s=null;function f(){var i=pt*a(),u=o(hr(o.rotate()).invert([0,0]));return c(null==s?[[u[0]-i,u[1]-i],[u[0]+i,u[1]+i]]:n===mi?[[Math.max(u[0]-i,s),t],[Math.min(u[0]+i,e),r]]:[[s,Math.max(u[1]-i,t)],[e,Math.min(u[1]+i,r)]])}return o.scale=function(n){return arguments.length?(a(n),f()):a()},o.translate=function(n){return arguments.length?(u(n),f()):u()},o.center=function(n){return arguments.length?(i(n),f()):i()},o.clipExtent=function(n){return arguments.length?(null==n?s=t=e=r=null:(s=+n[0][0],t=+n[0][1],e=+n[1][0],r=+n[1][1]),f()):null==s?null:[[s,t],[e,r]]},f()}function _i(n){return Pt((vt+n)/2)}function bi(n,t){var e=xt(n),r=n===t?jt(n):Mt(e/xt(t))/Mt(_i(t)/_i(n)),o=e*Tt(_i(n),r)/r;if(!r)return mi;function i(n,t){o>0?t<1e-6-vt&&(t=1e-6-vt):t>vt-1e-6&&(t=vt-1e-6);var e=o/Tt(_i(t),r);return[e*jt(r*n),o-e*xt(r*n)]}return i.invert=function(n,t){var e=o-t,i=kt(r)*Ct(n*n+e*e);return[bt(n,wt(e))/r*kt(e),2*_t(Tt(o/i,1/r))-vt]},i}function xi(n,t){return[n,t]}function Ei(){return ci(xi).scale(152.63)}function Si(n,t){var e=xt(n),r=n===t?jt(n):(e-xt(t))/(t-n),o=e/r+n;if(wt(r)<1e-6)return xi;function i(n,t){var e=o-t,i=r*n;return[e*jt(i),o-e*xt(i)]}return i.invert=function(n,t){var e=o-t;return[bt(n,wt(e))/r*kt(e),o-kt(r)*Ct(n*n+e*e)]},i}function Mi(n,t){var e=xt(t),r=xt(n)*e;return[e*jt(n)/r,jt(t)/r]}function Ti(){return ci(Mi).scale(144.049).clipAngle(60)}function ji(n,t,e,r){return 1===n&&1===t&&0===e&&0===r?Qr:ti({point:function(o,i){this.stream.point(o*n+e,i*t+r)}})}function ki(n,t){return[xt(t)*jt(n),jt(t)]}function Ci(){return ci(ki).scale(249.5).clipAngle(90.000001)}function Pi(n,t){var e=xt(t),r=1+xt(n)*e;return[e*jt(n)/r,jt(t)/r]}function Oi(n,t){return[Mt(Pt((vt+t)/2)),-n]}yi.invert=di((function(n){return n})),mi.invert=function(n,t){return[n,2*_t(St(t))-vt]},xi.invert=xi,Mi.invert=di(_t),ki.invert=di(At),Pi.invert=di((function(n){return 2*_t(n)})),Oi.invert=function(n,t){return[-t,2*_t(St(n))-vt]};var Ai=t(Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",geoArea:function(n){return Yt.reset(),qt(n,$t),2*Yt},geoBounds:He,geoCentroid:or,geoCircle:dr,geoClipExtent:function(){var n,t,e,r=0,o=0,i=960,a=500;return e={stream:function(e){return n&&t===e?n:n=Sr(r,o,i,a)(t=e)},extent:function(u){return arguments.length?(r=+u[0][0],o=+u[0][1],i=+u[1][0],a=+u[1][1],n=t=null,e):[[r,o],[i,a]]}}},geoContains:function(n,t){return(n&&zr.hasOwnProperty(n.type)?zr[n.type]:Fr)(n,t)},geoDistance:Br,geoGraticule:Jr,geoGraticule10:function(){return Jr()()},geoInterpolate:Xr,geoLength:Ir,geoPath:function(n,t){var e,r,o=4.5;function i(n){return n&&("function"==typeof o&&r.pointRadius(+o.apply(this,arguments)),qt(n,e(r))),r.result()}return i.area=function(n){return qt(n,e(oo)),oo.result()},i.measure=function(n){return qt(n,e(Uo)),Uo.result()},i.bounds=function(n){return qt(n,e(po)),po.result()},i.centroid=function(n){return qt(n,e(ko)),ko.result()},i.projection=function(t){return arguments.length?(e=null==t?(n=null,Qr):(n=t).stream,i):n},i.context=function(n){return arguments.length?(r=null==n?(t=null,new $o):new Bo(t=n),"function"!=typeof o&&r.pointRadius(o),i):t},i.pointRadius=function(n){return arguments.length?(o="function"==typeof n?n:(r.pointRadius(+n),+n),i):o},i.projection(n).context(t)},geoAlbers:pi,geoAlbersUsa:function(){var n,t,e,r,o,i,a=pi(),u=hi().rotate([154,0]).center([-2,58.5]).parallels([55,65]),c=hi().rotate([157,0]).center([-3,19.9]).parallels([8,18]),s={point:function(n,t){i=[n,t]}};function f(n){var t=n[0],a=n[1];return i=null,e.point(t,a),i||(r.point(t,a),i)||(o.point(t,a),i)}function l(){return n=t=null,f}return f.invert=function(n){var t=a.scale(),e=a.translate(),r=(n[0]-e[0])/t,o=(n[1]-e[1])/t;return(o>=.12&&o<.234&&r>=-.425&&r<-.214?u:o>=.166&&o<.234&&r>=-.214&&r<-.115?c:a).invert(n)},f.stream=function(e){return n&&t===e?n:(r=[a.stream(t=e),u.stream(e),c.stream(e)],o=r.length,n={point:function(n,t){for(var e=-1;++e<o;)r[e].point(n,t)},sphere:function(){for(var n=-1;++n<o;)r[n].sphere()},lineStart:function(){for(var n=-1;++n<o;)r[n].lineStart()},lineEnd:function(){for(var n=-1;++n<o;)r[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<o;)r[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<o;)r[n].polygonEnd()}});var r,o},f.precision=function(n){return arguments.length?(a.precision(n),u.precision(n),c.precision(n),l()):a.precision()},f.scale=function(n){return arguments.length?(a.scale(n),u.scale(.35*n),c.scale(n),f.translate(a.translate())):a.scale()},f.translate=function(n){if(!arguments.length)return a.translate();var t=a.scale(),i=+n[0],f=+n[1];return e=a.translate(n).clipExtent([[i-.455*t,f-.238*t],[i+.455*t,f+.238*t]]).stream(s),r=u.translate([i-.307*t,f+.201*t]).clipExtent([[i-.425*t+1e-6,f+.12*t+1e-6],[i-.214*t-1e-6,f+.234*t-1e-6]]).stream(s),o=c.translate([i-.205*t,f+.212*t]).clipExtent([[i-.214*t+1e-6,f+.166*t+1e-6],[i-.115*t-1e-6,f+.234*t-1e-6]]).stream(s),l()},f.fitExtent=function(n,t){return ri(f,n,t)},f.fitSize=function(n,t){return oi(f,n,t)},f.scale(1070)},geoAzimuthalEqualArea:function(){return ci(gi).scale(124.75).clipAngle(179.999)},geoAzimuthalEqualAreaRaw:gi,geoAzimuthalEquidistant:function(){return ci(yi).scale(79.4188).clipAngle(179.999)},geoAzimuthalEquidistantRaw:yi,geoConicConformal:function(){return fi(bi).scale(109.5).parallels([30,30])},geoConicConformalRaw:bi,geoConicEqualArea:hi,geoConicEqualAreaRaw:li,geoConicEquidistant:function(){return fi(Si).scale(131.154).center([0,13.9389])},geoConicEquidistantRaw:Si,geoEquirectangular:Ei,geoEquirectangularRaw:xi,geoGnomonic:Ti,geoGnomonicRaw:Mi,geoIdentity:function(){var n,t,e,r,o,i,a=1,u=0,c=0,s=1,f=1,l=Qr,h=null,p=Qr;function v(){return r=o=null,i}return i={stream:function(n){return r&&o===n?r:r=l(p(o=n))},clipExtent:function(r){return arguments.length?(p=null==r?(h=n=t=e=null,Qr):Sr(h=+r[0][0],n=+r[0][1],t=+r[1][0],e=+r[1][1]),v()):null==h?null:[[h,n],[t,e]]},scale:function(n){return arguments.length?(l=ji((a=+n)*s,a*f,u,c),v()):a},translate:function(n){return arguments.length?(l=ji(a*s,a*f,u=+n[0],c=+n[1]),v()):[u,c]},reflectX:function(n){return arguments.length?(l=ji(a*(s=n?-1:1),a*f,u,c),v()):s<0},reflectY:function(n){return arguments.length?(l=ji(a*s,a*(f=n?-1:1),u,c),v()):f<0},fitExtent:function(n,t){return ri(i,n,t)},fitSize:function(n,t){return oi(i,n,t)}}},geoProjection:ci,geoProjectionMutator:si,geoMercator:function(){return wi(mi).scale(961/gt)},geoMercatorRaw:mi,geoOrthographic:Ci,geoOrthographicRaw:ki,geoStereographic:function(){return ci(Pi).scale(250).clipAngle(142)},geoStereographicRaw:Pi,geoTransverseMercator:function(){var n=wi(Oi),t=n.center,e=n.rotate;return n.center=function(n){return arguments.length?t([-n[1],n[0]]):[(n=t())[1],-n[0]]},n.rotate=function(n){return arguments.length?e([n[0],n[1],n.length>2?n[2]+90:90]):[(n=e())[0],n[1],n[2]-90]},e([0,0,90]).scale(159.155)},geoTransverseMercatorRaw:Oi,geoRotation:hr,geoStream:qt,geoTransform:function(n){return{stream:ti(n)}}})),Ni=Math.abs,Ri=Math.atan,Ii=Math.atan2,Di=Math.cos,Li=Math.exp,Bi=Math.floor,zi=Math.log,qi=Math.max,Fi=Math.min,Gi=Math.pow,Vi=Math.round,Hi=Math.sign||function(n){return n>0?1:n<0?-1:0},Ui=Math.sin,Wi=Math.tan,Yi=Math.PI,$i=Yi/2,Ji=Yi/4,Xi=Math.SQRT1_2,Qi=oa(2),Ki=oa(Yi),Zi=2*Yi,na=180/Yi,ta=Yi/180;function ea(n){return n>1?$i:n<-1?-$i:Math.asin(n)}function ra(n){return n>1?0:n<-1?Yi:Math.acos(n)}function oa(n){return n>0?Math.sqrt(n):0}function ia(n){return(Li(n)-Li(-n))/2}function aa(n){return(Li(n)+Li(-n))/2}function ua(n){var t=Wi(n/2),e=2*zi(Di(n/2))/(t*t);function r(n,t){var r=Di(n),o=Di(t),i=Ui(t),a=o*r,u=-((1-a?zi((1+a)/2)/(1-a):-.5)+e/(1+a));return[u*o*Ui(n),u*i]}return r.invert=function(t,r){var o,i=oa(t*t+r*r),a=-n/2,u=50;if(!i)return[0,0];do{var c=a/2,s=Di(c),f=Ui(c),l=Wi(c),h=zi(1/s);a-=o=(2/l*h-e*l-i)/(-h/(f*f)+1-e/(2*s*s))}while(Ni(o)>1e-6&&--u>0);var p=Ui(a);return[Ii(t*p,i*Di(a)),ea(r*p/i)]},r}function ca(n,t){var e=Di(t),r=function(n){return n?n/Math.sin(n):1}(ra(e*Di(n/=2)));return[2*e*Ui(n)*r,Ui(t)*r]}function sa(n){var t=Ui(n),e=Di(n),r=n>=0?1:-1,o=Wi(r*n),i=(1+t-e)/2;function a(n,a){var u=Di(a),c=Di(n/=2);return[(1+u)*Ui(n),(r*a>-Ii(c,o)-.001?0:10*-r)+i+Ui(a)*e-(1+u)*t*c]}return a.invert=function(n,a){var u=0,c=0,s=50;do{var f=Di(u),l=Ui(u),h=Di(c),p=Ui(c),v=1+h,d=v*l-n,g=i+p*e-v*t*f-a,y=v*f/2,m=-l*p,w=t*v*l/2,_=e*h+t*f*p,b=m*w-_*y,x=(g*m-d*_)/b/2,E=(d*w-g*y)/b;u-=x,c-=E}while((Ni(x)>1e-6||Ni(E)>1e-6)&&--s>0);return r*c>-Ii(Di(u),o)-.001?[2*u,c]:null},a}function fa(n,t){var e=Wi(t/2),r=oa(1-e*e),o=1+r*Di(n/=2),i=Ui(n)*r/o,a=e/o,u=i*i,c=a*a;return[4/3*i*(3+u-3*c),4/3*a*(3+3*u-c)]}ca.invert=function(n,t){if(!(n*n+4*t*t>Yi*Yi+1e-6)){var e=n,r=t,o=25;do{var i,a=Ui(e),u=Ui(e/2),c=Di(e/2),s=Ui(r),f=Di(r),l=Ui(2*r),h=s*s,p=f*f,v=u*u,d=1-p*c*c,g=d?ra(f*c)*oa(i=1/d):i=0,y=2*g*f*u-n,m=g*s-t,w=i*(p*v+g*f*c*h),_=i*(.5*a*l-2*g*s*u),b=.25*i*(l*u-g*s*p*a),x=i*(h*c+g*v*f),E=_*b-x*w;if(!E)break;var S=(m*_-y*x)/E,M=(y*b-m*w)/E;e-=S,r-=M}while((Ni(S)>1e-6||Ni(M)>1e-6)&&--o>0);return[e,r]}},fa.invert=function(n,t){if(t*=3/8,!(n*=3/8)&&Ni(t)>1)return null;var e=1+n*n+t*t,r=oa((e-oa(e*e-4*t*t))/2),o=ea(r)/3,i=r?function(n){return zi(n+oa(n*n-1))}(Ni(t/r))/3:function(n){return zi(n+oa(n*n+1))}(Ni(n))/3,a=Di(o),u=aa(i),c=u*u-a*a;return[2*Hi(n)*Ii(ia(i)*a,.25-c),2*Hi(t)*Ii(u*Ui(o),.25+c)]};var la=oa(8),ha=zi(1+Qi);function pa(n,t){var e=Ni(t);return e<Ji?[n,zi(Wi(Ji+t/2))]:[n*Di(e)*(2*Qi-1/Ui(e)),Hi(t)*(2*Qi*(e-Ji)-zi(Wi(e/2)))]}function va(n){var t=2*Yi/n;function e(n,e){var r=yi(n,e);if(Ni(n)>$i){var o=Ii(r[1],r[0]),i=oa(r[0]*r[0]+r[1]*r[1]),a=t*Vi((o-$i)/t)+$i,u=Ii(Ui(o-=a),2-Di(o));o=a+ea(Yi/i*Ui(u))-u,r[0]=i*Di(o),r[1]=i*Ui(o)}return r}return e.invert=function(n,e){var r=oa(n*n+e*e);if(r>$i){var o=Ii(e,n),i=t*Vi((o-$i)/t)+$i,a=o>i?-1:1,u=r*Di(i-o),c=1/Wi(a*ra((u-Yi)/oa(Yi*(Yi-2*u)+r*r)));o=i+2*Ri((c+a*oa(c*c-3))/3),n=r*Di(o),e=r*Ui(o)}return yi.invert(n,e)},e}function da(n,t){var e,r=n*Ui(t),o=30;do{t-=e=(t+Ui(t)-r)/(1+Di(t))}while(Ni(e)>1e-6&&--o>0);return t/2}function ga(n,t,e){function r(r,o){return[n*r*Di(o=da(e,o)),t*Ui(o)]}return r.invert=function(r,o){return o=ea(o/t),[r/(n*Di(o)),ea((2*o+Ui(2*o))/e)]},r}pa.invert=function(n,t){if((r=Ni(t))<ha)return[n,2*Ri(Li(t))-$i];var e,r,o=Ji,i=25;do{var a=Di(o/2),u=Wi(o/2);o-=e=(la*(o-Ji)-zi(u)-r)/(la-a*a/(2*u))}while(Ni(e)>1e-12&&--i>0);return[n/(Di(o)*(la-1/Ui(o))),Hi(t)*o]};var ya=ga(Qi/$i,Qi,Yi);var ma=2.00276;function wa(n,t){var e=da(Yi,t);return[ma*n/(1/Di(t)+1.11072/Di(e)),(t+Qi*Ui(e))/ma]}function _a(n){var t=0,e=si(n),r=e(t);return r.parallel=function(n){return arguments.length?e(t=n*ta):t*na},r}function ba(n,t){return[n*Di(t),t]}function xa(n){if(!n)return ba;var t=1/Wi(n);function e(e,r){var o=t+n-r,i=o?e*Di(r)/o:o;return[o*Ui(i),t-o*Di(i)]}return e.invert=function(e,r){var o=oa(e*e+(r=t-r)*r),i=t+n-o;return[o/Di(i)*Ii(e,r),i]},e}function Ea(n){function t(t,e){var r=$i-e,o=r?t*n*Ui(r)/r:r;return[r*Ui(o)/n,$i-r*Di(o)]}return t.invert=function(t,e){var r=t*n,o=$i-e,i=oa(r*r+o*o),a=Ii(r,o);return[(i?i/Ui(i):1)*a/n,$i-i]},t}wa.invert=function(n,t){var e,r,o=ma*t,i=t<0?-Ji:Ji,a=25;do{r=o-Qi*Ui(i),i-=e=(Ui(2*i)+2*i-Yi*Ui(r))/(2*Di(2*i)+2+Yi*Di(r)*Qi*Di(i))}while(Ni(e)>1e-6&&--a>0);return r=o-Qi*Ui(i),[n*(1/Di(r)+1.11072/Di(i))/ma,r]},ba.invert=function(n,t){return[n/Di(t),t]};var Sa=ga(1,4/Yi,Yi);function Ma(n,t,e,r,o,i){var a,u=Di(i);if(Ni(n)>1||Ni(i)>1)a=ra(e*o+t*r*u);else{var c=Ui(n/2),s=Ui(i/2);a=2*ea(oa(c*c+t*r*s*s))}return Ni(a)>1e-6?[a,Ii(r*Ui(i),t*o-e*r*u)]:[0,0]}function Ta(n,t,e){return ra((n*n+t*t-e*e)/(2*n*t))}function ja(n){return n-2*Yi*Bi((n+Yi)/(2*Yi))}function ka(n,t,e){for(var r,o=[[n[0],n[1],Ui(n[1]),Di(n[1])],[t[0],t[1],Ui(t[1]),Di(t[1])],[e[0],e[1],Ui(e[1]),Di(e[1])]],i=o[2],a=0;a<3;++a,i=r)r=o[a],i.v=Ma(r[1]-i[1],i[3],i[2],r[3],r[2],r[0]-i[0]),i.point=[0,0];var u=Ta(o[0].v[0],o[2].v[0],o[1].v[0]),c=Ta(o[0].v[0],o[1].v[0],o[2].v[0]),s=Yi-u;o[2].point[1]=0,o[0].point[0]=-(o[1].point[0]=o[0].v[0]/2);var f=[o[2].point[0]=o[0].point[0]+o[2].v[0]*Di(u),2*(o[0].point[1]=o[1].point[1]=o[2].v[0]*Ui(u))];return function(n,t){var e,r=Ui(t),i=Di(t),a=new Array(3);for(e=0;e<3;++e){var u=o[e];if(a[e]=Ma(t-u[1],u[3],u[2],i,r,n-u[0]),!a[e][0])return u.point;a[e][1]=ja(a[e][1]-u.v[1])}var l=f.slice();for(e=0;e<3;++e){var h=2==e?0:e+1,p=Ta(o[e].v[0],a[e][0],a[h][0]);a[e][1]<0&&(p=-p),e?1==e?(p=c-p,l[0]-=a[e][0]*Di(p),l[1]-=a[e][0]*Ui(p)):(p=s-p,l[0]+=a[e][0]*Di(p),l[1]+=a[e][0]*Ui(p)):(l[0]+=a[e][0]*Di(p),l[1]-=a[e][0]*Ui(p))}return l[0]/=3,l[1]/=3,l}}function Ca(n){return n[0]*=ta,n[1]*=ta,n}function Pa(n,t,e){var r=or({type:"MultiPoint",coordinates:[n,t,e]}),o=[-r[0],-r[1]],i=hr(o),a=ci(ka(Ca(i(n)),Ca(i(t)),Ca(i(e)))).rotate(o),u=a.center;return delete a.rotate,a.center=function(n){return arguments.length?u(i(n)):i.invert(u())},a.clipAngle(90)}function Oa(n,t){var e=oa(1-Ui(t));return[2/Ki*n*e,Ki*(1-e)]}function Aa(n){var t=Wi(n);function e(n,e){return[n,(n?n/Ui(n):1)*(Ui(e)*Di(n)-t*Di(e))]}return e.invert=t?function(n,e){n&&(e*=Ui(n)/n);var r=Di(n);return[n,2*Ii(oa(r*r+t*t-e*e)-r,t-e)]}:function(n,t){return[n,ea(n?t*Wi(n)/n:t)]},e}Oa.invert=function(n,t){var e=(e=t/Ki-1)*e;return[e>0?n*oa(Yi/e)/2:0,ea(1-e)]};var Na=oa(3);function Ra(n,t){return[Na*n*(2*Di(2*t/3)-1)/Ki,Na*Ki*Ui(t/3)]}function Ia(n){var t=Di(n);function e(n,e){return[n*t,Ui(e)/t]}return e.invert=function(n,e){return[n/t,ea(e*t)]},e}function Da(n){var t=Di(n);function e(n,e){return[n*t,(1+t)*Wi(e/2)]}return e.invert=function(n,e){return[n/t,2*Ri(e/(1+t))]},e}function La(n,t){var e=oa(8/(3*Yi));return[e*n*(1-Ni(t)/Yi),e*t]}function Ba(n,t){var e=oa(4-3*Ui(Ni(t)));return[2/oa(6*Yi)*n*e,Hi(t)*oa(2*Yi/3)*(2-e)]}function za(n,t){var e=oa(Yi*(4+Yi));return[2/e*n*(1+oa(1-4*t*t/(Yi*Yi))),4/e*t]}function qa(n,t){var e=(2+$i)*Ui(t);t/=2;for(var r=0,o=1/0;r<10&&Ni(o)>1e-6;r++){var i=Di(t);t-=o=(t+Ui(t)*(i+2)-e)/(2*i*(1+i))}return[2/oa(Yi*(4+Yi))*n*(1+Di(t)),2*oa(Yi/(4+Yi))*Ui(t)]}function Fa(n,t){return[n*(1+Di(t))/oa(2+Yi),2*t/oa(2+Yi)]}function Ga(n,t){for(var e=(1+$i)*Ui(t),r=0,o=1/0;r<10&&Ni(o)>1e-6;r++)t-=o=(t+Ui(t)-e)/(1+Di(t));return e=oa(2+Yi),[n*(1+Di(t))/e,2*t/e]}Ra.invert=function(n,t){var e=3*ea(t/(Na*Ki));return[Ki*n/(Na*(2*Di(2*e/3)-1)),e]},La.invert=function(n,t){var e=oa(8/(3*Yi)),r=t/e;return[n/(e*(1-Ni(r)/Yi)),r]},Ba.invert=function(n,t){var e=2-Ni(t)/oa(2*Yi/3);return[n*oa(6*Yi)/(2*e),Hi(t)*ea((4-e*e)/3)]},za.invert=function(n,t){var e=oa(Yi*(4+Yi))/2;return[n*e/(1+oa(1-t*t*(4+Yi)/(4*Yi))),t*e/2]},qa.invert=function(n,t){var e=t*oa((4+Yi)/Yi)/2,r=ea(e),o=Di(r);return[n/(2/oa(Yi*(4+Yi))*(1+o)),ea((r+e*(o+2))/(2+$i))]},Fa.invert=function(n,t){var e=oa(2+Yi),r=t*e/2;return[e*n/(1+Di(r)),r]},Ga.invert=function(n,t){var e=1+$i,r=oa(e/2);return[2*n*r/(1+Di(t*=r)),ea((t+Ui(t))/e)]};var Va=3+2*Qi;function Ha(n,t){var e=Ui(n/=2),r=Di(n),o=oa(Di(t)),i=Di(t/=2),a=Ui(t)/(i+Qi*r*o),u=oa(2/(1+a*a)),c=oa((Qi*i+(r+e)*o)/(Qi*i+(r-e)*o));return[Va*(u*(c-1/c)-2*zi(c)),Va*(u*a*(c+1/c)-2*Ri(a))]}Ha.invert=function(n,t){if(!(e=fa.invert(n/1.2,1.065*t)))return null;var e,r=e[0],o=e[1],i=20;n/=Va,t/=Va;do{var a=r/2,u=o/2,c=Ui(a),s=Di(a),f=Ui(u),l=Di(u),h=Di(o),p=oa(h),v=f/(l+Qi*s*p),d=v*v,g=oa(2/(1+d)),y=(Qi*l+(s+c)*p)/(Qi*l+(s-c)*p),m=oa(y),w=m-1/m,_=m+1/m,b=g*w-2*zi(m)-n,x=g*v*_-2*Ri(v)-t,E=f&&Xi*p*c*d/f,S=(Qi*s*l+p)/(2*(l+Qi*s*p)*(l+Qi*s*p)*p),M=-.5*v*g*g*g,T=M*E,j=M*S,k=(k=2*l+Qi*p*(s-c))*k*m,C=(Qi*s*l*p+h)/k,P=-Qi*c*f/(p*k),O=w*T-2*C/m+g*(C+C/y),A=w*j-2*P/m+g*(P+P/y),N=v*_*T-2*E/(1+d)+g*_*E+g*v*(C-C/y),R=v*_*j-2*S/(1+d)+g*_*S+g*v*(P-P/y),I=A*N-R*O;if(!I)break;var D=(x*A-b*R)/I,L=(b*N-x*O)/I;r-=D,o=qi(-$i,Fi($i,o-L))}while((Ni(D)>1e-6||Ni(L)>1e-6)&&--i>0);return Ni(Ni(o)-$i)<1e-6?[0,o]:i&&[r,o]};var Ua=Di(35*ta);function Wa(n,t){var e=Wi(t/2);return[n*Ua*oa(1-e*e),(1+Ua)*e]}function Ya(n,t){var e=t/2,r=Di(e);return[2*n/Ki*Di(t)*r*r,Ki*Wi(e)]}function $a(n){return[n[0]/2,ea(Wi(n[1]/2*ta))*na]}function Ja(n){return[2*n[0],2*Ri(Ui(n[1]*ta))*na]}function Xa(n,t){var e=2*Yi/t,r=n*n;function o(t,o){var i=yi(t,o),a=i[0],u=i[1],c=a*a+u*u;if(c>r){var s=oa(c),f=Ii(u,a),l=e*Vi(f/e),h=f-l,p=n*Di(h),v=(n*Ui(h)-h*Ui(p))/($i-p),d=Qa(h,v),g=(Yi-n)/Ka(d,p,Yi);a=s;var y,m=50;do{a-=y=(n+Ka(d,p,a)*g-s)/(d(a)*g)}while(Ni(y)>1e-6&&--m>0);u=h*Ui(a),a<$i&&(u-=v*(a-$i));var w=Ui(l),_=Di(l);i[0]=a*_-u*w,i[1]=a*w+u*_}return i}return o.invert=function(t,o){var i=t*t+o*o;if(i>r){var a=oa(i),u=Ii(o,t),c=e*Vi(u/e),s=u-c;t=a*Di(s),o=a*Ui(s);for(var f=t-$i,l=Ui(t),h=o/l,p=t<$i?1/0:0,v=10;;){var d=n*Ui(h),g=n*Di(h),y=Ui(g),m=$i-g,w=(d-h*y)/m,_=Qa(h,w);if(Ni(p)<1e-12||!--v)break;h-=p=(h*l-w*f-o)/(l-2*f*(m*(g+h*d*Di(g)-y)-d*(d-h*y))/(m*m))}t=(a=n+Ka(_,g,t)*(Yi-n)/Ka(_,g,Yi))*Di(u=c+h),o=a*Ui(u)}return yi.invert(t,o)},o}function Qa(n,t){return function(e){var r=n*Di(e);return e<$i&&(r-=t),oa(1+r*r)}}function Ka(n,t,e){for(var r=(e-t)/50,o=n(t)+n(e),i=1,a=t;i<50;++i)o+=2*n(a+=r);return.5*o*r}function Za(n,t,e,r,o,i,a,u){function c(c,s){if(!s)return[n*c/Yi,0];var f=s*s,l=n+f*(t+f*(e+f*r)),h=s*(o-1+f*(i-u+f*a)),p=(l*l+h*h)/(2*h),v=c*ea(l/p)/Yi;return[p*Ui(v),s*(1+f*u)+p*(1-Di(v))]}return arguments.length<8&&(u=0),c.invert=function(c,s){var f,l,h=Yi*c/n,p=s,v=50;do{var d=p*p,g=n+d*(t+d*(e+d*r)),y=p*(o-1+d*(i-u+d*a)),m=g*g+y*y,w=2*y,_=m/w,b=_*_,x=ea(g/_)/Yi,E=h*x,S=g*g,M=(2*t+d*(4*e+6*d*r))*p,T=o+d*(3*i+5*d*a),j=(2*(g*M+y*(T-1))*w-m*(2*(T-1)))/(w*w),k=Di(E),C=Ui(E),P=_*k,O=_*C,A=h/Yi*(1/oa(1-S/b))*(M*_-g*j)/b,N=O-c,R=p*(1+d*u)+_-P-s,I=j*C+P*A,D=P*x,L=1+j-(j*k-O*A),B=O*x,z=I*B-L*D;if(!z)break;h-=f=(R*I-N*L)/z,p-=l=(N*B-R*D)/z}while((Ni(f)>1e-6||Ni(l)>1e-6)&&--v>0);return[h,p]},c}Wa.invert=function(n,t){var e=t/(1+Ua);return[n&&n/(Ua*oa(1-e*e)),2*Ri(e)]},Ya.invert=function(n,t){var e=Ri(t/Ki),r=Di(e),o=2*e;return[n*Ki/2/(Di(o)*r*r),o]};var nu=Za(2.8284,-1.6988,.75432,-.18071,1.76003,-.38914,.042555);var tu=Za(2.583819,-.835827,.170354,-.038094,1.543313,-.411435,.082742);var eu=Za(5/6*Yi,-.62636,-.0344,0,1.3493,-.05524,0,.045);function ru(n,t){var e=n*n,r=t*t;return[n*(1-.162388*r)*(.87-952426e-9*e*e),t*(1+r/12)]}ru.invert=function(n,t){var e,r=n,o=t,i=50;do{var a=o*o;o-=e=(o*(1+a/12)-t)/(1+a/4)}while(Ni(e)>1e-6&&--i>0);i=50,n/=1-.162388*a;do{var u=(u=r*r)*u;r-=e=(r*(.87-952426e-9*u)-n)/(.87-.00476213*u)}while(Ni(e)>1e-6&&--i>0);return[r,o]};var ou=Za(2.6516,-.76534,.19123,-.047094,1.36289,-.13965,.031762);function iu(n){var t=n($i,0)[0]-n(-$i,0)[0];function e(e,r){var o=e>0?-.5:.5,i=n(e+o*Yi,r);return i[0]-=o*t,i}return n.invert&&(e.invert=function(e,r){var o=e>0?-.5:.5,i=n.invert(e+o*t,r),a=i[0]-o*Yi;return a<-Yi?a+=2*Yi:a>Yi&&(a-=2*Yi),i[0]=a,i}),e}function au(n,t){var e=Hi(n),r=Hi(t),o=Di(t),i=Di(n)*o,a=Ui(n)*o,u=Ui(r*t);n=Ni(Ii(a,u)),t=ea(i),Ni(n-$i)>1e-6&&(n%=$i);var c=function(n,t){if(t===$i)return[0,0];var e,r,o=Ui(t),i=o*o,a=i*i,u=1+a,c=1+3*a,s=1-a,f=ea(1/oa(u)),l=s+i*u*f,h=(1-o)/l,p=oa(h),v=h*u,d=oa(v),g=p*s;if(0===n)return[0,-(g+i*d)];var y,m=Di(t),w=1/m,_=2*o*m,b=(-l*m-(-3*i+f*c)*_*(1-o))/(l*l),x=-w*_,E=-w*(i*u*b+h*c*_),S=-2*w*(s*(.5*b/p)-2*i*p*_),M=4*n/Yi;if(n>.222*Yi||t<Yi/4&&n>.175*Yi){if(e=(g+i*oa(v*(1+a)-g*g))/(1+a),n>Yi/4)return[e,e];var T=e,j=.5*e;e=.5*(j+T),r=50;do{var k=e*(S+x*oa(v-e*e))+E*ea(e/d)-M;if(!k)break;k<0?j=e:T=e,e=.5*(j+T)}while(Ni(T-j)>1e-6&&--r>0)}else{e=1e-6,r=25;do{var C=e*e,P=oa(v-C),O=S+x*P,A=e*O+E*ea(e/d)-M;e-=y=P?A/(O+(E-x*C)/P):0}while(Ni(y)>1e-6&&--r>0)}return[e,-g-i*oa(v-e*e)]}(n>Yi/4?$i-n:n,t);return n>Yi/4&&(u=c[0],c[0]=-c[1],c[1]=-u),c[0]*=e,c[1]*=-r,c}function uu(n,t){var e,r,o,i,a,u;if(t<1e-6)return[(i=Ui(n))-(e=t*(n-i*(r=Di(n)))/4)*r,r+e*i,1-t*i*i/2,n-e];if(t>=.999999)return e=(1-t)/4,o=1/(r=aa(n)),[(i=((u=Li(2*(u=n)))-1)/(u+1))+e*((a=r*ia(n))-n)/(r*r),o-e*i*o*(a-n),o+e*i*o*(a+n),2*Ri(Li(n))-$i+e*(a-n)/r];var c=[1,0,0,0,0,0,0,0,0],s=[oa(t),0,0,0,0,0,0,0,0],f=0;for(r=oa(1-t),a=1;Ni(s[f]/c[f])>1e-6&&f<8;)e=c[f++],s[f]=(e-r)/2,c[f]=(e+r)/2,r=oa(e*r),a*=2;o=a*c[f]*n;do{o=(ea(i=s[f]*Ui(r=o)/c[f])+o)/2}while(--f);return[Ui(o),i=Di(o),i/Di(o-r),o]}function cu(n,t){if(!t)return n;if(1===t)return zi(Wi(n/2+Ji));for(var e=1,r=oa(1-t),o=oa(t),i=0;Ni(o)>1e-6;i++){if(n%Yi){var a=Ri(r*Wi(n)/e);a<0&&(a+=Yi),n+=a+~~(n/Yi)*Yi}else n+=n;o=(e+r)/2,r=oa(e*r),o=((e=o)-r)/2}return n/(Gi(2,i)*e)}function su(n,t){var e=(Qi-1)/(Qi+1),r=oa(1-e*e),o=cu($i,r*r),i=zi(Wi(Yi/4+Ni(t)/2)),a=Li(-1*i)/oa(e),u=function(n,t){var e=n*n,r=t+1,o=1-e-t*t;return[.5*((n>=0?$i:-$i)-Ii(o,2*n)),-.25*zi(o*o+4*e)+.5*zi(r*r+e)]}(a*Di(-1*n),a*Ui(-1*n)),c=function(n,t,e){var r=Ni(n),o=ia(Ni(t));if(r){var i=1/Ui(r),a=1/(Wi(r)*Wi(r)),u=-(a+e*(o*o*i*i)-1+e),c=(-u+oa(u*u-(e-1)*a*4))/2;return[cu(Ri(1/oa(c)),e)*Hi(n),cu(Ri(oa((c/a-1)/e)),1-e)*Hi(t)]}return[0,cu(Ri(o),1-e)*Hi(t)]}(u[0],u[1],r*r);return[-c[1],(t>=0?1:-1)*(.5*o-c[0])]}function fu(n,t){if(arguments.length<2&&(t=n),1===t)return gi;if(t===1/0)return lu;function e(e,r){var o=gi(e/t,r);return o[0]*=n,o}return e.invert=function(e,r){var o=gi.invert(e/n,r);return o[0]*=t,o},e}function lu(n,t){return[n*Di(t)/Di(t/=2),2*Ui(t)]}function hu(n){var t=Ui(n),e=Di(n),r=pu(n);function o(n,o){var i=r(n,o);n=i[0],o=i[1];var a=Ui(o),u=Di(o),c=Di(n),s=ra(t*a+e*u*c),f=Ui(s),l=Ni(f)>1e-6?s/f:1;return[l*e*Ui(n),(Ni(n)>$i?l:-l)*(t*u-e*a*c)]}return r.invert=pu(-n),o.invert=function(n,e){var o=oa(n*n+e*e),i=-Ui(o),a=Di(o),u=o*a,c=-e*i,s=o*t,f=oa(u*u+c*c-s*s),l=Ii(u*s+c*f,c*s-u*f),h=(o>$i?-1:1)*Ii(n*i,o*Di(l)*a+e*Ui(l)*i);return r.invert(h,l)},o}function pu(n){var t=Ui(n),e=Di(n);return function(n,r){var o=Di(r),i=Di(n)*o,a=Ui(n)*o,u=Ui(r);return[Ii(a,i*e-u*t),ea(u*e+i*t)]}}function vu(n,t){return n<t?-1:n>t?1:n>=t?0:NaN}function du(n,t,e){n=+n,t=+t,e=(o=arguments.length)<2?(t=n,n=0,1):o<3?1:+e;for(var r=-1,o=0|Math.max(0,Math.ceil((t-n)/e)),i=new Array(o);++r<o;)i[r]=n+r*e;return i}function gu(n){for(var t,e,r,o=n.length,i=-1,a=0;++i<o;)a+=n[i].length;for(e=new Array(a);--o>=0;)for(t=(r=n[o]).length;--t>=0;)e[--a]=r[t];return e}au.invert=function(n,t){Ni(n)>1&&(n=2*Hi(n)-n),Ni(t)>1&&(t=2*Hi(t)-t);var e=Hi(n),r=Hi(t),o=-e*n,i=-r*t,a=i/o<1,u=function(n,t){var e=0,r=1,o=.5,i=50;for(;;){var a=o*o,u=oa(o),c=ea(1/oa(1+a)),s=1-a+o*(1+a)*c,f=(1-u)/s,l=oa(f),h=f*(1+a),p=l*(1-a),v=oa(h-n*n),d=t+p+o*v;if(Ni(r-e)<1e-12||0==--i||0===d)break;d>0?e=o:r=o,o=.5*(e+r)}if(!i)return null;var g=ea(u),y=Di(g),m=1/y,w=2*u*y,_=(-s*y-(-3*o+c*(1+3*a))*w*(1-u))/(s*s);return[Yi/4*(n*(-2*m*(.5*_/l*(1-a)-2*o*l*w)+-m*w*v)+-m*(o*(1+a)*_+f*(1+3*a)*w)*ea(n/oa(h))),g]}(a?i:o,a?o:i),c=u[0],s=u[1],f=Di(s);return a&&(c=-$i-c),[e*(Ii(Ui(c)*f,-Ui(s))+Yi),r*ea(Di(c)*f)]},su.invert=function(n,t){var e,r,o,i,a,u,c=(Qi-1)/(Qi+1),s=oa(1-c*c),f=cu($i,s*s),l=(r=-n,o=s*s,(e=.5*f-t)?(i=uu(e,o),r?(u=(a=uu(r,1-o))[1]*a[1]+o*i[0]*i[0]*a[0]*a[0],[[i[0]*a[2]/u,i[1]*i[2]*a[0]*a[1]/u],[i[1]*a[1]/u,-i[0]*i[2]*a[0]*a[2]/u],[i[2]*a[1]*a[2]/u,-o*i[0]*i[1]*a[0]/u]]):[[i[0],0],[i[1],0],[i[2],0]]):[[0,(a=uu(r,1-o))[0]/a[1]],[1/a[1],0],[a[2]/a[1],0]]),h=function(n,t){var e=t[0]*t[0]+t[1]*t[1];return[(n[0]*t[0]+n[1]*t[1])/e,(n[1]*t[0]-n[0]*t[1])/e]}(l[0],l[1]);return[Ii(h[1],h[0])/-1,2*Ri(Li(-.5*zi(c*h[0]*h[0]+c*h[1]*h[1])))-$i]},lu.invert=function(n,t){var e=2*ea(t/2);return[n*Di(e/2)/Di(e),e]},function(n){1===n.length&&(n=function(n){return function(t,e){return vu(n(t),e)}}(n))}(vu);var yu=Ia(0);function mu(n){var t=42.343611111111116*ta,e=Oa(Yi,t)[0]-Oa(-Yi,t)[0],r=yu(0,t)[1],o=Oa(0,t)[1],i=Ki-o,a=Zi/n,u=4/Zi,c=r+i*i*4/Zi;function s(s,f){var l,h=Ni(f);if(h>t){var p=Fi(n-1,qi(0,Bi((s+Yi)/a)));(l=Oa(s+=Yi*(n-1)/n-p*a,h))[0]=l[0]*Zi/e-Zi*(n-1)/(2*n)+p*Zi/n,l[1]=r+4*(l[1]-o)*i/Zi,f<0&&(l[1]=-l[1])}else l=yu(s,f);return l[0]*=u,l[1]/=c,l}return s.invert=function(t,s){t/=u;var f=Ni(s*=c);if(f>r){var l=Fi(n-1,qi(0,Bi((t+Yi)/a)));t=(t+Yi*(n-1)/n-l*a)*e/Zi;var h=Oa.invert(t,.25*(f-r)*Zi/i+o);return h[0]-=Yi*(n-1)/n-l*a,s<0&&(h[1]=-h[1]),h}return yu.invert(t,s)},s}function wu(n){var t,e=1+n,r=ea(Ui(1/e)),o=2*oa(Yi/(t=Yi+4*r*e)),i=.5*o*(e+oa(n*(2+n))),a=n*n,u=e*e;function c(c,s){var f,l,h=1-Ui(s);if(h&&h<2){var p,v=$i-s,d=25;do{var g=Ui(v),y=Di(v),m=r+Ii(g,e-y),w=1+u-2*e*y;v-=p=(v-a*r-e*g+w*m-.5*h*t)/(2*e*g*m)}while(Ni(p)>1e-12&&--d>0);f=o*oa(w),l=c*m/Yi}else f=o*(n+h),l=c*r/Yi;return[f*Ui(l),i-f*Di(l)]}return c.invert=function(n,c){var s=n*n+(c-=i)*c,f=(1+u-s/(o*o))/(2*e),l=ra(f),h=Ui(l),p=r+Ii(h,e-f);return[ea(n/oa(s))*Yi/p,ea(1-2*(l-a*r-e*h+(1+u-2*e*f)*p)/t)]},c}function _u(n,t){return t>-.7109889596207567?((n=ya(n,t))[1]+=.0528035274542,n):ba(n,t)}function bu(n,t){return Ni(t)>.7109889596207567?((n=ya(n,t))[1]-=t>0?.0528035274542:-.0528035274542,n):ba(n,t)}function xu(n,t){return Ni(n[0]-t[0])<1e-6&&Ni(n[1]-t[1])<1e-6}function Eu(n,t){for(var e,r,o,i=-1,a=n.length,u=n[0],c=[];++i<a;){r=((e=n[i])[0]-u[0])/t,o=(e[1]-u[1])/t;for(var s=0;s<t;++s)c.push([u[0]+s*r,u[1]+s*o]);u=e}return c.push(e),c}function Su(n,t){var e=function(n){var t,e,r,o,i,a,u,c=[],s=n[0].length;for(u=0;u<s;++u)e=(t=n[0][u])[0][0],r=t[0][1],o=t[1][1],i=t[2][0],a=t[2][1],c.push(Eu([[e+1e-6,r+1e-6],[e+1e-6,o-1e-6],[i-1e-6,o-1e-6],[i-1e-6,a+1e-6]],30));for(u=n[1].length-1;u>=0;--u)e=(t=n[1][u])[0][0],r=t[0][1],o=t[1][1],i=t[2][0],a=t[2][1],c.push(Eu([[i-1e-6,a-1e-6],[i-1e-6,o+1e-6],[e+1e-6,o+1e-6],[e+1e-6,r-1e-6]],30));return{type:"Polygon",coordinates:[gu(c)]}}(t),r=(t=t.map((function(n){return n.map((function(n){return[[n[0][0]*ta,n[0][1]*ta],[n[1][0]*ta,n[1][1]*ta],[n[2][0]*ta,n[2][1]*ta]]}))}))).map((function(t){return t.map((function(t){var e,r=n(t[0][0],t[0][1])[0],o=n(t[2][0],t[2][1])[0],i=n(t[1][0],t[0][1])[1],a=n(t[1][0],t[1][1])[1];return i>a&&(e=i,i=a,a=e),[[r,i],[o,a]]}))}));function o(e,r){for(var o=r<0?-1:1,i=t[+(r<0)],a=0,u=i.length-1;a<u&&e>i[a][2][0];++a);var c=n(e-i[a][1][0],r);return c[0]+=n(i[a][1][0],o*r>o*i[a][0][1]?i[a][0][1]:r)[0],c}n.invert&&(o.invert=function(e,i){for(var a=r[+(i<0)],u=t[+(i<0)],c=0,s=a.length;c<s;++c){var f=a[c];if(f[0][0]<=e&&e<f[1][0]&&f[0][1]<=i&&i<f[1][1]){var l=n.invert(e-n(u[c][1][0],0)[0],i);return l[0]+=u[c][1][0],xu(o(l[0],l[1]),[e,i])?l:null}}});var i=ci(o),a=i.stream;return i.stream=function(n){var t=i.rotate(),r=a(n),o=(i.rotate([0,0]),a(n));return i.rotate(t),r.sphere=function(){qt(e,o)},r},i}_u.invert=function(n,t){return t>-.7109889596207567?ya.invert(n,t-.0528035274542):ba.invert(n,t)},bu.invert=function(n,t){return Ni(t)>.7109889596207567?ya.invert(n,t+(t>0?.0528035274542:-.0528035274542)):ba.invert(n,t)};var Mu=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];var Tu=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];var ju=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];var ku=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]];var Cu=[[[[-180,35],[-30,90],[0,35]],[[0,35],[30,90],[180,35]]],[[[-180,-10],[-102,-90],[-65,-10]],[[-65,-10],[5,-90],[77,-10]],[[77,-10],[103,-90],[180,-10]]]];var Pu=[[[[-180,0],[-110,90],[-40,0]],[[-40,0],[0,90],[40,0]],[[40,0],[110,90],[180,0]]],[[[-180,0],[-110,-90],[-40,0]],[[-40,0],[0,-90],[40,0]],[[40,0],[110,-90],[180,0]]]];function Ou(n,t){return[3/Zi*n*oa(Yi*Yi/3-t*t),t]}function Au(n){function t(t,e){if(Ni(Ni(e)-$i)<1e-6)return[0,e<0?-2:2];var r=Ui(e),o=Gi((1+r)/(1-r),n/2),i=.5*(o+1/o)+Di(t*=n);return[2*Ui(t)/i,(o-1/o)/i]}return t.invert=function(t,e){var r=Ni(e);if(Ni(r-2)<1e-6)return t?null:[0,Hi(e)*$i];if(r>2)return null;var o=(t/=2)*t,i=(e/=2)*e,a=2*e/(1+o+i);return a=Gi((1+a)/(1-a),1/n),[Ii(2*t,1-o-i)/n,ea((a-1)/(a+1))]},t}Ou.invert=function(n,t){return[Zi/3*n/oa(Yi*Yi/3-t*t),t]};var Nu=Yi/Qi;function Ru(n,t){return[n*(1+oa(Di(t)))/2,t/(Di(t/2)*Di(n/6))]}function Iu(n,t){var e=n*n,r=t*t;return[n*(.975534+r*(-.0143059*e-.119161+-.0547009*r)),t*(1.00384+e*(.0802894+-.02855*r+199025e-9*e)+r*(.0998909+-.0491032*r))]}function Du(n,t){return[Ui(n)/Di(t),Wi(t)*Di(n)]}function Lu(n){var t=Di(n),e=Wi(Ji+n/2);function r(r,o){var i=o-n,a=Ni(i)<1e-6?r*t:Ni(a=Ji+o/2)<1e-6||Ni(Ni(a)-$i)<1e-6?0:r*i/zi(Wi(a)/e);return[a,i]}return r.invert=function(r,o){var i,a=o+n;return[Ni(o)<1e-6?r/t:Ni(i=Ji+a/2)<1e-6||Ni(Ni(i)-$i)<1e-6?0:r*zi(Wi(i)/e)/o,a]},r}function Bu(n,t){return[n,1.25*zi(Wi(Ji+.4*t))]}function zu(n){var t=n.length-1;function e(e,r){for(var o,i=Di(r),a=2/(1+i*Di(e)),u=a*i*Ui(e),c=a*Ui(r),s=t,f=n[s],l=f[0],h=f[1];--s>=0;)l=(f=n[s])[0]+u*(o=l)-c*h,h=f[1]+u*h+c*o;return[l=u*(o=l)-c*h,h=u*h+c*o]}return e.invert=function(e,r){var o=20,i=e,a=r;do{for(var u,c=t,s=n[c],f=s[0],l=s[1],h=0,p=0;--c>=0;)h=f+i*(u=h)-a*p,p=l+i*p+a*u,f=(s=n[c])[0]+i*(u=f)-a*l,l=s[1]+i*l+a*u;var v,d,g=(h=f+i*(u=h)-a*p)*h+(p=l+i*p+a*u)*p;i-=v=((f=i*(u=f)-a*l-e)*h+(l=i*l+a*u-r)*p)/g,a-=d=(l*h-f*p)/g}while(Ni(v)+Ni(d)>1e-12&&--o>0);if(o){var y=oa(i*i+a*a),m=2*Ri(.5*y),w=Ui(m);return[Ii(i*w,y*Di(m)),y?ea(a*w/y):0]}},e}Ru.invert=function(n,t){var e=Ni(n),r=Ni(t),o=1e-6,i=$i;r<Nu?i*=r/Nu:o+=6*ra(Nu/r);for(var a=0;a<25;a++){var u=Ui(i),c=oa(Di(i)),s=Ui(i/2),f=Di(i/2),l=Ui(o/6),h=Di(o/6),p=.5*o*(1+c)-e,v=i/(f*h)-r,d=c?-.25*o*u/c:0,g=.5*(1+c),y=(1+.5*i*s/f)/(f*h),m=i/f*(l/6)/(h*h),w=d*m-y*g,_=(p*m-v*g)/w,b=(v*d-p*y)/w;if(i-=_,o-=b,Ni(_)<1e-6&&Ni(b)<1e-6)break}return[n<0?-o:o,t<0?-i:i]},Iu.invert=function(n,t){var e=Hi(n)*Yi,r=t/2,o=50;do{var i=e*e,a=r*r,u=e*r,c=e*(.975534+a*(-.0143059*i-.119161+-.0547009*a))-n,s=r*(1.00384+i*(.0802894+-.02855*a+199025e-9*i)+a*(.0998909+-.0491032*a))-t,f=.975534-a*(.119161+3*i*.0143059+.0547009*a),l=-u*(.238322+.2188036*a+.0286118*i),h=u*(.1605788+7961e-7*i+-.0571*a),p=1.00384+i*(.0802894+199025e-9*i)+a*(3*(.0998909-.02855*i)-.245516*a),v=l*h-p*f,d=(s*l-c*p)/v,g=(c*h-s*f)/v;e-=d,r-=g}while((Ni(d)>1e-6||Ni(g)>1e-6)&&--o>0);return o&&[e,r]},Du.invert=function(n,t){var e=n*n,r=t*t,o=r+1,i=n?Xi*oa((o-oa(e*e+2*e*(r-1)+o*o))/e+1):1/oa(o);return[ea(n*i),Hi(t)*ra(i)]},Bu.invert=function(n,t){return[n,2.5*Ri(Li(.8*t))-.625*Yi]};var qu=[[.9972523,0],[.0052513,-.0041175],[.0074606,.0048125],[-.0153783,-.1968253],[.0636871,-.1408027],[.3660976,-.2937382]],Fu=[[.98879,0],[0,0],[-.050909,0],[0,0],[.075528,0]],Gu=[[.984299,0],[.0211642,.0037608],[-.1036018,-.0575102],[-.0329095,-.0320119],[.0499471,.1223335],[.026046,.0899805],[7388e-7,-.1435792],[.0075848,-.1334108],[-.0216473,.0776645],[-.0225161,.0853673]],Vu=[[.9245,0],[0,0],[.01943,0]],Hu=[[.721316,0],[0,0],[-.00881625,-.00617325]];function Uu(n,t){var e=ci(zu(n)).rotate(t).clipAngle(90),r=hr(t),o=e.center;return delete e.rotate,e.center=function(n){return arguments.length?o(r(n)):r.invert(o())},e}var Wu=oa(6),Yu=oa(7);function $u(n,t){var e=ea(7*Ui(t)/(3*Wu));return[Wu*n*(2*Di(2*e/3)-1)/Yu,9*Ui(e/3)/Yu]}function Ju(n,t){for(var e,r=(1+Xi)*Ui(t),o=t,i=0;i<25&&(o-=e=(Ui(o/2)+Ui(o)-r)/(.5*Di(o/2)+Di(o)),!(Ni(e)<1e-6));i++);return[n*(1+2*Di(o)/Di(o/2))/(3*Qi),2*oa(3)*Ui(o/2)/oa(2+Qi)]}function Xu(n,t){for(var e,r=oa(6/(4+Yi)),o=(1+Yi/4)*Ui(t),i=t/2,a=0;a<25&&(i-=e=(i/2+Ui(i)-o)/(.5+Di(i)),!(Ni(e)<1e-6));a++);return[r*(.5+Di(i))*n/1.5,r*i]}function Qu(n,t){var e=t*t,r=e*e;return[n*(.8707-.131979*e+r*(r*(.003971*e-.001529*r)-.013791)),t*(1.007226+e*(.015085+r*(.028874*e-.044475-.005916*r)))]}function Ku(n,t){var e=t*t,r=e*e,o=e*r;return[n*(.84719-.13063*e+o*o*(.05494*e-.04515-.02326*r+.00331*o)),t*(1.01183+r*r*(.01926*e-.02625-.00396*r))]}function Zu(n,t){return[n*(1+Di(t))/2,2*(t-Wi(t/2))]}$u.invert=function(n,t){var e=3*ea(t*Yu/9);return[n*Yu/(Wu*(2*Di(2*e/3)-1)),ea(3*Ui(e)*Wu/7)]},Ju.invert=function(n,t){var e=t*oa(2+Qi)/(2*oa(3)),r=2*ea(e);return[3*Qi*n/(1+2*Di(r)/Di(r/2)),ea((e+Ui(r))/(1+Xi))]},Xu.invert=function(n,t){var e=oa(6/(4+Yi)),r=t/e;return Ni(Ni(r)-$i)<1e-6&&(r=r<0?-$i:$i),[1.5*n/(e*(.5+Di(r))),ea((r/2+Ui(r))/(1+Yi/4))]},Qu.invert=function(n,t){var e,r=t,o=25;do{var i=r*r,a=i*i;r-=e=(r*(1.007226+i*(.015085+a*(.028874*i-.044475-.005916*a)))-t)/(1.007226+i*(.045255+a*(.259866*i-.311325-.005916*11*a)))}while(Ni(e)>1e-6&&--o>0);return[n/(.8707+(i=r*r)*(i*(i*i*i*(.003971-.001529*i)-.013791)-.131979)),r]},Ku.invert=function(n,t){var e,r,o,i,a=t,u=25;do{a-=e=(a*(1.01183+(o=(r=a*a)*r)*o*(.01926*r-.02625-.00396*o))-t)/(1.01183+o*o*(.21186*r-.23625+-.05148*o))}while(Ni(e)>1e-12&&--u>0);return[n/(.84719-.13063*(r=a*a)+(i=r*(o=r*r))*i*(.05494*r-.04515-.02326*o+.00331*i)),a]},Zu.invert=function(n,t){for(var e=t/2,r=0,o=1/0;r<10&&Ni(o)>1e-6;++r){var i=Di(t/2);t-=o=(t-Wi(t/2)-e)/(1-.5/(i*i))}return[2*n/(1+Di(t)),t]};function nc(n,t){var e=t*t;return[n,t*(1.0148+e*e*(.23185+e*(.02406*e-.14499)))]}function tc(n,t){if(Ni(t)<1e-6)return[n,0];var e=Wi(t),r=n*Ui(t);return[Ui(r)/e,t+(1-Di(r))/e]}function ec(n,t){var e=oc(n[1],n[0]),r=oc(t[1],t[0]),o=function(n,t){return Ii(n[0]*t[1]-n[1]*t[0],n[0]*t[0]+n[1]*t[1])}(e,r),i=ic(e)/ic(r);return rc([1,0,n[0][0],0,1,n[0][1]],rc([i,0,0,0,i,0],rc([Di(o),Ui(o),0,-Ui(o),Di(o),0],[1,0,-t[0][0],0,1,-t[0][1]])))}function rc(n,t){return[n[0]*t[0]+n[1]*t[3],n[0]*t[1]+n[1]*t[4],n[0]*t[2]+n[1]*t[5]+n[2],n[3]*t[0]+n[4]*t[3],n[3]*t[1]+n[4]*t[4],n[3]*t[2]+n[4]*t[5]+n[5]]}function oc(n,t){return[n[0]-t[0],n[1]-t[1]]}function ic(n){return oa(n[0]*n[0]+n[1]*n[1])}function ac(n,t,e){function r(n,e){var r,o=t(n,e),i=o.project([n*na,e*na]);return(r=o.transform)?[r[0]*i[0]+r[1]*i[1]+r[2],-(r[3]*i[0]+r[4]*i[1]+r[5])]:(i[1]=-i[1],i)}function o(n,e){var r,i,a=n.project.invert,u=n.transform,c=e;if(u&&(c=[(u=[(i=1/((r=u)[0]*r[4]-r[1]*r[3]))*r[4],-i*r[1],i*(r[1]*r[5]-r[2]*r[4]),-i*r[3],i*r[0],i*(r[2]*r[3]-r[0]*r[5])])[0]*c[0]+u[1]*c[1]+u[2],u[3]*c[0]+u[4]*c[1]+u[5]]),a&&n===function(n){return t(n[0]*ta,n[1]*ta)}(s=a(c)))return s;for(var s,f=n.children,l=0,h=f&&f.length;l<h;++l)if(s=o(f[l],e))return s}(function n(t,e){if(t.edges=function(n){for(var t=n.length,e=[],r=n[t-1],o=0;o<t;++o)e.push([r,r=n[o]]);return e}(t.face),e.face){var r=t.shared=function(n,t){for(var e,r,o=n.length,i=null,a=0;a<o;++a){e=n[a];for(var u=t.length;--u>=0;)if(r=t[u],e[0]===r[0]&&e[1]===r[1]){if(i)return[i,e];i=e}}}(t.face,e.face),o=ec(r.map(e.project),r.map(t.project));t.transform=e.transform?rc(e.transform,o):o;for(var i=e.edges,a=0,u=i.length;a<u;++a)cc(r[0],i[a][1])&&cc(r[1],i[a][0])&&(i[a]=t),cc(r[0],i[a][0])&&cc(r[1],i[a][1])&&(i[a]=t);for(i=t.edges,a=0,u=i.length;a<u;++a)cc(r[0],i[a][0])&&cc(r[1],i[a][1])&&(i[a]=e),cc(r[0],i[a][1])&&cc(r[1],i[a][0])&&(i[a]=e)}else t.transform=e.transform;t.children&&t.children.forEach((function(e){n(e,t)}));return t})(n,{transform:[Di(e=null==e?-Yi/6:e),Ui(e),0,-Ui(e),Di(e),0]}),sc(n)&&(r.invert=function(t,e){var r=o(n,[t,-e]);return r&&(r[0]*=ta,r[1]*=ta,r)});var i=ci(r),a=i.stream;return i.stream=function(t){var e=i.rotate(),r=a(t),o=(i.rotate([0,0]),a(t));return i.rotate(e),r.sphere=function(){o.polygonStart(),o.lineStart(),uc(o,n),o.lineEnd(),o.polygonEnd()},r},i}function uc(n,t,e){var r,o,i=t.edges,a=i.length,u={type:"MultiPoint",coordinates:t.face},c=He({type:"MultiPoint",coordinates:t.face.filter((function(n){return 90!==Ni(n[1])}))}),s=!1,f=-1,l=c[1][0]-c[0][0],h=180===l||360===l?[(c[0][0]+c[1][0])/2,(c[0][1]+c[1][1])/2]:or(u);if(e)for(;++f<a&&i[f]!==e;);++f;for(var p=0;p<a;++p)o=i[(p+f)%a],Array.isArray(o)?(s||(n.point((r=Xr(o[0],h)(1e-6))[0],r[1]),s=!0),n.point((r=Xr(o[1],h)(1e-6))[0],r[1])):(s=!1,o!==e&&uc(n,o,t))}function cc(n,t){return n&&t&&n[0]===t[0]&&n[1]===t[1]}function sc(n){return n.project.invert||n.children&&n.children.some(sc)}nc.invert=function(n,t){t>1.790857183?t=1.790857183:t<-1.790857183&&(t=-1.790857183);var e,r=t;do{var o=r*r;r-=e=(r*(1.0148+o*o*(.23185+o*(.02406*o-.14499)))-t)/(1.0148+o*o*(1.1592500000000001+o*(.21654*o-1.01493)))}while(Ni(e)>1e-6);return[n,r]},tc.invert=function(n,t){if(Ni(t)<1e-6)return[n,0];var e,r=n*n+t*t,o=.5*t,i=10;do{var a=Wi(o),u=1/Di(o),c=r-2*t*o+o*o;o-=e=(a*c+2*(o-t))/(2+c*u*u+2*(o-t)*a)}while(Ni(e)>1e-6&&--i>0);return a=Wi(o),[(Ni(t)<Ni(o+1/a)?ea(n*a):Hi(n)*(ra(Ni(n*a))+$i))/Ui(o),o]};var fc=[[0,90],[-90,0],[0,0],[90,0],[180,0],[0,-90]],lc=[[0,2,1],[0,3,2],[5,1,2],[5,2,3],[0,1,4],[0,4,3],[5,4,1],[5,3,4]].map((function(n){return n.map((function(n){return fc[n]}))}));var hc=2/oa(3);function pc(n,t){var e=Oa(n,t);return[e[0]*hc,e[1]]}function vc(n,t){for(var e=0,r=n.length,o=0;e<r;++e)o+=n[e]*t[e];return o}function dc(n){return[Ii(n[1],n[0])*na,ea(qi(-1,Fi(1,n[2])))*na]}function gc(n){var t=n[0]*ta,e=n[1]*ta,r=Di(e);return[r*Di(t),r*Ui(t),Ui(e)]}function yc(){}function mc(n,t){return{type:"FeatureCollection",features:n.features.map((function(n){return wc(n,t)}))}}function wc(n,t){return{type:"Feature",id:n.id,properties:n.properties,geometry:_c(n.geometry,t)}}function _c(n,t){if(!n)return null;if("GeometryCollection"===n.type)return function(n,t){return{type:"GeometryCollection",geometries:n.geometries.map((function(n){return _c(n,t)}))}}(n,t);var e;switch(n.type){case"Point":case"MultiPoint":e=Ec;break;case"LineString":case"MultiLineString":e=Sc;break;case"Polygon":case"MultiPolygon":case"Sphere":e=Mc;break;default:return null}return qt(n,t(e)),e.result()}pc.invert=function(n,t){return Oa.invert(n/hc,t)};var bc=[],xc=[],Ec={point:function(n,t){bc.push([n,t])},result:function(){var n=bc.length?bc.length<2?{type:"Point",coordinates:bc[0]}:{type:"MultiPoint",coordinates:bc}:null;return bc=[],n}},Sc={lineStart:yc,point:function(n,t){bc.push([n,t])},lineEnd:function(){bc.length&&(xc.push(bc),bc=[])},result:function(){var n=xc.length?xc.length<2?{type:"LineString",coordinates:xc[0]}:{type:"MultiLineString",coordinates:xc}:null;return xc=[],n}},Mc={polygonStart:yc,lineStart:yc,point:function(n,t){bc.push([n,t])},lineEnd:function(){var n=bc.length;if(n){do{bc.push(bc[0].slice())}while(++n<4);xc.push(bc),bc=[]}},polygonEnd:yc,result:function(){if(!xc.length)return null;var n=[],t=[];return xc.forEach((function(e){!function(n){if((t=n.length)<4)return!1;for(var t,e=0,r=n[t-1][1]*n[0][0]-n[t-1][0]*n[0][1];++e<t;)r+=n[e-1][1]*n[e][0]-n[e-1][0]*n[e][1];return r<=0}(e)?t.push(e):n.push([e])})),t.forEach((function(t){var e=t[0];n.some((function(n){if(function(n,t){for(var e=t[0],r=t[1],o=!1,i=0,a=n.length,u=a-1;i<a;u=i++){var c=n[i],s=c[0],f=c[1],l=n[u],h=l[0],p=l[1];f>r^p>r&&e<(h-s)*(r-f)/(p-f)+s&&(o=!o)}return o}(n[0],e))return n.push(t),!0}))||n.push([t])})),xc=[],n.length?n.length>1?{type:"MultiPolygon",coordinates:n}:{type:"Polygon",coordinates:n[0]}:null}};function Tc(n){var t=n($i,0)[0]-n(-$i,0)[0];function e(e,r){var o=Ni(e)<$i,i=n(o?e:e>0?e-Yi:e+Yi,r),a=(i[0]-i[1])*Xi,u=(i[0]+i[1])*Xi;if(o)return[a,u];var c=t*Xi,s=a>0^u>0?-1:1;return[s*a-Hi(u)*c,s*u-Hi(a)*c]}return n.invert&&(e.invert=function(e,r){var o=(e+r)*Xi,i=(r-e)*Xi,a=Ni(o)<.5*t&&Ni(i)<.5*t;if(!a){var u=t*Xi,c=o>0^i>0?-1:1,s=-c*e+(i>0?1:-1)*u,f=-c*r+(o>0?1:-1)*u;o=(-s-f)*Xi,i=(s-f)*Xi}var l=n.invert(o,i);return a||(l[0]+=o>0?Yi:-Yi),l}),ci(e).rotate([-90,-90,45]).clipAngle(179.999)}function jc(){return Tc(su).scale(111.48)}function kc(n){var t=Ui(n);function e(e,r){var o=t?Wi(e*t/2)/t:e/2;if(!r)return[2*o,-n];var i=2*Ri(o*Ui(r)),a=1/Wi(r);return[Ui(i)*a,r+(1-Di(i))*a-n]}return e.invert=function(e,r){if(Ni(r+=n)<1e-6)return[t?2*Ri(t*e/2)/t:e,0];var o,i=e*e+r*r,a=0,u=10;do{var c=Wi(a),s=1/Di(a),f=i-2*r*a+a*a;a-=o=(c*f+2*(a-r))/(2+f*s*s+2*(a-r)*c)}while(Ni(o)>1e-6&&--u>0);var l=e*(c=Wi(a)),h=Wi(Ni(r)<Ni(a+1/c)?.5*ea(l):.5*ra(l)+Yi/4)/Ui(a);return[t?2*Ri(t*h)/t:2*h,a]},e}var Cc=[[.9986,-.062],[1,0],[.9986,.062],[.9954,.124],[.99,.186],[.9822,.248],[.973,.31],[.96,.372],[.9427,.434],[.9216,.4958],[.8962,.5571],[.8679,.6176],[.835,.6769],[.7986,.7346],[.7597,.7903],[.7186,.8435],[.6732,.8936],[.6213,.9394],[.5722,.9761],[.5322,1]];function Pc(n,t){var e,r=Fi(18,36*Ni(t)/Yi),o=Bi(r),i=r-o,a=(e=Cc[o])[0],u=e[1],c=(e=Cc[++o])[0],s=e[1],f=(e=Cc[Fi(19,++o)])[0],l=e[1];return[n*(c+i*(f-a)/2+i*i*(f-2*c+a)/2),(t>0?$i:-$i)*(s+i*(l-u)/2+i*i*(l-2*s+u)/2)]}function Oc(n,t){var e=function(n){function t(t,e){var r=Di(e),o=(n-1)/(n-r*Di(t));return[o*r*Ui(t),o*Ui(e)]}return t.invert=function(t,e){var r=t*t+e*e,o=oa(r),i=(n-oa(1-r*(n+1)/(n-1)))/((n-1)/o+o/(n-1));return[Ii(t*i,o*oa(1-i*i)),o?ea(e*i/o):0]},t}(n);if(!t)return e;var r=Di(t),o=Ui(t);function i(t,i){var a=e(t,i),u=a[1],c=u*o/(n-1)+r;return[a[0]*r/c,u/c]}return i.invert=function(t,i){var a=(n-1)/(n-1-i*o);return e.invert(a*t,a*i*r)},i}Cc.forEach((function(n){n[1]*=1.0144})),Pc.invert=function(n,t){var e=t/$i,r=90*e,o=Fi(18,Ni(r/5)),i=qi(0,Bi(o));do{var a=Cc[i][1],u=Cc[i+1][1],c=Cc[Fi(19,i+2)][1],s=c-a,f=c-2*u+a,l=2*(Ni(e)-u)/s,h=f/s,p=l*(1-h*l*(1-2*h*l));if(p>=0||1===i){r=(t>=0?5:-5)*(p+o);var v,d=50;do{p=(o=Fi(18,Ni(r)/5))-(i=Bi(o)),a=Cc[i][1],u=Cc[i+1][1],c=Cc[Fi(19,i+2)][1],r-=(v=(t>=0?$i:-$i)*(u+p*(c-a)/2+p*p*(c-2*u+a)/2)-t)*na}while(Ni(v)>1e-12&&--d>0);break}}while(--i>=0);var g=Cc[i][0],y=Cc[i+1][0],m=Cc[Fi(19,i+2)][0];return[n/(y+p*(m-g)/2+p*p*(m-2*y+g)/2),r*ta]};var Ac=-179.9999,Nc=179.9999,Rc=-89.9999;function Ic(n){return n.length>0}function Dc(n){return-90===n||90===n?[0,n]:[-180,(t=n,Math.floor(1e4*t)/1e4)];var t}function Lc(n){var t=n[0],e=n[1],r=!1;return t<=Ac?(t=-180,r=!0):t>=Nc&&(t=180,r=!0),e<=Rc?(e=-90,r=!0):e>=89.9999&&(e=90,r=!0),r?[t,e]:n}function Bc(n){return n.map(Lc)}function zc(n,t,e){for(var r=0,o=n.length;r<o;++r){var i=n[r].slice();e.push({index:-1,polygon:t,ring:i});for(var a=0,u=i.length;a<u;++a){var c=i[a],s=c[0],f=c[1];if(s<=Ac||s>=Nc||f<=Rc||f>=89.9999){i[a]=Lc(c);for(var l=a+1;l<u;++l){var h=i[l],p=h[0],v=h[1];if(p>Ac&&p<Nc&&v>Rc&&v<89.9999)break}if(l===a+1)continue;if(a){var d={index:-1,polygon:t,ring:i.slice(0,a+1)};d.ring[d.ring.length-1]=Dc(f),e[e.length-1]=d}else e.pop();if(l>=u)break;e.push({index:-1,polygon:t,ring:i=i.slice(l-1)}),i[0]=Dc(i[0][1]),a=-1,u=i.length}}}}function qc(n){var t,e,r,o,i,a,u=n.length,c={},s={};for(t=0;t<u;++t)r=(e=n[t]).ring[0],i=e.ring[e.ring.length-1],r[0]!==i[0]||r[1]!==i[1]?(e.index=t,c[r]=s[i]=e):(e.polygon.push(e.ring),n[t]=null);for(t=0;t<u;++t)if(e=n[t]){if(r=e.ring[0],i=e.ring[e.ring.length-1],o=s[r],a=c[i],delete c[r],delete s[i],r[0]===i[0]&&r[1]===i[1]){e.polygon.push(e.ring);continue}o?(delete s[r],delete c[o.ring[0]],o.ring.pop(),n[o.index]=null,e={index:-1,polygon:o.polygon,ring:o.ring.concat(e.ring)},o===a?e.polygon.push(e.ring):(e.index=u++,n.push(c[e.ring[0]]=s[e.ring[e.ring.length-1]]=e))):a?(delete c[i],delete s[a.ring[a.ring.length-1]],e.ring.pop(),e={index:u++,polygon:a.polygon,ring:e.ring.concat(a.ring)},n[a.index]=null,n.push(c[e.ring[0]]=s[e.ring[e.ring.length-1]]=e)):(e.ring.push(e.ring[0]),e.polygon.push(e.ring))}}function Fc(n){var t={type:"Feature",geometry:Gc(n.geometry)};return null!=n.id&&(t.id=n.id),null!=n.bbox&&(t.bbox=n.bbox),null!=n.properties&&(t.properties=n.properties),t}function Gc(n){if(null==n)return n;var t,e,r,o;switch(n.type){case"GeometryCollection":t={type:"GeometryCollection",geometries:n.geometries.map(Gc)};break;case"Point":t={type:"Point",coordinates:Lc(n.coordinates)};break;case"MultiPoint":case"LineString":t={type:n.type,coordinates:Bc(n.coordinates)};break;case"MultiLineString":t={type:"MultiLineString",coordinates:n.coordinates.map(Bc)};break;case"Polygon":var i=[];zc(n.coordinates,i,e=[]),qc(e),t={type:"Polygon",coordinates:i};break;case"MultiPolygon":e=[],r=-1,o=n.coordinates.length;for(var a=new Array(o);++r<o;)zc(n.coordinates[r],a[r]=[],e);qc(e),t={type:"MultiPolygon",coordinates:a.filter(Ic)};break;default:return n}return null!=n.bbox&&(t.bbox=n.bbox),t}function Vc(n,t){var e=Wi(t/2),r=Ui(Ji*e);return[n*(.74482-.34588*r*r),1.70711*e]}function Hc(n,t,e){var r=Xr(t,e),o=r(.5),i=hr([-o[0],-o[1]])(t),a=r.distance/2,u=-ea(Ui(i[1]*ta)/Ui(a)),c=[-o[0],-o[1],-(i[0]>0?Yi-u:u)*na],s=ci(n(a)).rotate(c),f=hr(c),l=s.center;return delete s.rotate,s.center=function(n){return arguments.length?l(f(n)):f.invert(l())},s.clipAngle(90)}function Uc(n){var t=Di(n);function e(n,e){var r=Mi(n,e);return r[0]*=t,r}return e.invert=function(n,e){return Mi.invert(n/t,e)},e}function Wc(n,t){return Hc(Uc,n,t)}function Yc(n){if(!(n*=2))return yi;var t=-n/2,e=-t,r=n*n,o=Wi(e),i=.5/Ui(e);function a(o,i){var a=ra(Di(i)*Di(o-t)),u=ra(Di(i)*Di(o-e));return[((a*=a)-(u*=u))/(2*n),(i<0?-1:1)*oa(4*r*u-(r-a+u)*(r-a+u))/(2*n)]}return a.invert=function(n,r){var a,u,c=r*r,s=Di(oa(c+(a=n+t)*a)),f=Di(oa(c+(a=n+e)*a));return[Ii(u=s-f,a=(s+f)*o),(r<0?-1:1)*ra(oa(a*a+u*u)*i)]},a}function $c(n,t){return Hc(Yc,n,t)}function Jc(n,t){if(Ni(t)<1e-6)return[n,0];var e=Ni(t/$i),r=ea(e);if(Ni(n)<1e-6||Ni(Ni(t)-$i)<1e-6)return[0,Hi(t)*Yi*Wi(r/2)];var o=Di(r),i=Ni(Yi/n-n/Yi)/2,a=i*i,u=o/(e+o-1),c=u*(2/e-1),s=c*c,f=s+a,l=u-s,h=a+u;return[Hi(n)*Yi*(i*l+oa(a*l*l-f*(u*u-s)))/f,Hi(t)*Yi*(c*h-i*oa((a+1)*f-h*h))/f]}function Xc(n,t){if(Ni(t)<1e-6)return[n,0];var e=Ni(t/$i),r=ea(e);if(Ni(n)<1e-6||Ni(Ni(t)-$i)<1e-6)return[0,Hi(t)*Yi*Wi(r/2)];var o=Di(r),i=Ni(Yi/n-n/Yi)/2,a=i*i,u=o*(oa(1+a)-i*o)/(1+a*e*e);return[Hi(n)*Yi*u,Hi(t)*Yi*oa(1-u*(2*i+u))]}function Qc(n,t){if(Ni(t)<1e-6)return[n,0];var e=t/$i,r=ea(e);if(Ni(n)<1e-6||Ni(Ni(t)-$i)<1e-6)return[0,Yi*Wi(r/2)];var o=(Yi/n-n/Yi)/2,i=e/(1+Di(r));return[Yi*(Hi(n)*oa(o*o+1-i*i)-o),Yi*i]}function Kc(n,t){if(!t)return[n,0];var e=Ni(t);if(!n||e===$i)return[0,t];var r=e/$i,o=r*r,i=(8*r-o*(o+2)-5)/(2*o*(r-1)),a=i*i,u=r*i,c=o+a+2*u,s=r+3*i,f=n/$i,l=f+1/f,h=Hi(Ni(n)-$i)*oa(l*l-4),p=h*h,v=(h*(c+a-1)+2*oa(c*(o+a*p-1)+(1-o)*(o*(s*s+4*a)+12*u*a+4*a*a)))/(4*c+p);return[Hi(n)*$i*v,Hi(t)*$i*oa(1+h*Ni(v)-v*v)]}Vc.invert=function(n,t){var e=t/1.70711,r=Ui(Ji*e);return[n/(.74482-.34588*r*r),2*Ri(e)]},Jc.invert=function(n,t){if(Ni(t)<1e-6)return[n,0];if(Ni(n)<1e-6)return[0,$i*Ui(2*Ri(t/Yi))];var e=(n/=Yi)*n,r=(t/=Yi)*t,o=e+r,i=o*o,a=-Ni(t)*(1+o),u=a-2*r+e,c=-2*a+1+2*r+i,s=r/c+(2*u*u*u/(c*c*c)-9*a*u/(c*c))/27,f=(a-u*u/(3*c))/c,l=2*oa(-f/3),h=ra(3*s/(f*l))/3;return[Yi*(o-1+oa(1+2*(e-r)+i))/(2*n),Hi(t)*Yi*(-l*Di(h+Yi/3)-u/(3*c))]},Xc.invert=function(n,t){if(!n)return[0,$i*Ui(2*Ri(t/Yi))];var e=Ni(n/Yi),r=(1-e*e-(t/=Yi)*t)/(2*e),o=oa(r*r+1);return[Hi(n)*Yi*(o-r),Hi(t)*$i*Ui(2*Ii(oa((1-2*r*e)*(r+o)-e),oa(o+r+e)))]},Qc.invert=function(n,t){if(!t)return[n,0];var e=t/Yi,r=(Yi*Yi*(1-e*e)-n*n)/(2*Yi*n);return[n?Yi*(Hi(n)*oa(r*r+1)-r):0,$i*Ui(2*Ri(e))]},Kc.invert=function(n,t){var e;if(!n||!t)return[n,t];t/=Yi;var r=Hi(n)*n/$i,o=(r*r-1+4*t*t)/Ni(r),i=o*o,a=2*t,u=50;do{var c=a*a,s=(8*a-c*(c+2)-5)/(2*c*(a-1)),f=(3*a-c*a-10)/(2*c*a),l=s*s,h=a*s,p=a+s,v=p*p,d=a+3*s,g=-2*p*(4*h*l+(1-4*c+3*c*c)*(1+f)+l*(14*c-6-i+(8*c-8-2*i)*f)+h*(12*c-8+(10*c-10-i)*f)),y=oa(v*(c+l*i-1)+(1-c)*(c*(d*d+4*l)+l*(12*h+4*l)));a-=e=(o*(v+l-1)+2*y-r*(4*v+i))/(o*(2*s*f+2*p*(1+f))+g/y-8*p*(o*(-1+l+v)+2*y)*(1+f)/(i+4*v))}while(e>1e-6&&--u>0);return[Hi(n)*(oa(o*o+4)+o)*Yi/4,$i*a]};var Zc=4*Yi+3*oa(3),ns=2*oa(2*Yi*oa(3)/Zc),ts=ga(ns*oa(3)/Yi,ns,Zc/6);function es(n,t){return[n*oa(1-3*t*t/(Yi*Yi)),t]}function rs(n,t){var e=.90631*Ui(t),r=oa(1-e*e),o=oa(2/(1+r*Di(n/=3)));return[2.66723*r*o*Ui(n),1.24104*e*o]}function os(n,t){var e=Di(t),r=Di(n)*e,o=1-r,i=Di(n=Ii(Ui(n)*e,-Ui(t))),a=Ui(n);return[a*(e=oa(1-r*r))-i*o,-i*e-a*o]}function is(n,t){var e=ca(n,t);return[(e[0]+n/$i)/2,(e[1]+t)/2]}es.invert=function(n,t){return[n/oa(1-3*t*t/(Yi*Yi)),t]},rs.invert=function(n,t){var e=n/2.66723,r=t/1.24104,o=oa(e*e+r*r),i=2*ea(o/2);return[3*Ii(n*Wi(i),2.66723*o),o&&ea(t*Ui(i)/(1.24104*.90631*o))]},os.invert=function(n,t){var e=(n*n+t*t)/-2,r=oa(-e*(2+e)),o=t*e+n*r,i=n*e-t*r,a=oa(i*i+o*o);return[Ii(r*o,a*(1+e)),a?-ea(r*i/a):0]},is.invert=function(n,t){var e=n,r=t,o=25;do{var i,a=Di(r),u=Ui(r),c=Ui(2*r),s=u*u,f=a*a,l=Ui(e),h=Di(e/2),p=Ui(e/2),v=p*p,d=1-f*h*h,g=d?ra(a*h)*oa(i=1/d):i=0,y=.5*(2*g*a*p+e/$i)-n,m=.5*(g*u+r)-t,w=.5*i*(f*v+g*a*h*s)+.5/$i,_=i*(l*c/4-g*u*p),b=.125*i*(c*p-g*u*f*l),x=.5*i*(s*h+g*v*a)+.5,E=_*b-x*w,S=(m*_-y*x)/E,M=(y*b-m*w)/E;e-=S,r-=M}while((Ni(S)>1e-6||Ni(M)>1e-6)&&--o>0);return[e,r]};var as=t(Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",geoAiry:function(){var n=$i,t=si(ua),e=t(n);return e.radius=function(e){return arguments.length?t(n=e*ta):n*na},e.scale(179.976).clipAngle(147)},geoAiryRaw:ua,geoAitoff:function(){return ci(ca).scale(152.63)},geoAitoffRaw:ca,geoArmadillo:function(){var n=20*ta,t=n>=0?1:-1,e=Wi(t*n),r=si(sa),o=r(n),i=o.stream;return o.parallel=function(o){return arguments.length?(e=Wi((t=(n=o*ta)>=0?1:-1)*n),r(n)):n*na},o.stream=function(r){var a=o.rotate(),u=i(r),c=(o.rotate([0,0]),i(r));return o.rotate(a),u.sphere=function(){c.polygonStart(),c.lineStart();for(var r=-180*t;t*r<180;r+=90*t)c.point(r,90*t);for(;t*(r-=n)>=-180;)c.point(r,t*-Ii(Di(r*ta/2),e)*na);c.lineEnd(),c.polygonEnd()},u},o.scale(218.695).center([0,28.0974])},geoArmadilloRaw:sa,geoAugust:function(){return ci(fa).scale(66.1603)},geoAugustRaw:fa,geoBaker:function(){return ci(pa).scale(112.314)},geoBakerRaw:pa,geoBerghaus:function(){var n=5,t=si(va),e=t(n),r=e.stream,o=.01,i=-Di(o*ta),a=Ui(o*ta);return e.lobes=function(e){return arguments.length?t(n=+e):n},e.stream=function(t){var u=e.rotate(),c=r(t),s=(e.rotate([0,0]),r(t));return e.rotate(u),c.sphere=function(){s.polygonStart(),s.lineStart();for(var t=0,e=360/n,r=2*Yi/n,u=90-180/n,c=$i;t<n;++t,u-=e,c-=r)s.point(Ii(a*Di(c),i)*na,ea(a*Ui(c))*na),u<-90?(s.point(-90,-180-u-o),s.point(-90,-180-u+o)):(s.point(90,u+o),s.point(90,u-o));s.lineEnd(),s.polygonEnd()},c},e.scale(87.8076).center([0,17.1875]).clipAngle(179.999)},geoBerghausRaw:va,geoBoggs:function(){return ci(wa).scale(160.857)},geoBoggsRaw:wa,geoBonne:function(){return _a(xa).scale(123.082).center([0,26.1441]).parallel(45)},geoBonneRaw:xa,geoBottomley:function(){var n=.5,t=si(Ea),e=t(n);return e.fraction=function(e){return arguments.length?t(n=+e):n},e.scale(158.837)},geoBottomleyRaw:Ea,geoBromley:function(){return ci(Sa).scale(152.63)},geoBromleyRaw:Sa,geoChamberlin:Pa,geoChamberlinRaw:ka,geoChamberlinAfrica:function(){return Pa([0,22],[45,22],[22.5,-22]).scale(380).center([22.5,2])},geoCollignon:function(){return ci(Oa).scale(95.6464).center([0,30])},geoCollignonRaw:Oa,geoCraig:function(){return _a(Aa).scale(249.828).clipAngle(90)},geoCraigRaw:Aa,geoCraster:function(){return ci(Ra).scale(156.19)},geoCrasterRaw:Ra,geoCylindricalEqualArea:function(){return _a(Ia).parallel(38.58).scale(195.044)},geoCylindricalEqualAreaRaw:Ia,geoCylindricalStereographic:function(){return _a(Da).scale(124.75)},geoCylindricalStereographicRaw:Da,geoEckert1:function(){return ci(La).scale(165.664)},geoEckert1Raw:La,geoEckert2:function(){return ci(Ba).scale(165.664)},geoEckert2Raw:Ba,geoEckert3:function(){return ci(za).scale(180.739)},geoEckert3Raw:za,geoEckert4:function(){return ci(qa).scale(180.739)},geoEckert4Raw:qa,geoEckert5:function(){return ci(Fa).scale(173.044)},geoEckert5Raw:Fa,geoEckert6:function(){return ci(Ga).scale(173.044)},geoEckert6Raw:Ga,geoEisenlohr:function(){return ci(Ha).scale(62.5271)},geoEisenlohrRaw:Ha,geoFahey:function(){return ci(Wa).scale(137.152)},geoFaheyRaw:Wa,geoFoucaut:function(){return ci(Ya).scale(135.264)},geoFoucautRaw:Ya,geoGilbert:function(n){null==n&&(n=Ci);var t=n(),e=Ei().scale(na).precision(0).clipAngle(null).translate([0,0]);function r(n){return t($a(n))}function o(n){r[n]=function(e){return arguments.length?(t[n](e),r):t[n]()}}return t.invert&&(r.invert=function(n){return Ja(t.invert(n))}),r.stream=function(n){var r=t.stream(n),o=e.stream({point:function(n,t){r.point(n/2,ea(Wi(-t/2*ta))*na)},lineStart:function(){r.lineStart()},lineEnd:function(){r.lineEnd()},polygonStart:function(){r.polygonStart()},polygonEnd:function(){r.polygonEnd()}});return o.sphere=r.sphere,o},r.rotate=function(n){return arguments.length?(e.rotate(n),r):e.rotate()},r.center=function(n){return arguments.length?(t.center($a(n)),r):Ja(t.center())},o("clipAngle"),o("clipExtent"),o("scale"),o("translate"),o("precision"),r.scale(249.5)},geoGingery:function(){var n=6,t=30*ta,e=Di(t),r=Ui(t),o=si(Xa),i=o(t,n),a=i.stream,u=-Di(.01*ta),c=Ui(.01*ta);return i.radius=function(i){return arguments.length?(e=Di(t=i*ta),r=Ui(t),o(t,n)):t*na},i.lobes=function(e){return arguments.length?o(t,n=+e):n},i.stream=function(t){var o=i.rotate(),s=a(t),f=(i.rotate([0,0]),a(t));return i.rotate(o),s.sphere=function(){f.polygonStart(),f.lineStart();for(var t=0,o=2*Yi/n,i=0;t<n;++t,i-=o)f.point(Ii(c*Di(i),u)*na,ea(c*Ui(i))*na),f.point(Ii(r*Di(i-o/2),e)*na,ea(r*Ui(i-o/2))*na);f.lineEnd(),f.polygonEnd()},s},i.rotate([90,-40]).scale(91.7095).clipAngle(179.999)},geoGingeryRaw:Xa,geoGinzburg4:function(){return ci(nu).scale(149.995)},geoGinzburg4Raw:nu,geoGinzburg5:function(){return ci(tu).scale(153.93)},geoGinzburg5Raw:tu,geoGinzburg6:function(){return ci(eu).scale(130.945)},geoGinzburg6Raw:eu,geoGinzburg8:function(){return ci(ru).scale(131.747)},geoGinzburg8Raw:ru,geoGinzburg9:function(){return ci(ou).scale(131.087)},geoGinzburg9Raw:ou,geoGringorten:function(){return ci(iu(au)).scale(239.75)},geoGringortenRaw:au,geoGuyou:function(){return ci(iu(su)).scale(151.496)},geoGuyouRaw:su,geoHammer:function(){var n=2,t=si(fu),e=t(n);return e.coefficient=function(e){return arguments.length?t(n=+e):n},e.scale(169.529)},geoHammerRaw:fu,geoHammerRetroazimuthal:function(){var n=0,t=si(hu),e=t(n),r=e.rotate,o=e.stream,i=dr();return e.parallel=function(r){if(!arguments.length)return n*na;var o=e.rotate();return t(n=r*ta).rotate(o)},e.rotate=function(t){return arguments.length?(r.call(e,[t[0],t[1]-n*na]),i.center([-t[0],-t[1]]),e):((t=r.call(e))[1]+=n*na,t)},e.stream=function(n){return(n=o(n)).sphere=function(){n.polygonStart();var t,e=i.radius(89.99)().coordinates[0],r=e.length-1,o=-1;for(n.lineStart();++o<r;)n.point((t=e[o])[0],t[1]);for(n.lineEnd(),r=(e=i.radius(90.01)().coordinates[0]).length-1,n.lineStart();--o>=0;)n.point((t=e[o])[0],t[1]);n.lineEnd(),n.polygonEnd()},n},e.scale(79.4187).parallel(45).clipAngle(179.999)},geoHammerRetroazimuthalRaw:hu,geoHealpix:function(){var n=4,t=si(mu),e=t(n),r=e.stream;return e.lobes=function(e){return arguments.length?t(n=+e):n},e.stream=function(t){var o=e.rotate(),i=r(t),a=(e.rotate([0,0]),r(t));return e.rotate(o),i.sphere=function(){var t;qt({type:"Polygon",coordinates:[du(-180,180+(t=180/n)/2,t).map((function(n,t){return[n,1&t?89.999999:42.343611111111116]})).concat(du(180,-180-t/2,-t).map((function(n,t){return[n,1&t?-89.999999:-42.343611111111116]})))]},a)},i},e.scale(239.75)},geoHealpixRaw:mu,geoHill:function(){var n=1,t=si(wu),e=t(n);return e.ratio=function(e){return arguments.length?t(n=+e):n},e.scale(167.774).center([0,18.67])},geoHillRaw:wu,geoHomolosine:function(){return ci(bu).scale(152.63)},geoHomolosineRaw:bu,geoInterrupt:Su,geoInterruptedBoggs:function(){return Su(wa,Mu).scale(160.857)},geoInterruptedHomolosine:function(){return Su(bu,Tu).scale(152.63)},geoInterruptedMollweide:function(){return Su(ya,ju).scale(169.529)},geoInterruptedMollweideHemispheres:function(){return Su(ya,ku).scale(169.529).rotate([20,0])},geoInterruptedSinuMollweide:function(){return Su(_u,Cu).rotate([-20,-55]).scale(164.263).center([0,-5.4036])},geoInterruptedSinusoidal:function(){return Su(ba,Pu).scale(152.63).rotate([-20,0])},geoKavrayskiy7:function(){return ci(Ou).scale(158.837)},geoKavrayskiy7Raw:Ou,geoLagrange:function(){var n=.5,t=si(Au),e=t(n);return e.spacing=function(e){return arguments.length?t(n=+e):n},e.scale(124.75)},geoLagrangeRaw:Au,geoLarrivee:function(){return ci(Ru).scale(97.2672)},geoLarriveeRaw:Ru,geoLaskowski:function(){return ci(Iu).scale(139.98)},geoLaskowskiRaw:Iu,geoLittrow:function(){return ci(Du).scale(144.049).clipAngle(89.999)},geoLittrowRaw:Du,geoLoximuthal:function(){return _a(Lu).parallel(40).scale(158.837)},geoLoximuthalRaw:Lu,geoMiller:function(){return ci(Bu).scale(108.318)},geoMillerRaw:Bu,geoModifiedStereographic:Uu,geoModifiedStereographicRaw:zu,geoModifiedStereographicAlaska:function(){return Uu(qu,[152,-64]).scale(1500).center([-160.908,62.4864]).clipAngle(25)},geoModifiedStereographicGs48:function(){return Uu(Fu,[95,-38]).scale(1e3).clipAngle(55).center([-96.5563,38.8675])},geoModifiedStereographicGs50:function(){return Uu(Gu,[120,-45]).scale(359.513).clipAngle(55).center([-117.474,53.0628])},geoModifiedStereographicMiller:function(){return Uu(Vu,[-20,-18]).scale(209.091).center([20,16.7214]).clipAngle(82)},geoModifiedStereographicLee:function(){return Uu(Hu,[165,10]).scale(250).clipAngle(130).center([-165,-10])},geoMollweide:function(){return ci(ya).scale(169.529)},geoMollweideRaw:ya,geoMtFlatPolarParabolic:function(){return ci($u).scale(164.859)},geoMtFlatPolarParabolicRaw:$u,geoMtFlatPolarQuartic:function(){return ci(Ju).scale(188.209)},geoMtFlatPolarQuarticRaw:Ju,geoMtFlatPolarSinusoidal:function(){return ci(Xu).scale(166.518)},geoMtFlatPolarSinusoidalRaw:Xu,geoNaturalEarth:function(){return ci(Qu).scale(175.295)},geoNaturalEarthRaw:Qu,geoNaturalEarth2:function(){return ci(Ku).scale(175.295)},geoNaturalEarth2Raw:Ku,geoNellHammer:function(){return ci(Zu).scale(152.63)},geoNellHammerRaw:Zu,geoPatterson:function(){return ci(nc).scale(139.319)},geoPattersonRaw:nc,geoPolyconic:function(){return ci(tc).scale(103.74)},geoPolyconicRaw:tc,geoPolyhedral:ac,geoPolyhedralButterfly:function(n){n=n||function(n){var t=or({type:"MultiPoint",coordinates:n});return Ti().scale(1).translate([0,0]).rotate([-t[0],-t[1]])};var t=lc.map((function(t){return{face:t,project:n(t)}}));return[-1,0,0,1,0,1,4,5].forEach((function(n,e){var r=t[n];r&&(r.children||(r.children=[])).push(t[e])})),ac(t[0],(function(n,e){return t[n<-Yi/2?e<0?6:4:n<0?e<0?2:0:n<Yi/2?e<0?3:1:e<0?7:5]})).scale(101.858).center([0,45])},geoPolyhedralCollignon:function(n){n=n||function(n){var t=or({type:"MultiPoint",coordinates:n});return ci(pc).translate([0,0]).scale(1).rotate(t[1]>0?[-t[0],0]:[180-t[0],180])};var t=lc.map((function(t){return{face:t,project:n(t)}}));return[-1,0,0,1,0,1,4,5].forEach((function(n,e){var r=t[n];r&&(r.children||(r.children=[])).push(t[e])})),ac(t[0],(function(n,e){return t[n<-Yi/2?e<0?6:4:n<0?e<0?2:0:n<Yi/2?e<0?3:1:e<0?7:5]})).scale(121.906).center([0,48.5904])},geoPolyhedralWaterman:function(n){n=n||function(n){var t=6===n.length?or({type:"MultiPoint",coordinates:n}):n[0];return Ti().scale(1).translate([0,0]).rotate([-t[0],-t[1]])};var t=lc.map((function(n){for(var t,e=n.map(gc),r=e.length,o=e[r-1],i=[],a=0;a<r;++a)t=e[a],i.push(dc([.9486832980505138*o[0]+.31622776601683794*t[0],.9486832980505138*o[1]+.31622776601683794*t[1],.9486832980505138*o[2]+.31622776601683794*t[2]]),dc([.9486832980505138*t[0]+.31622776601683794*o[0],.9486832980505138*t[1]+.31622776601683794*o[1],.9486832980505138*t[2]+.31622776601683794*o[2]])),o=t;return i})),e=[],r=[-1,0,0,1,0,1,4,5];t.forEach((function(n,o){for(var i,a,u=lc[o],c=u.length,s=e[o]=[],f=0;f<c;++f)t.push([u[f],n[(2*f+2)%(2*c)],n[(2*f+1)%(2*c)]]),r.push(o),s.push((i=gc(n[(2*f+2)%(2*c)]),a=gc(n[(2*f+1)%(2*c)]),[i[1]*a[2]-i[2]*a[1],i[2]*a[0]-i[0]*a[2],i[0]*a[1]-i[1]*a[0]]))}));var o=t.map((function(t){return{project:n(t),face:t}}));return r.forEach((function(n,t){var e=o[n];e&&(e.children||(e.children=[])).push(o[t])})),ac(o[0],(function(n,t){var r=Di(t),i=[r*Di(n),r*Ui(n),Ui(t)],a=n<-Yi/2?t<0?6:4:n<0?t<0?2:0:n<Yi/2?t<0?3:1:t<0?7:5,u=e[a];return o[vc(u[0],i)<0?8+3*a:vc(u[1],i)<0?8+3*a+1:vc(u[2],i)<0?8+3*a+2:a]})).scale(110.625).center([0,45])},geoProject:function(n,t){var e,r=t.stream;if(!r)throw new Error("invalid projection");switch(n&&n.type){case"Feature":e=wc;break;case"FeatureCollection":e=mc;break;default:e=_c}return e(n,r)},geoGringortenQuincuncial:function(){return Tc(au).scale(176.423)},geoPeirceQuincuncial:jc,geoPierceQuincuncial:jc,geoQuantize:function(n,t){if(!(0<=(t=+t)&&t<=20))throw new Error("invalid digits");function e(n){var e=n.length,r=2,o=new Array(e);for(o[0]=+n[0].toFixed(t),o[1]=+n[1].toFixed(t);r<e;)o[r]=n[r],++r;return o}function r(n){return n.map(e)}function o(n){return n.map(r)}function i(n){if(null==n)return n;var t;switch(n.type){case"GeometryCollection":t={type:"GeometryCollection",geometries:n.geometries.map(i)};break;case"Point":t={type:"Point",coordinates:e(n.coordinates)};break;case"MultiPoint":case"LineString":t={type:n.type,coordinates:r(n.coordinates)};break;case"MultiLineString":case"Polygon":t={type:n.type,coordinates:o(n.coordinates)};break;case"MultiPolygon":t={type:"MultiPolygon",coordinates:n.coordinates.map(o)};break;default:return n}return null!=n.bbox&&(t.bbox=n.bbox),t}function a(n){var t={type:"Feature",properties:n.properties,geometry:i(n.geometry)};return null!=n.id&&(t.id=n.id),null!=n.bbox&&(t.bbox=n.bbox),t}if(null!=n)switch(n.type){case"Feature":return a(n);case"FeatureCollection":var u={type:"FeatureCollection",features:n.features.map(a)};return null!=n.bbox&&(u.bbox=n.bbox),u;default:return i(n)}return n},geoQuincuncial:Tc,geoRectangularPolyconic:function(){return _a(kc).scale(131.215)},geoRectangularPolyconicRaw:kc,geoRobinson:function(){return ci(Pc).scale(152.63)},geoRobinsonRaw:Pc,geoSatellite:function(){var n=2,t=0,e=si(Oc),r=e(n,t);return r.distance=function(r){return arguments.length?e(n=+r,t):n},r.tilt=function(r){return arguments.length?e(n,t=r*ta):t*na},r.scale(432.147).clipAngle(ra(1/n)*na-1e-6)},geoSatelliteRaw:Oc,geoSinuMollweide:function(){return ci(_u).rotate([-20,-55]).scale(164.263).center([0,-5.4036])},geoSinuMollweideRaw:_u,geoSinusoidal:function(){return ci(ba).scale(152.63)},geoSinusoidalRaw:ba,geoStitch:function(n){if(null==n)return n;switch(n.type){case"Feature":return Fc(n);case"FeatureCollection":var t={type:"FeatureCollection",features:n.features.map(Fc)};return null!=n.bbox&&(t.bbox=n.bbox),t;default:return Gc(n)}},geoTimes:function(){return ci(Vc).scale(146.153)},geoTimesRaw:Vc,geoTwoPointAzimuthal:Wc,geoTwoPointAzimuthalRaw:Uc,geoTwoPointAzimuthalUsa:function(){return Wc([-158,21.5],[-77,39]).clipAngle(60).scale(400)},geoTwoPointEquidistant:$c,geoTwoPointEquidistantRaw:Yc,geoTwoPointEquidistantUsa:function(){return $c([-158,21.5],[-77,39]).clipAngle(130).scale(122.571)},geoVanDerGrinten:function(){return ci(Jc).scale(79.4183)},geoVanDerGrintenRaw:Jc,geoVanDerGrinten2:function(){return ci(Xc).scale(79.4183)},geoVanDerGrinten2Raw:Xc,geoVanDerGrinten3:function(){return ci(Qc).scale(79.4183)},geoVanDerGrinten3Raw:Qc,geoVanDerGrinten4:function(){return ci(Kc).scale(127.16)},geoVanDerGrinten4Raw:Kc,geoWagner4:function(){return ci(ts).scale(176.84)},geoWagner4Raw:ts,geoWagner6:function(){return ci(es).scale(152.63)},geoWagner6Raw:es,geoWagner7:function(){return ci(rs).scale(172.632)},geoWagner7Raw:rs,geoWiechel:function(){return ci(os).rotate([0,-90,45]).scale(124.75).clipAngle(179.999)},geoWiechelRaw:os,geoWinkel3:function(){return ci(is).scale(158.837)},geoWinkel3Raw:is})),us={},cs={exports:{}};
/*!
 * EventEmitter v5.2.9 - git.io/ee
 * Unlicense - http://unlicense.org/
 * Oliver Caldwell - https://oli.me.uk/
 * @preserve
 */
!function(t){!function(n){function e(){}var r=e.prototype,o=n.EventEmitter;function i(n,t){for(var e=n.length;e--;)if(n[e].listener===t)return e;return-1}function a(n){return function(){return this[n].apply(this,arguments)}}function u(n){return"function"==typeof n||n instanceof RegExp||!(!n||"object"!=typeof n)&&u(n.listener)}r.getListeners=function(n){var t,e,r=this._getEvents();if(n instanceof RegExp)for(e in t={},r)r.hasOwnProperty(e)&&n.test(e)&&(t[e]=r[e]);else t=r[n]||(r[n]=[]);return t},r.flattenListeners=function(n){var t,e=[];for(t=0;t<n.length;t+=1)e.push(n[t].listener);return e},r.getListenersAsObject=function(n){var t,e=this.getListeners(n);return e instanceof Array&&((t={})[n]=e),t||e},r.addListener=function(n,t){if(!u(t))throw new TypeError("listener must be a function");var e,r=this.getListenersAsObject(n),o="object"==typeof t;for(e in r)r.hasOwnProperty(e)&&-1===i(r[e],t)&&r[e].push(o?t:{listener:t,once:!1});return this},r.on=a("addListener"),r.addOnceListener=function(n,t){return this.addListener(n,{listener:t,once:!0})},r.once=a("addOnceListener"),r.defineEvent=function(n){return this.getListeners(n),this},r.defineEvents=function(n){for(var t=0;t<n.length;t+=1)this.defineEvent(n[t]);return this},r.removeListener=function(n,t){var e,r,o=this.getListenersAsObject(n);for(r in o)o.hasOwnProperty(r)&&-1!==(e=i(o[r],t))&&o[r].splice(e,1);return this},r.off=a("removeListener"),r.addListeners=function(n,t){return this.manipulateListeners(!1,n,t)},r.removeListeners=function(n,t){return this.manipulateListeners(!0,n,t)},r.manipulateListeners=function(n,t,e){var r,o,i=n?this.removeListener:this.addListener,a=n?this.removeListeners:this.addListeners;if("object"!=typeof t||t instanceof RegExp)for(r=e.length;r--;)i.call(this,t,e[r]);else for(r in t)t.hasOwnProperty(r)&&(o=t[r])&&("function"==typeof o?i.call(this,r,o):a.call(this,r,o));return this},r.removeEvent=function(n){var t,e=typeof n,r=this._getEvents();if("string"===e)delete r[n];else if(n instanceof RegExp)for(t in r)r.hasOwnProperty(t)&&n.test(t)&&delete r[t];else delete this._events;return this},r.removeAllListeners=a("removeEvent"),r.emitEvent=function(n,t){var e,r,o,i,a=this.getListenersAsObject(n);for(i in a)if(a.hasOwnProperty(i))for(e=a[i].slice(0),o=0;o<e.length;o++)!0===(r=e[o]).once&&this.removeListener(n,r.listener),r.listener.apply(this,t||[])===this._getOnceReturnValue()&&this.removeListener(n,r.listener);return this},r.trigger=a("emitEvent"),r.emit=function(n){var t=Array.prototype.slice.call(arguments,1);return this.emitEvent(n,t)},r.setOnceReturnValue=function(n){return this._onceReturnValue=n,this},r._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},r._getEvents=function(){return this._events||(this._events={})},e.noConflict=function(){return n.EventEmitter=o,e},t.exports?t.exports=e:n.EventEmitter=e}("undefined"!=typeof window?window:n||{})}(cs),Object.defineProperty(us,"__esModule",{value:!0}),us.View=void 0;var ss=ut.exports,fs=ss.__importDefault(cs.exports),ls=ct;var hs=function(n){function t(t,e){var r=n.call(this)||this;if(r.isView=!0,r.isDataView=!0,r.watchingStates=null,r.dataType="table",r.transforms=[],r.origin=[],r.rows=[],t&&t.isDataSet?r.dataSet=t:(r.dataSet=null,e=t),r.loose=!r.dataSet,e&&(r.watchingStates=e.watchingStates),!r.loose){var o=r.watchingStates;t.on("statechange",(function(n){ls.isArray(o)?o.indexOf(n)>-1&&r._reExecute():r._reExecute()}))}return r}return ss.__extends(t,n),t.prototype._parseStateExpression=function(n){var t=this.dataSet;if(null!==t){var e=/^\$state\.(\w+)/.exec(n);return e?t.state[e[1]]:n}},t.prototype._preparseOptions=function(n){var t=this,e=function(n){var t={};return ls.forIn(n,(function(n,e){ls.isObject(n)&&n.isView?t[e]=n:ls.isArray(n)?t[e]=n.concat([]):ls.isPlainObject(n)?t[e]=ls.clone(n):t[e]=n})),t}(n);return this.loose||ls.forIn(e,(function(n,r){ls.isString(n)&&/^\$state\./.test(n)&&(e[r]=t._parseStateExpression(n))})),e},t.prototype._prepareSource=function(n,e){if(this._source={source:n,options:e},e){r=this._preparseOptions(e);this.origin=t.DataSet.getConnector(r.type)(n,r,this)}else if(n instanceof t||ls.isString(n))this.origin=t.DataSet.getConnector("default")(n,this.dataSet);else if(ls.isArray(n))this.origin=n;else{if(!ls.isObject(n)||!n.type)throw new TypeError("Invalid source");var r=this._preparseOptions(n);this.origin=t.DataSet.getConnector(r.type)(r,this)}return this.rows=ls.deepMix([],this.origin),this},t.prototype.source=function(n,t){return this._prepareSource(n,t)._reExecuteTransforms(),this.trigger("change",[]),this},t.prototype.transform=function(n){return n&&n.type&&(this.transforms.push(n),this._executeTransform(n)),this},t.prototype._executeTransform=function(n){n=this._preparseOptions(n),t.DataSet.getTransform(n.type)(this,n)},t.prototype._reExecuteTransforms=function(){var n=this;this.transforms.forEach((function(t){n._executeTransform(t)}))},t.prototype.addRow=function(n){this.rows.push(n)},t.prototype.removeRow=function(n){this.rows.splice(n,1)},t.prototype.updateRow=function(n,t){ls.assign(this.rows[n],t)},t.prototype.findRows=function(n){return this.rows.filter((function(t){return ls.isMatch(t,n)}))},t.prototype.findRow=function(n){return ls.find(this.rows,n)},t.prototype.getColumnNames=function(){var n=this.rows[0];return n?ls.keys(n):[]},t.prototype.getColumnName=function(n){return this.getColumnNames()[n]},t.prototype.getColumnIndex=function(n){return this.getColumnNames().indexOf(n)},t.prototype.getColumn=function(n){return this.rows.map((function(t){return t[n]}))},t.prototype.getColumnData=function(n){return this.getColumn(n)},t.prototype.getSubset=function(n,t,e){for(var r=[],o=n;o<=t;o++)r.push(ls.pick(this.rows[o],e));return r},t.prototype.toString=function(n){return void 0===n&&(n=!1),n?JSON.stringify(this.rows,null,2):JSON.stringify(this.rows)},t.prototype._reExecute=function(){var n=this._source,t=n.source,e=n.options;this._prepareSource(t,e),this._reExecuteTransforms(),this.trigger("change",[])},t}(fs.default);us.View=hs;var ps={};class vs{constructor(){this._partials=new Float64Array(32),this._n=0}add(n){const t=this._partials;let e=0;for(let r=0;r<this._n&&r<32;r++){const o=t[r],i=n+o,a=Math.abs(n)<Math.abs(o)?n-(i-o):o-(i-n);a&&(t[e++]=a),n=i}return t[e]=n,this._n=e+1,this}valueOf(){const n=this._partials;let t,e,r,o=this._n,i=0;if(o>0){for(i=n[--o];o>0&&(t=i,e=n[--o],i=t+e,r=e-(i-t),!r););o>0&&(r<0&&n[o-1]<0||r>0&&n[o-1]>0)&&(e=2*r,t=i+e,e==t-i&&(i=t))}return i}}function ds(n){return Array.from(function*(n){for(const t of n)yield*t}(n))}var gs=Math.PI,ys=gs/2,ms=gs/4,ws=2*gs,_s=180/gs,bs=gs/180,xs=Math.abs,Es=Math.atan,Ss=Math.atan2,Ms=Math.cos,Ts=Math.exp,js=Math.log,ks=Math.pow,Cs=Math.sin,Ps=Math.sign||function(n){return n>0?1:n<0?-1:0},Os=Math.sqrt,As=Math.tan;function Ns(n){return n>1?ys:n<-1?-ys:Math.asin(n)}function Rs(){}function Is(n,t){n&&Ls.hasOwnProperty(n.type)&&Ls[n.type](n,t)}var Ds={Feature:function(n,t){Is(n.geometry,t)},FeatureCollection:function(n,t){for(var e=n.features,r=-1,o=e.length;++r<o;)Is(e[r].geometry,t)}},Ls={Sphere:function(n,t){t.sphere()},Point:function(n,t){n=n.coordinates,t.point(n[0],n[1],n[2])},MultiPoint:function(n,t){for(var e=n.coordinates,r=-1,o=e.length;++r<o;)n=e[r],t.point(n[0],n[1],n[2])},LineString:function(n,t){Bs(n.coordinates,t,0)},MultiLineString:function(n,t){for(var e=n.coordinates,r=-1,o=e.length;++r<o;)Bs(e[r],t,0)},Polygon:function(n,t){zs(n.coordinates,t)},MultiPolygon:function(n,t){for(var e=n.coordinates,r=-1,o=e.length;++r<o;)zs(e[r],t)},GeometryCollection:function(n,t){for(var e=n.geometries,r=-1,o=e.length;++r<o;)Is(e[r],t)}};function Bs(n,t,e){var r,o=-1,i=n.length-e;for(t.lineStart();++o<i;)r=n[o],t.point(r[0],r[1],r[2]);t.lineEnd()}function zs(n,t){var e=-1,r=n.length;for(t.polygonStart();++e<r;)Bs(n[e],t,1);t.polygonEnd()}function qs(n,t){n&&Ds.hasOwnProperty(n.type)?Ds[n.type](n,t):Is(n,t)}function Fs(n){return[Ss(n[1],n[0]),Ns(n[2])]}function Gs(n){var t=n[0],e=n[1],r=Ms(e);return[r*Ms(t),r*Cs(t),Cs(e)]}function Vs(n,t){return n[0]*t[0]+n[1]*t[1]+n[2]*t[2]}function Hs(n,t){return[n[1]*t[2]-n[2]*t[1],n[2]*t[0]-n[0]*t[2],n[0]*t[1]-n[1]*t[0]]}function Us(n,t){n[0]+=t[0],n[1]+=t[1],n[2]+=t[2]}function Ws(n,t){return[n[0]*t,n[1]*t,n[2]*t]}function Ys(n){var t=Os(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);n[0]/=t,n[1]/=t,n[2]/=t}function $s(n,t){function e(e,r){return e=n(e,r),t(e[0],e[1])}return n.invert&&t.invert&&(e.invert=function(e,r){return(e=t.invert(e,r))&&n.invert(e[0],e[1])}),e}function Js(n,t){return[xs(n)>gs?n+Math.round(-n/ws)*ws:n,t]}function Xs(n,t,e){return(n%=ws)?t||e?$s(Ks(n),Zs(t,e)):Ks(n):t||e?Zs(t,e):Js}function Qs(n){return function(t,e){return[(t+=n)>gs?t-ws:t<-gs?t+ws:t,e]}}function Ks(n){var t=Qs(n);return t.invert=Qs(-n),t}function Zs(n,t){var e=Ms(n),r=Cs(n),o=Ms(t),i=Cs(t);function a(n,t){var a=Ms(t),u=Ms(n)*a,c=Cs(n)*a,s=Cs(t),f=s*e+u*r;return[Ss(c*o-f*i,u*e-s*r),Ns(f*o+c*i)]}return a.invert=function(n,t){var a=Ms(t),u=Ms(n)*a,c=Cs(n)*a,s=Cs(t),f=s*o-c*i;return[Ss(c*o+s*i,u*e+f*r),Ns(f*e-u*r)]},a}function nf(n,t){(t=Gs(t))[0]-=n,Ys(t);var e,r=(e=-t[1])>1?0:e<-1?gs:Math.acos(e);return((-t[2]<0?-r:r)+ws-1e-6)%ws}function tf(){var n,t=[];return{point:function(t,e,r){n.push([t,e,r])},lineStart:function(){t.push(n=[])},lineEnd:Rs,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var e=t;return t=[],n=null,e}}}function ef(n,t){return xs(n[0]-t[0])<1e-6&&xs(n[1]-t[1])<1e-6}function rf(n,t,e,r){this.x=n,this.z=t,this.o=e,this.e=r,this.v=!1,this.n=this.p=null}function of(n,t,e,r,o){var i,a,u=[],c=[];if(n.forEach((function(n){if(!((t=n.length-1)<=0)){var t,e,r=n[0],a=n[t];if(ef(r,a)){if(!r[2]&&!a[2]){for(o.lineStart(),i=0;i<t;++i)o.point((r=n[i])[0],r[1]);return void o.lineEnd()}a[0]+=2e-6}u.push(e=new rf(r,n,null,!0)),c.push(e.o=new rf(r,null,e,!1)),u.push(e=new rf(a,n,null,!1)),c.push(e.o=new rf(a,null,e,!0))}})),u.length){for(c.sort(t),af(u),af(c),i=0,a=c.length;i<a;++i)c[i].e=e=!e;for(var s,f,l=u[0];;){for(var h=l,p=!0;h.v;)if((h=h.n)===l)return;s=h.z,o.lineStart();do{if(h.v=h.o.v=!0,h.e){if(p)for(i=0,a=s.length;i<a;++i)o.point((f=s[i])[0],f[1]);else r(h.x,h.n.x,1,o);h=h.n}else{if(p)for(s=h.p.z,i=s.length-1;i>=0;--i)o.point((f=s[i])[0],f[1]);else r(h.x,h.p.x,-1,o);h=h.p}s=(h=h.o).z,p=!p}while(!h.v);o.lineEnd()}}}function af(n){if(t=n.length){for(var t,e,r=0,o=n[0];++r<t;)o.n=e=n[r],e.p=o,o=e;o.n=e=n[0],e.p=o}}function uf(n){return xs(n[0])<=gs?n[0]:Ps(n[0])*((xs(n[0])+gs)%ws-gs)}function cf(n,t,e,r){return function(o){var i,a,u,c=t(o),s=tf(),f=t(s),l=!1,h={point:p,lineStart:d,lineEnd:g,polygonStart:function(){h.point=y,h.lineStart=m,h.lineEnd=w,a=[],i=[]},polygonEnd:function(){h.point=p,h.lineStart=d,h.lineEnd=g,a=ds(a);var n=function(n,t){var e=uf(t),r=t[1],o=Cs(r),i=[Cs(e),-Ms(e),0],a=0,u=0,c=new vs;1===o?r=ys+1e-6:-1===o&&(r=-ys-1e-6);for(var s=0,f=n.length;s<f;++s)if(h=(l=n[s]).length)for(var l,h,p=l[h-1],v=uf(p),d=p[1]/2+ms,g=Cs(d),y=Ms(d),m=0;m<h;++m,v=_,g=x,y=E,p=w){var w=l[m],_=uf(w),b=w[1]/2+ms,x=Cs(b),E=Ms(b),S=_-v,M=S>=0?1:-1,T=M*S,j=T>gs,k=g*x;if(c.add(Ss(k*M*Cs(T),y*E+k*Ms(T))),a+=j?S+M*ws:S,j^v>=e^_>=e){var C=Hs(Gs(p),Gs(w));Ys(C);var P=Hs(i,C);Ys(P);var O=(j^S>=0?-1:1)*Ns(P[2]);(r>O||r===O&&(C[0]||C[1]))&&(u+=j^S>=0?1:-1)}}return(a<-1e-6||a<1e-6&&c<-1e-12)^1&u}(i,r);a.length?(l||(o.polygonStart(),l=!0),of(a,ff,n,e,o)):n&&(l||(o.polygonStart(),l=!0),o.lineStart(),e(null,null,1,o),o.lineEnd()),l&&(o.polygonEnd(),l=!1),a=i=null},sphere:function(){o.polygonStart(),o.lineStart(),e(null,null,1,o),o.lineEnd(),o.polygonEnd()}};function p(t,e){n(t,e)&&o.point(t,e)}function v(n,t){c.point(n,t)}function d(){h.point=v,c.lineStart()}function g(){h.point=p,c.lineEnd()}function y(n,t){u.push([n,t]),f.point(n,t)}function m(){f.lineStart(),u=[]}function w(){y(u[0][0],u[0][1]),f.lineEnd();var n,t,e,r,c=f.clean(),h=s.result(),p=h.length;if(u.pop(),i.push(u),u=null,p)if(1&c){if((t=(e=h[0]).length-1)>0){for(l||(o.polygonStart(),l=!0),o.lineStart(),n=0;n<t;++n)o.point((r=e[n])[0],r[1]);o.lineEnd()}}else p>1&&2&c&&h.push(h.pop().concat(h.shift())),a.push(h.filter(sf))}return h}}function sf(n){return n.length>1}function ff(n,t){return((n=n.x)[0]<0?n[1]-ys-1e-6:ys-n[1])-((t=t.x)[0]<0?t[1]-ys-1e-6:ys-t[1])}Js.invert=Js;var lf=cf((function(){return!0}),(function(n){var t,e=NaN,r=NaN,o=NaN;return{lineStart:function(){n.lineStart(),t=1},point:function(i,a){var u=i>0?gs:-gs,c=xs(i-e);xs(c-gs)<1e-6?(n.point(e,r=(r+a)/2>0?ys:-ys),n.point(o,r),n.lineEnd(),n.lineStart(),n.point(u,r),n.point(i,r),t=0):o!==u&&c>=gs&&(xs(e-o)<1e-6&&(e-=1e-6*o),xs(i-u)<1e-6&&(i-=1e-6*u),r=function(n,t,e,r){var o,i,a=Cs(n-e);return xs(a)>1e-6?Es((Cs(t)*(i=Ms(r))*Cs(e)-Cs(r)*(o=Ms(t))*Cs(n))/(o*i*a)):(t+r)/2}(e,r,i,a),n.point(o,r),n.lineEnd(),n.lineStart(),n.point(u,r),t=0),n.point(e=i,r=a),o=u},lineEnd:function(){n.lineEnd(),e=r=NaN},clean:function(){return 2-t}}}),(function(n,t,e,r){var o;if(null==n)o=e*ys,r.point(-gs,o),r.point(0,o),r.point(gs,o),r.point(gs,0),r.point(gs,-o),r.point(0,-o),r.point(-gs,-o),r.point(-gs,0),r.point(-gs,o);else if(xs(n[0]-t[0])>1e-6){var i=n[0]<t[0]?gs:-gs;o=e*i/2,r.point(-i,o),r.point(0,o),r.point(i,o)}else r.point(t[0],t[1])}),[-gs,-ys]);function hf(n){var t=Ms(n),e=6*bs,r=t>0,o=xs(t)>1e-6;function i(n,e){return Ms(n)*Ms(e)>t}function a(n,e,r){var o=[1,0,0],i=Hs(Gs(n),Gs(e)),a=Vs(i,i),u=i[0],c=a-u*u;if(!c)return!r&&n;var s=t*a/c,f=-t*u/c,l=Hs(o,i),h=Ws(o,s);Us(h,Ws(i,f));var p=l,v=Vs(h,p),d=Vs(p,p),g=v*v-d*(Vs(h,h)-1);if(!(g<0)){var y=Os(g),m=Ws(p,(-v-y)/d);if(Us(m,h),m=Fs(m),!r)return m;var w,_=n[0],b=e[0],x=n[1],E=e[1];b<_&&(w=_,_=b,b=w);var S=b-_,M=xs(S-gs)<1e-6;if(!M&&E<x&&(w=x,x=E,E=w),M||S<1e-6?M?x+E>0^m[1]<(xs(m[0]-_)<1e-6?x:E):x<=m[1]&&m[1]<=E:S>gs^(_<=m[0]&&m[0]<=b)){var T=Ws(p,(-v+y)/d);return Us(T,h),[m,Fs(T)]}}}function u(t,e){var o=r?n:gs-n,i=0;return t<-o?i|=1:t>o&&(i|=2),e<-o?i|=4:e>o&&(i|=8),i}return cf(i,(function(n){var t,e,c,s,f;return{lineStart:function(){s=c=!1,f=1},point:function(l,h){var p,v=[l,h],d=i(l,h),g=r?d?0:u(l,h):d?u(l+(l<0?gs:-gs),h):0;if(!t&&(s=c=d)&&n.lineStart(),d!==c&&(!(p=a(t,v))||ef(t,p)||ef(v,p))&&(v[2]=1),d!==c)f=0,d?(n.lineStart(),p=a(v,t),n.point(p[0],p[1])):(p=a(t,v),n.point(p[0],p[1],2),n.lineEnd()),t=p;else if(o&&t&&r^d){var y;g&e||!(y=a(v,t,!0))||(f=0,r?(n.lineStart(),n.point(y[0][0],y[0][1]),n.point(y[1][0],y[1][1]),n.lineEnd()):(n.point(y[1][0],y[1][1]),n.lineEnd(),n.lineStart(),n.point(y[0][0],y[0][1],3)))}!d||t&&ef(t,v)||n.point(v[0],v[1]),t=v,c=d,e=g},lineEnd:function(){c&&n.lineEnd(),t=null},clean:function(){return f|(s&&c)<<1}}}),(function(t,r,o,i){!function(n,t,e,r,o,i){if(e){var a=Ms(t),u=Cs(t),c=r*e;null==o?(o=t+r*ws,i=t-c/2):(o=nf(a,o),i=nf(a,i),(r>0?o<i:o>i)&&(o+=r*ws));for(var s,f=o;r>0?f>i:f<i;f-=c)s=Fs([a,-u*Ms(f),-u*Cs(f)]),n.point(s[0],s[1])}}(i,n,e,o,t,r)}),r?[0,-n]:[-gs,n-gs])}function pf(n,t,e,r){function o(o,i){return n<=o&&o<=e&&t<=i&&i<=r}function i(o,i,u,s){var f=0,l=0;if(null==o||(f=a(o,u))!==(l=a(i,u))||c(o,i)<0^u>0)do{s.point(0===f||3===f?n:e,f>1?r:t)}while((f=(f+u+4)%4)!==l);else s.point(i[0],i[1])}function a(r,o){return xs(r[0]-n)<1e-6?o>0?0:3:xs(r[0]-e)<1e-6?o>0?2:1:xs(r[1]-t)<1e-6?o>0?1:0:o>0?3:2}function u(n,t){return c(n.x,t.x)}function c(n,t){var e=a(n,1),r=a(t,1);return e!==r?e-r:0===e?t[1]-n[1]:1===e?n[0]-t[0]:2===e?n[1]-t[1]:t[0]-n[0]}return function(a){var c,s,f,l,h,p,v,d,g,y,m,w=a,_=tf(),b={point:x,lineStart:function(){b.point=E,s&&s.push(f=[]);y=!0,g=!1,v=d=NaN},lineEnd:function(){c&&(E(l,h),p&&g&&_.rejoin(),c.push(_.result()));b.point=x,g&&w.lineEnd()},polygonStart:function(){w=_,c=[],s=[],m=!0},polygonEnd:function(){var t=function(){for(var t=0,e=0,o=s.length;e<o;++e)for(var i,a,u=s[e],c=1,f=u.length,l=u[0],h=l[0],p=l[1];c<f;++c)i=h,a=p,h=(l=u[c])[0],p=l[1],a<=r?p>r&&(h-i)*(r-a)>(p-a)*(n-i)&&++t:p<=r&&(h-i)*(r-a)<(p-a)*(n-i)&&--t;return t}(),e=m&&t,o=(c=ds(c)).length;(e||o)&&(a.polygonStart(),e&&(a.lineStart(),i(null,null,1,a),a.lineEnd()),o&&of(c,u,t,i,a),a.polygonEnd());w=a,c=s=f=null}};function x(n,t){o(n,t)&&w.point(n,t)}function E(i,a){var u=o(i,a);if(s&&f.push([i,a]),y)l=i,h=a,p=u,y=!1,u&&(w.lineStart(),w.point(i,a));else if(u&&g)w.point(i,a);else{var c=[v=Math.max(-1e9,Math.min(1e9,v)),d=Math.max(-1e9,Math.min(1e9,d))],_=[i=Math.max(-1e9,Math.min(1e9,i)),a=Math.max(-1e9,Math.min(1e9,a))];!function(n,t,e,r,o,i){var a,u=n[0],c=n[1],s=0,f=1,l=t[0]-u,h=t[1]-c;if(a=e-u,l||!(a>0)){if(a/=l,l<0){if(a<s)return;a<f&&(f=a)}else if(l>0){if(a>f)return;a>s&&(s=a)}if(a=o-u,l||!(a<0)){if(a/=l,l<0){if(a>f)return;a>s&&(s=a)}else if(l>0){if(a<s)return;a<f&&(f=a)}if(a=r-c,h||!(a>0)){if(a/=h,h<0){if(a<s)return;a<f&&(f=a)}else if(h>0){if(a>f)return;a>s&&(s=a)}if(a=i-c,h||!(a<0)){if(a/=h,h<0){if(a>f)return;a>s&&(s=a)}else if(h>0){if(a<s)return;a<f&&(f=a)}return s>0&&(n[0]=u+s*l,n[1]=c+s*h),f<1&&(t[0]=u+f*l,t[1]=c+f*h),!0}}}}}(c,_,n,t,e,r)?u&&(w.lineStart(),w.point(i,a),m=!1):(g||(w.lineStart(),w.point(c[0],c[1])),w.point(_[0],_[1]),u||w.lineEnd(),m=!1)}v=i,d=a,g=u}return b}}var vf=n=>n,df=1/0,gf=df,yf=-df,mf=yf,wf={point:function(n,t){n<df&&(df=n);n>yf&&(yf=n);t<gf&&(gf=t);t>mf&&(mf=t)},lineStart:Rs,lineEnd:Rs,polygonStart:Rs,polygonEnd:Rs,result:function(){var n=[[df,gf],[yf,mf]];return yf=mf=-(gf=df=1/0),n}};function _f(n){return function(t){var e=new bf;for(var r in n)e[r]=n[r];return e.stream=t,e}}function bf(){}function xf(n,t,e){var r=n.clipExtent&&n.clipExtent();return n.scale(150).translate([0,0]),null!=r&&n.clipExtent(null),qs(e,n.stream(wf)),t(wf.result()),null!=r&&n.clipExtent(r),n}function Ef(n,t,e){return xf(n,(function(e){var r=t[1][0]-t[0][0],o=t[1][1]-t[0][1],i=Math.min(r/(e[1][0]-e[0][0]),o/(e[1][1]-e[0][1])),a=+t[0][0]+(r-i*(e[1][0]+e[0][0]))/2,u=+t[0][1]+(o-i*(e[1][1]+e[0][1]))/2;n.scale(150*i).translate([a,u])}),e)}bf.prototype={constructor:bf,point:function(n,t){this.stream.point(n,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var Sf=Ms(30*bs);function Mf(n,t){return+t?function(n,t){function e(r,o,i,a,u,c,s,f,l,h,p,v,d,g){var y=s-r,m=f-o,w=y*y+m*m;if(w>4*t&&d--){var _=a+h,b=u+p,x=c+v,E=Os(_*_+b*b+x*x),S=Ns(x/=E),M=xs(xs(x)-1)<1e-6||xs(i-l)<1e-6?(i+l)/2:Ss(b,_),T=n(M,S),j=T[0],k=T[1],C=j-r,P=k-o,O=m*C-y*P;(O*O/w>t||xs((y*C+m*P)/w-.5)>.3||a*h+u*p+c*v<Sf)&&(e(r,o,i,a,u,c,j,k,M,_/=E,b/=E,x,d,g),g.point(j,k),e(j,k,M,_,b,x,s,f,l,h,p,v,d,g))}}return function(t){var r,o,i,a,u,c,s,f,l,h,p,v,d={point:g,lineStart:y,lineEnd:w,polygonStart:function(){t.polygonStart(),d.lineStart=_},polygonEnd:function(){t.polygonEnd(),d.lineStart=y}};function g(e,r){e=n(e,r),t.point(e[0],e[1])}function y(){f=NaN,d.point=m,t.lineStart()}function m(r,o){var i=Gs([r,o]),a=n(r,o);e(f,l,s,h,p,v,f=a[0],l=a[1],s=r,h=i[0],p=i[1],v=i[2],16,t),t.point(f,l)}function w(){d.point=g,t.lineEnd()}function _(){y(),d.point=b,d.lineEnd=x}function b(n,t){m(r=n,t),o=f,i=l,a=h,u=p,c=v,d.point=m}function x(){e(f,l,s,h,p,v,o,i,r,a,u,c,16,t),d.lineEnd=w,w()}return d}}(n,t):function(n){return _f({point:function(t,e){t=n(t,e),this.stream.point(t[0],t[1])}})}(n)}var Tf,jf=_f({point:function(n,t){this.stream.point(n*bs,t*bs)}});function kf(n,t,e,r,o,i){if(!i)return function(n,t,e,r,o){function i(i,a){return[t+n*(i*=r),e-n*(a*=o)]}return i.invert=function(i,a){return[(i-t)/n*r,(e-a)/n*o]},i}(n,t,e,r,o);var a=Ms(i),u=Cs(i),c=a*n,s=u*n,f=a/n,l=u/n,h=(u*e-a*t)/n,p=(u*t+a*e)/n;function v(n,i){return[c*(n*=r)-s*(i*=o)+t,e-s*n-c*i]}return v.invert=function(n,t){return[r*(f*n-l*t+h),o*(p-l*n-f*t)]},v}function Cf(n){return Pf((function(){return n}))()}function Pf(n){var t,e,r,o,i,a,u,c,s,f,l=150,h=480,p=250,v=0,d=0,g=0,y=0,m=0,w=0,_=1,b=1,x=null,E=lf,S=null,M=vf,T=.5;function j(n){return c(n[0]*bs,n[1]*bs)}function k(n){return(n=c.invert(n[0],n[1]))&&[n[0]*_s,n[1]*_s]}function C(){var n=kf(l,0,0,_,b,w).apply(null,t(v,d)),r=kf(l,h-n[0],p-n[1],_,b,w);return e=Xs(g,y,m),u=$s(t,r),c=$s(e,u),a=Mf(u,T),P()}function P(){return s=f=null,j}return j.stream=function(n){return s&&f===n?s:s=jf(function(n){return _f({point:function(t,e){var r=n(t,e);return this.stream.point(r[0],r[1])}})}(e)(E(a(M(f=n)))))},j.preclip=function(n){return arguments.length?(E=n,x=void 0,P()):E},j.postclip=function(n){return arguments.length?(M=n,S=r=o=i=null,P()):M},j.clipAngle=function(n){return arguments.length?(E=+n?hf(x=n*bs):(x=null,lf),P()):x*_s},j.clipExtent=function(n){return arguments.length?(M=null==n?(S=r=o=i=null,vf):pf(S=+n[0][0],r=+n[0][1],o=+n[1][0],i=+n[1][1]),P()):null==S?null:[[S,r],[o,i]]},j.scale=function(n){return arguments.length?(l=+n,C()):l},j.translate=function(n){return arguments.length?(h=+n[0],p=+n[1],C()):[h,p]},j.center=function(n){return arguments.length?(v=n[0]%360*bs,d=n[1]%360*bs,C()):[v*_s,d*_s]},j.rotate=function(n){return arguments.length?(g=n[0]%360*bs,y=n[1]%360*bs,m=n.length>2?n[2]%360*bs:0,C()):[g*_s,y*_s,m*_s]},j.angle=function(n){return arguments.length?(w=n%360*bs,C()):w*_s},j.reflectX=function(n){return arguments.length?(_=n?-1:1,C()):_<0},j.reflectY=function(n){return arguments.length?(b=n?-1:1,C()):b<0},j.precision=function(n){return arguments.length?(a=Mf(u,T=n*n),P()):Os(T)},j.fitExtent=function(n,t){return Ef(j,n,t)},j.fitSize=function(n,t){return function(n,t,e){return Ef(n,[[0,0],t],e)}(j,n,t)},j.fitWidth=function(n,t){return function(n,t,e){return xf(n,(function(e){var r=+t,o=r/(e[1][0]-e[0][0]),i=(r-o*(e[1][0]+e[0][0]))/2,a=-o*e[0][1];n.scale(150*o).translate([i,a])}),e)}(j,n,t)},j.fitHeight=function(n,t){return function(n,t,e){return xf(n,(function(e){var r=+t,o=r/(e[1][1]-e[0][1]),i=-o*e[0][0],a=(r-o*(e[1][1]+e[0][1]))/2;n.scale(150*o).translate([i,a])}),e)}(j,n,t)},function(){return t=n.apply(this,arguments),j.invert=t.invert&&k,C()}}function Of(n){var t=0,e=gs/3,r=Pf(n),o=r(t,e);return o.parallels=function(n){return arguments.length?r(t=n[0]*bs,e=n[1]*bs):[t*_s,e*_s]},o}function Af(n,t){var e=Cs(n),r=(e+Cs(t))/2;if(xs(r)<1e-6)return function(n){var t=Ms(n);function e(n,e){return[n*t,Cs(e)/t]}return e.invert=function(n,e){return[n/t,Ns(e*t)]},e}(n);var o=1+e*(2*r-e),i=Os(o)/r;function a(n,t){var e=Os(o-2*r*Cs(t))/r;return[e*Cs(n*=r),i-e*Ms(n)]}return a.invert=function(n,t){var e=i-t,a=Ss(n,xs(e))*Ps(e);return e*r<0&&(a-=gs*Ps(n)*Ps(e)),[a/r,Ns((o-(n*n+e*e)*r*r)/(2*r))]},a}function Nf(){return Of(Af).scale(155.424).center([0,33.6442])}function Rf(){return Nf().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function If(n,t){return[n,js(As((ys+t)/2))]}function Df(){return Lf(If).scale(961/ws)}function Lf(n){var t,e,r,o=Cf(n),i=o.center,a=o.scale,u=o.translate,c=o.clipExtent,s=null;function f(){var i=gs*a(),u=o(function(n){function t(t){return(t=n(t[0]*bs,t[1]*bs))[0]*=_s,t[1]*=_s,t}return n=Xs(n[0]*bs,n[1]*bs,n.length>2?n[2]*bs:0),t.invert=function(t){return(t=n.invert(t[0]*bs,t[1]*bs))[0]*=_s,t[1]*=_s,t},t}(o.rotate()).invert([0,0]));return c(null==s?[[u[0]-i,u[1]-i],[u[0]+i,u[1]+i]]:n===If?[[Math.max(u[0]-i,s),t],[Math.min(u[0]+i,e),r]]:[[s,Math.max(u[1]-i,t)],[e,Math.min(u[1]+i,r)]])}return o.scale=function(n){return arguments.length?(a(n),f()):a()},o.translate=function(n){return arguments.length?(u(n),f()):u()},o.center=function(n){return arguments.length?(i(n),f()):i()},o.clipExtent=function(n){return arguments.length?(null==n?s=t=e=r=null:(s=+n[0][0],t=+n[0][1],e=+n[1][0],r=+n[1][1]),f()):null==s?null:[[s,t],[e,r]]},f()}function Bf(n){return As((ys+n)/2)}function zf(n,t){var e=Ms(n),r=n===t?Cs(n):js(e/Ms(t))/js(Bf(t)/Bf(n)),o=e*ks(Bf(n),r)/r;if(!r)return If;function i(n,t){o>0?t<1e-6-ys&&(t=1e-6-ys):t>ys-1e-6&&(t=ys-1e-6);var e=o/ks(Bf(t),r);return[e*Cs(r*n),o-e*Ms(r*n)]}return i.invert=function(n,t){var e=o-t,i=Ps(r)*Os(n*n+e*e),a=Ss(n,xs(e))*Ps(e);return e*r<0&&(a-=gs*Ps(n)*Ps(e)),[a/r,2*Es(ks(o/i,1/r))-ys]},i}function qf(){return Of(zf).scale(109.5).parallels([30,30])}function Ff(n,t){return[n,t]}function Gf(){return Cf(Ff).scale(152.63)}function Vf(n,t){var e=Ms(n),r=n===t?Cs(n):(e-Ms(t))/(t-n),o=e/r+n;if(xs(r)<1e-6)return Ff;function i(n,t){var e=o-t,i=r*n;return[e*Cs(i),o-e*Ms(i)]}return i.invert=function(n,t){var e=o-t,i=Ss(n,xs(e))*Ps(e);return e*r<0&&(i-=gs*Ps(n)*Ps(e)),[i/r,o-Ps(r)*Os(n*n+e*e)]},i}function Hf(){return Of(Vf).scale(131.154).center([0,13.9389])}function Uf(n,t){var e=Ms(t),r=1+Ms(n)*e;return[e*Cs(n)/r,Cs(t)/r]}function Wf(n,t){return[js(As((ys+t)/2)),-n]}function Yf(){}If.invert=function(n,t){return[n,2*Es(Ts(t))-ys]},Ff.invert=Ff,Uf.invert=(Tf=function(n){return 2*Es(n)},function(n,t){var e=Os(n*n+t*t),r=Tf(e),o=Cs(r),i=Ms(r);return[Ss(n*o,e*i),Ns(e&&t*o/e)]}),Wf.invert=function(n,t){return[-t,2*Es(Ts(n))-ys]};var $f=1/0,Jf=$f,Xf=-$f,Qf=Xf,Kf={point:function(n,t){n<$f&&($f=n);n>Xf&&(Xf=n);t<Jf&&(Jf=t);t>Qf&&(Qf=t)},lineStart:Yf,lineEnd:Yf,polygonStart:Yf,polygonEnd:Yf,result:function(){var n=[[$f,Jf],[Xf,Qf]];return Xf=Qf=-(Jf=$f=1/0),n}};function Zf(n,t,e){var r=t[1][0]-t[0][0],o=t[1][1]-t[0][1],i=n.clipExtent&&n.clipExtent();n.scale(150).translate([0,0]),null!=i&&n.clipExtent(null),qs(e,n.stream(Kf));var a=Kf.result(),u=Math.min(r/(a[1][0]-a[0][0]),o/(a[1][1]-a[0][1])),c=+t[0][0]+(r-u*(a[1][0]+a[0][0]))/2,s=+t[0][1]+(o-u*(a[1][1]+a[0][1]))/2;return null!=i&&n.clipExtent(i),n.scale(150*u).translate([c,s])}function nl(n,t,e){return Zf(n,[[0,0],t],e)}const tl=Math.PI,el=2*tl,rl=el-1e-6;function ol(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function il(){return new ol}ol.prototype=il.prototype={constructor:ol,moveTo:function(n,t){this._+="M"+(this._x0=this._x1=+n)+","+(this._y0=this._y1=+t)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(n,t){this._+="L"+(this._x1=+n)+","+(this._y1=+t)},quadraticCurveTo:function(n,t,e,r){this._+="Q"+ +n+","+ +t+","+(this._x1=+e)+","+(this._y1=+r)},bezierCurveTo:function(n,t,e,r,o,i){this._+="C"+ +n+","+ +t+","+ +e+","+ +r+","+(this._x1=+o)+","+(this._y1=+i)},arcTo:function(n,t,e,r,o){n=+n,t=+t,e=+e,r=+r,o=+o;var i=this._x1,a=this._y1,u=e-n,c=r-t,s=i-n,f=a-t,l=s*s+f*f;if(o<0)throw new Error("negative radius: "+o);if(null===this._x1)this._+="M"+(this._x1=n)+","+(this._y1=t);else if(l>1e-6)if(Math.abs(f*u-c*s)>1e-6&&o){var h=e-i,p=r-a,v=u*u+c*c,d=h*h+p*p,g=Math.sqrt(v),y=Math.sqrt(l),m=o*Math.tan((tl-Math.acos((v+l-d)/(2*g*y)))/2),w=m/y,_=m/g;Math.abs(w-1)>1e-6&&(this._+="L"+(n+w*s)+","+(t+w*f)),this._+="A"+o+","+o+",0,0,"+ +(f*h>s*p)+","+(this._x1=n+_*u)+","+(this._y1=t+_*c)}else this._+="L"+(this._x1=n)+","+(this._y1=t);else;},arc:function(n,t,e,r,o,i){n=+n,t=+t,i=!!i;var a=(e=+e)*Math.cos(r),u=e*Math.sin(r),c=n+a,s=t+u,f=1^i,l=i?r-o:o-r;if(e<0)throw new Error("negative radius: "+e);null===this._x1?this._+="M"+c+","+s:(Math.abs(this._x1-c)>1e-6||Math.abs(this._y1-s)>1e-6)&&(this._+="L"+c+","+s),e&&(l<0&&(l=l%el+el),l>rl?this._+="A"+e+","+e+",0,1,"+f+","+(n-a)+","+(t-u)+"A"+e+","+e+",0,1,"+f+","+(this._x1=c)+","+(this._y1=s):l>1e-6&&(this._+="A"+e+","+e+",0,"+ +(l>=tl)+","+f+","+(this._x1=n+e*Math.cos(o))+","+(this._y1=t+e*Math.sin(o))))},rect:function(n,t,e,r){this._+="M"+(this._x0=this._x1=+n)+","+(this._y0=this._y1=+t)+"h"+ +e+"v"+ +r+"h"+-e+"Z"},toString:function(){return this._}};var al=t(Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",geoAlbersUsa:function(){var n,t,e,r,o,i,a=Rf(),u=Nf().rotate([154,0]).center([-2,58.5]).parallels([55,65]),c=Nf().rotate([157,0]).center([-3,19.9]).parallels([8,18]),s={point:function(n,t){i=[n,t]}};function f(n){var t=n[0],a=n[1];return i=null,e.point(t,a),i||(r.point(t,a),i)||(o.point(t,a),i)}function l(){return n=t=null,f}return f.invert=function(n){var t=a.scale(),e=a.translate(),r=(n[0]-e[0])/t,o=(n[1]-e[1])/t;return(o>=.12&&o<.234&&r>=-.425&&r<-.214?u:o>=.166&&o<.234&&r>=-.214&&r<-.115?c:a).invert(n)},f.stream=function(e){return n&&t===e?n:(r=[a.stream(t=e),u.stream(e),c.stream(e)],o=r.length,n={point:function(n,t){for(var e=-1;++e<o;)r[e].point(n,t)},sphere:function(){for(var n=-1;++n<o;)r[n].sphere()},lineStart:function(){for(var n=-1;++n<o;)r[n].lineStart()},lineEnd:function(){for(var n=-1;++n<o;)r[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<o;)r[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<o;)r[n].polygonEnd()}});var r,o},f.precision=function(n){return arguments.length?(a.precision(n),u.precision(n),c.precision(n),l()):a.precision()},f.scale=function(n){return arguments.length?(a.scale(n),u.scale(.35*n),c.scale(n),f.translate(a.translate())):a.scale()},f.translate=function(n){if(!arguments.length)return a.translate();var t=a.scale(),i=+n[0],f=+n[1];return e=a.translate(n).clipExtent([[i-.455*t,f-.238*t],[i+.455*t,f+.238*t]]).stream(s),r=u.translate([i-.307*t,f+.201*t]).clipExtent([[i-.425*t+1e-6,f+.12*t+1e-6],[i-.214*t-1e-6,f+.234*t-1e-6]]).stream(s),o=c.translate([i-.205*t,f+.212*t]).clipExtent([[i-.214*t+1e-6,f+.166*t+1e-6],[i-.115*t-1e-6,f+.234*t-1e-6]]).stream(s),l()},f.fitExtent=function(n,t){return Zf(f,n,t)},f.fitSize=function(n,t){return nl(f,n,t)},f.drawCompositionBorders=function(n){var t=a([-102.91,26.3]),e=a([-104,27.5]),r=a([-108,29.1]),o=a([-110,29.1]),i=a([-110,26.7]),u=a([-112.8,27.6]),c=a([-114.3,30.6]),s=a([-119.3,30.1]);n.moveTo(t[0],t[1]),n.lineTo(e[0],e[1]),n.lineTo(r[0],r[1]),n.lineTo(o[0],o[1]),n.moveTo(i[0],i[1]),n.lineTo(u[0],u[1]),n.lineTo(c[0],c[1]),n.lineTo(s[0],s[1])},f.getCompositionBorders=function(){var n=il();return this.drawCompositionBorders(n),n.toString()},f.scale(1070)},geoAlbersUsaTerritories:function(){var n,t,e,r,o,i,a,u,c,s=Rf(),f=Nf().rotate([154,0]).center([-2,58.5]).parallels([55,65]),l=Nf().rotate([157,0]).center([-3,19.9]).parallels([8,18]),h=Nf().rotate([66,0]).center([0,18]).parallels([8,18]),p=Gf().rotate([173,14]),v=Gf().rotate([-145,-16.8]),d={point:function(n,t){c=[n,t]}};function g(n){var t=n[0],s=n[1];return c=null,e.point(t,s),c||(r.point(t,s),c)||(o.point(t,s),c)||(i.point(t,s),c)||(a.point(t,s),c)||(u.point(t,s),c)}function y(){return n=t=null,g}return g.invert=function(n){var t=s.scale(),e=s.translate(),r=(n[0]-e[0])/t,o=(n[1]-e[1])/t;return(o>=.12&&o<.234&&r>=-.425&&r<-.214?f:o>=.166&&o<.234&&r>=-.214&&r<-.115?l:o>=.2064&&o<.2413&&r>=.312&&r<.385?h:o>=.09&&o<.1197&&r>=-.4243&&r<-.3232?p:o>=-.0518&&o<.0895&&r>=-.4243&&r<-.3824?v:s).invert(n)},g.stream=function(e){return n&&t===e?n:(r=[s.stream(t=e),f.stream(e),l.stream(e),h.stream(e),p.stream(e),v.stream(e)],o=r.length,n={point:function(n,t){for(var e=-1;++e<o;)r[e].point(n,t)},sphere:function(){for(var n=-1;++n<o;)r[n].sphere()},lineStart:function(){for(var n=-1;++n<o;)r[n].lineStart()},lineEnd:function(){for(var n=-1;++n<o;)r[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<o;)r[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<o;)r[n].polygonEnd()}});var r,o},g.precision=function(n){return arguments.length?(s.precision(n),f.precision(n),l.precision(n),h.precision(n),p.precision(n),v.precision(n),y()):s.precision()},g.scale=function(n){return arguments.length?(s.scale(n),f.scale(.35*n),l.scale(n),h.scale(n),p.scale(2*n),v.scale(n),g.translate(s.translate())):s.scale()},g.translate=function(n){if(!arguments.length)return s.translate();var t=s.scale(),c=+n[0],g=+n[1];return e=s.translate(n).clipExtent([[c-.455*t,g-.238*t],[c+.455*t,g+.238*t]]).stream(d),r=f.translate([c-.307*t,g+.201*t]).clipExtent([[c-.425*t+1e-6,g+.12*t+1e-6],[c-.214*t-1e-6,g+.233*t-1e-6]]).stream(d),o=l.translate([c-.205*t,g+.212*t]).clipExtent([[c-.214*t+1e-6,g+.166*t+1e-6],[c-.115*t-1e-6,g+.233*t-1e-6]]).stream(d),i=h.translate([c+.35*t,g+.224*t]).clipExtent([[c+.312*t+1e-6,g+.2064*t+1e-6],[c+.385*t-1e-6,g+.233*t-1e-6]]).stream(d),a=p.translate([c-.492*t,g+.09*t]).clipExtent([[c-.4243*t+1e-6,g+.0903*t+1e-6],[c-.3233*t-1e-6,g+.1197*t-1e-6]]).stream(d),u=v.translate([c-.408*t,g+.018*t]).clipExtent([[c-.4244*t+1e-6,g-.0519*t+1e-6],[c-.3824*t-1e-6,g+.0895*t-1e-6]]).stream(d),y()},g.fitExtent=function(n,t){return Zf(g,n,t)},g.fitSize=function(n,t){return nl(g,n,t)},g.drawCompositionBorders=function(n){var t=s([-110.4641,28.2805]),e=s([-104.0597,28.9528]),r=s([-103.7049,25.1031]),o=s([-109.8337,24.4531]),i=s([-124.4745,28.1407]),a=s([-110.931,30.8844]),u=s([-109.8337,24.4531]),c=s([-122.4628,21.8562]),f=s([-76.8579,25.1544]),l=s([-72.429,24.2097]),h=s([-72.8265,22.7056]),p=s([-77.1852,23.6392]),v=s([-125.0093,29.7791]),d=s([-118.5193,31.3262]),g=s([-118.064,29.6912]),y=s([-124.4369,28.169]),m=s([-128.1314,37.4582]),w=s([-125.2132,38.214]),_=s([-122.3616,30.5115]),b=s([-125.0315,29.8211]);n.moveTo(t[0],t[1]),n.lineTo(e[0],e[1]),n.lineTo(r[0],r[1]),n.lineTo(r[0],r[1]),n.lineTo(o[0],o[1]),n.closePath(),n.moveTo(i[0],i[1]),n.lineTo(a[0],a[1]),n.lineTo(u[0],u[1]),n.lineTo(u[0],u[1]),n.lineTo(c[0],c[1]),n.closePath(),n.moveTo(f[0],f[1]),n.lineTo(l[0],l[1]),n.lineTo(h[0],h[1]),n.lineTo(h[0],h[1]),n.lineTo(p[0],p[1]),n.closePath(),n.moveTo(v[0],v[1]),n.lineTo(d[0],d[1]),n.lineTo(g[0],g[1]),n.lineTo(g[0],g[1]),n.lineTo(y[0],y[1]),n.closePath(),n.moveTo(m[0],m[1]),n.lineTo(w[0],w[1]),n.lineTo(_[0],_[1]),n.lineTo(_[0],_[1]),n.lineTo(b[0],b[1]),n.closePath()},g.getCompositionBorders=function(){var n=il();return this.drawCompositionBorders(n),n.toString()},g.scale(1070)},geoConicConformalSpain:function(){var n,t,e,r,o,i=qf().rotate([5,-38.6]).parallels([0,60]),a=qf().rotate([5,-38.6]).parallels([0,60]),u={point:function(n,t){o=[n,t]}};function c(n){var t=n[0],i=n[1];return o=null,e.point(t,i),o||(r.point(t,i),o)}function s(){return n=t=null,c}return c.invert=function(n){var t=i.scale(),e=i.translate(),r=(n[0]-e[0])/t,o=(n[1]-e[1])/t;return(o>=.05346&&o<.0897&&r>=-.13388&&r<-.0322?a:i).invert(n)},c.stream=function(e){return n&&t===e?n:(r=[i.stream(t=e),a.stream(e)],o=r.length,n={point:function(n,t){for(var e=-1;++e<o;)r[e].point(n,t)},sphere:function(){for(var n=-1;++n<o;)r[n].sphere()},lineStart:function(){for(var n=-1;++n<o;)r[n].lineStart()},lineEnd:function(){for(var n=-1;++n<o;)r[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<o;)r[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<o;)r[n].polygonEnd()}});var r,o},c.precision=function(n){return arguments.length?(i.precision(n),a.precision(n),s()):i.precision()},c.scale=function(n){return arguments.length?(i.scale(n),a.scale(n),c.translate(i.translate())):i.scale()},c.translate=function(n){if(!arguments.length)return i.translate();var t=i.scale(),o=+n[0],c=+n[1];return e=i.translate(n).clipExtent([[o-.06857*t,c-.1288*t],[o+.13249*t,c+.06*t]]).stream(u),r=a.translate([o+.1*t,c-.094*t]).clipExtent([[o-.1331*t+1e-6,c+.053457*t+1e-6],[o-.0354*t-1e-6,c+.08969*t-1e-6]]).stream(u),s()},c.fitExtent=function(n,t){return Zf(c,n,t)},c.fitSize=function(n,t){return nl(c,n,t)},c.drawCompositionBorders=function(n){var t=i([-14.034675,34.965007]),e=i([-7.4208899,35.536988]),r=i([-7.3148275,33.54359]);n.moveTo(t[0],t[1]),n.lineTo(e[0],e[1]),n.lineTo(r[0],r[1])},c.getCompositionBorders=function(){var n=il();return this.drawCompositionBorders(n),n.toString()},c.scale(2700)},geoConicConformalPortugal:function(){var n,t,e,r,o,i,a=qf().rotate([10,-39.3]).parallels([0,60]),u=qf().rotate([17,-32.7]).parallels([0,60]),c=qf().rotate([27.8,-38.6]).parallels([0,60]),s={point:function(n,t){i=[n,t]}};function f(n){var t=n[0],a=n[1];return i=null,e.point(t,a),i||(r.point(t,a),i)||(o.point(t,a),i)}function l(){return n=t=null,f}return f.invert=function(n){var t=a.scale(),e=a.translate(),r=(n[0]-e[0])/t,o=(n[1]-e[1])/t;return(o>=.0093&&o<.03678&&r>=-.03875&&r<-.0116?u:o>=-.0412&&o<.0091&&r>=-.07782&&r<-.01166?c:a).invert(n)},f.stream=function(e){return n&&t===e?n:(r=[a.stream(t=e),u.stream(e),c.stream(e)],o=r.length,n={point:function(n,t){for(var e=-1;++e<o;)r[e].point(n,t)},sphere:function(){for(var n=-1;++n<o;)r[n].sphere()},lineStart:function(){for(var n=-1;++n<o;)r[n].lineStart()},lineEnd:function(){for(var n=-1;++n<o;)r[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<o;)r[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<o;)r[n].polygonEnd()}});var r,o},f.precision=function(n){return arguments.length?(a.precision(n),u.precision(n),c.precision(n),l()):a.precision()},f.scale=function(n){return arguments.length?(a.scale(n),u.scale(n),c.scale(.6*n),f.translate(a.translate())):a.scale()},f.translate=function(n){if(!arguments.length)return a.translate();var t=a.scale(),i=+n[0],f=+n[1];return e=a.translate(n).clipExtent([[i-.0115*t,f-.1138*t],[i+.2105*t,f+.0673*t]]).stream(s),r=u.translate([i-.0265*t,f+.025*t]).clipExtent([[i-.0388*t+1e-6,f+.0093*t+1e-6],[i-.0116*t-1e-6,f+.0368*t-1e-6]]).stream(s),o=c.translate([i-.045*t,f+-.02*t]).clipExtent([[i-.0778*t+1e-6,f-.0413*t+1e-6],[i-.0117*t-1e-6,f+.0091*t-1e-6]]).stream(s),l()},f.fitExtent=function(n,t){return Zf(f,n,t)},f.fitSize=function(n,t){return nl(f,n,t)},f.drawCompositionBorders=function(n){var t=a([-12.8351,38.7113]),e=a([-10.8482,38.7633]),r=a([-10.8181,37.2072]),o=a([-12.7345,37.1573]),i=a([-16.0753,41.4436]),u=a([-10.9168,41.6861]),c=a([-10.8557,38.7747]),s=a([-15.6728,38.5505]);n.moveTo(t[0],t[1]),n.lineTo(e[0],e[1]),n.lineTo(r[0],r[1]),n.lineTo(r[0],r[1]),n.lineTo(o[0],o[1]),n.closePath(),n.moveTo(i[0],i[1]),n.lineTo(u[0],u[1]),n.lineTo(c[0],c[1]),n.lineTo(c[0],c[1]),n.lineTo(s[0],s[1]),n.closePath()},f.getCompositionBorders=function(){var n=il();return this.drawCompositionBorders(n),n.toString()},f.scale(4200)},geoMercatorEcuador:function(){var n,t,e,r,o,i=Df().rotate([80,1.5]),a=Df().rotate([90.73,1]),u={point:function(n,t){o=[n,t]}};function c(n){var t=n[0],i=n[1];return o=null,e.point(t,i),o||(r.point(t,i),o)}function s(){return n=t=null,c}return c.invert=function(n){var t=i.scale(),e=i.translate(),r=(n[0]-e[0])/t,o=(n[1]-e[1])/t;return(o>=-.0676&&o<-.026&&r>=-.0857&&r<-.0263?a:i).invert(n)},c.stream=function(e){return n&&t===e?n:(r=[i.stream(t=e),a.stream(e)],o=r.length,n={point:function(n,t){for(var e=-1;++e<o;)r[e].point(n,t)},sphere:function(){for(var n=-1;++n<o;)r[n].sphere()},lineStart:function(){for(var n=-1;++n<o;)r[n].lineStart()},lineEnd:function(){for(var n=-1;++n<o;)r[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<o;)r[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<o;)r[n].polygonEnd()}});var r,o},c.precision=function(n){return arguments.length?(i.precision(n),a.precision(n),s()):i.precision()},c.scale=function(n){return arguments.length?(i.scale(n),a.scale(n),c.translate(i.translate())):i.scale()},c.translate=function(n){if(!arguments.length)return i.translate();var t=i.scale(),o=+n[0],c=+n[1];return e=i.translate(n).clipExtent([[o-.0262*t,c-.0734*t],[o+.1741*t,c+.079*t]]).stream(u),r=a.translate([o-.06*t,c-.04*t]).clipExtent([[o-.0857*t+1e-6,c-.0676*t+1e-6],[o-.0263*t-1e-6,c-.026*t-1e-6]]).stream(u),s()},c.fitExtent=function(n,t){return Zf(c,n,t)},c.fitSize=function(n,t){return nl(c,n,t)},c.drawCompositionBorders=function(n){var t=i([-84.9032,2.3757]),e=i([-81.5047,2.3708]),r=i([-81.5063,-.01]),o=i([-84.9086,-.005]);n.moveTo(t[0],t[1]),n.lineTo(e[0],e[1]),n.lineTo(r[0],r[1]),n.lineTo(o[0],o[1]),n.closePath()},c.getCompositionBorders=function(){var n=il();return this.drawCompositionBorders(n),n.toString()},c.scale(3500)},geoTransverseMercatorChile:function(){var n,t,e,r,o,i,a,u,c,s,f=(u=Lf(Wf),c=u.center,s=u.rotate,u.center=function(n){return arguments.length?c([-n[1],n[0]]):[(n=c())[1],-n[0]]},u.rotate=function(n){return arguments.length?s([n[0],n[1],n.length>2?n[2]+90:90]):[(n=s())[0],n[1],n[2]-90]},s([0,0,90]).scale(159.155)).rotate([72,37]),l=Cf(Uf).scale(250).clipAngle(142).rotate([72,0]),h=Df().rotate([80,33.5]),p=Df().rotate([110,25]),v={point:function(n,t){a=[n,t]}};function d(n){var t=n[0],u=n[1];return a=null,e.point(t,u),a||(r.point(t,u),a)||(o.point(t,u),a)||(i.point(t,u),a)}function g(){return n=t=null,d}return d.invert=function(n){var t=f.scale(),e=f.translate(),r=(n[0]-e[0])/t,o=(n[1]-e[1])/t;return(o>=.2582&&o<.32&&r>=-.1036&&r<-.087?l:o>=-.01298&&o<.0133&&r>=-.11396&&r<-.05944?h:o>=.01539&&o<.03911&&r>=-.089&&r<-.0588?p:f).invert(n)},d.stream=function(e){return n&&t===e?n:(r=[f.stream(t=e),l.stream(e),h.stream(e),p.stream(e)],o=r.length,n={point:function(n,t){for(var e=-1;++e<o;)r[e].point(n,t)},sphere:function(){for(var n=-1;++n<o;)r[n].sphere()},lineStart:function(){for(var n=-1;++n<o;)r[n].lineStart()},lineEnd:function(){for(var n=-1;++n<o;)r[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<o;)r[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<o;)r[n].polygonEnd()}});var r,o},d.precision=function(n){return arguments.length?(f.precision(n),l.precision(n),h.precision(n),p.precision(n),g()):f.precision()},d.scale=function(n){return arguments.length?(f.scale(n),l.scale(.15*n),h.scale(1.5*n),p.scale(1.5*n),d.translate(f.translate())):f.scale()},d.translate=function(n){if(!arguments.length)return f.translate();var t=f.scale(),a=+n[0],u=+n[1];return e=f.translate(n).clipExtent([[a-.059*t,u-.3835*t],[a+.4498*t,u+.3375*t]]).stream(v),r=l.translate([a-.087*t,u+.17*t]).clipExtent([[a-.1166*t+1e-6,u+.2582*t+1e-6],[a-.06*t-1e-6,u+.32*t-1e-6]]).stream(v),o=h.translate([a-.092*t,u-0*t]).clipExtent([[a-.114*t+1e-6,u-.013*t+1e-6],[a-.0594*t-1e-6,u+.0133*t-1e-6]]).stream(v),i=p.translate([a-.089*t,u-.0265*t]).clipExtent([[a-.089*t+1e-6,u+.0154*t+1e-6],[a-.0588*t-1e-6,u+.0391*t-1e-6]]).stream(v),g()},d.fitExtent=function(n,t){return Zf(d,n,t)},d.fitSize=function(n,t){return nl(d,n,t)},d.drawCompositionBorders=function(n){var t=f([-82.6999,-51.3043]),e=f([-77.5442,-51.6631]),r=f([-78.0254,-55.186]),o=f([-83.6106,-54.7785]),i=f([-80.0638,-35.984]),a=f([-76.2153,-36.1811]),u=f([-76.2994,-37.6839]),c=f([-80.2231,-37.4757]),s=f([-78.442,-37.706]),l=f([-76.263,-37.8054]),h=f([-76.344,-39.1595]),p=f([-78.5638,-39.0559]);n.moveTo(t[0],t[1]),n.lineTo(e[0],e[1]),n.lineTo(r[0],r[1]),n.lineTo(r[0],r[1]),n.lineTo(o[0],o[1]),n.closePath(),n.moveTo(i[0],i[1]),n.lineTo(a[0],a[1]),n.lineTo(u[0],u[1]),n.lineTo(u[0],u[1]),n.lineTo(c[0],c[1]),n.closePath(),n.moveTo(s[0],s[1]),n.lineTo(l[0],l[1]),n.lineTo(h[0],h[1]),n.lineTo(h[0],h[1]),n.lineTo(p[0],p[1]),n.closePath()},d.getCompositionBorders=function(){var n=il();return this.drawCompositionBorders(n),n.toString()},d.scale(700)},geoConicEquidistantJapan:function(){var n,t,e,r,o,i,a=Hf().rotate([-136,-22]).parallels([40,34]),u=Hf().rotate([-146,-26]).parallels([40,34]),c=Hf().rotate([-126,-19]).parallels([40,34]),s={point:function(n,t){i=[n,t]}};function f(n){var t=n[0],a=n[1];return i=null,e.point(t,a),i||(r.point(t,a),i)||(o.point(t,a),i)}function l(){return n=t=null,f}return f.invert=function(n){var t=a.scale(),e=a.translate(),r=(n[0]-e[0])/t,o=(n[1]-e[1])/t;return(o>=-.10925&&o<-.02701&&r>=-.135&&r<-.0397?u:o>=.04713&&o<.11138&&r>=-.03986&&r<.051?c:a).invert(n)},f.stream=function(e){return n&&t===e?n:(r=[a.stream(t=e),u.stream(e),c.stream(e)],o=r.length,n={point:function(n,t){for(var e=-1;++e<o;)r[e].point(n,t)},sphere:function(){for(var n=-1;++n<o;)r[n].sphere()},lineStart:function(){for(var n=-1;++n<o;)r[n].lineStart()},lineEnd:function(){for(var n=-1;++n<o;)r[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<o;)r[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<o;)r[n].polygonEnd()}});var r,o},f.precision=function(n){return arguments.length?(a.precision(n),u.precision(n),c.precision(n),l()):a.precision()},f.scale=function(n){return arguments.length?(a.scale(n),u.scale(n),c.scale(.7*n),f.translate(a.translate())):a.scale()},f.translate=function(n){if(!arguments.length)return a.translate();var t=a.scale(),i=+n[0],f=+n[1];return e=a.translate(n).clipExtent([[i-.1352*t,f-.1091*t],[i+.117*t,f+.098*t]]).stream(s),r=u.translate([i-.0425*t,f-.005*t]).clipExtent([[i-.135*t+1e-6,f-.1093*t+1e-6],[i-.0397*t-1e-6,f-.027*t-1e-6]]).stream(s),o=c.translate(n).clipExtent([[i-.0399*t+1e-6,f+.0471*t+1e-6],[i+.051*t-1e-6,f+.1114*t-1e-6]]).stream(s),l()},f.fitExtent=function(n,t){return Zf(f,n,t)},f.fitSize=function(n,t){return nl(f,n,t)},f.drawCompositionBorders=function(n){var t=a([126.01320483689143,41.621090310215585]),e=a([133.04304387025903,42.15087523707186]),r=a([133.3021766080688,37.43975444725098]),o=a([126.87889168628224,36.95488945159779]),i=a([132.9,29.8]),u=a([134,33]),c=a([139.3,33.2]),s=a([139.16,30.5]);n.moveTo(t[0],t[1]),n.lineTo(e[0],e[1]),n.lineTo(r[0],r[1]),n.lineTo(o[0],o[1]),n.closePath(),n.moveTo(i[0],i[1]),n.lineTo(u[0],u[1]),n.lineTo(c[0],c[1]),n.lineTo(s[0],s[1])},f.getCompositionBorders=function(){var n=il();return this.drawCompositionBorders(n),n.toString()},f.scale(2200)},geoConicConformalFrance:function(){var n,t,e,r,o,i,a,u,c,s,f,l,h,p,v,d=qf().rotate([-3,-46.2]).parallels([0,60]),g=Df().center([-53.2,3.9]),y=Df().center([-61.03,14.67]),m=Df().center([-61.46,16.14]),w=Df().center([-62.85,17.92]),_=Df().center([-56.23,46.93]),b=Df().center([45.16,-12.8]),x=Df().center([55.52,-21.13]),E=Df().center([165.8,-21.07]),S=Df().center([-178.1,-14.3]),M=Df().center([-150.55,-17.11]),T=Df().center([-150.55,-17.11]),j={point:function(n,t){v=[n,t]}};function k(n){var t=n[0],d=n[1];return v=null,e.point(t,d),v||(r.point(t,d),v)||(o.point(t,d),v)||(i.point(t,d),v)||(a.point(t,d),v)||(u.point(t,d),v)||(c.point(t,d),v)||(s.point(t,d),v)||(f.point(t,d),v)||(l.point(t,d),v)||(h.point(t,d),v)||(p.point(t,d),v)}function C(){return n=t=null,k}return k.invert=function(n){var t=d.scale(),e=d.translate(),r=(n[0]-e[0])/t,o=(n[1]-e[1])/t;return(o>=.029&&o<.0864&&r>=-.14&&r<-.0996?g:o>=0&&o<.029&&r>=-.14&&r<-.0996?y:o>=-.032&&o<0&&r>=-.14&&r<-.0996?m:o>=-.052&&o<-.032&&r>=-.14&&r<-.0996?w:o>=-.076&&o<.052&&r>=-.14&&r<-.0996?_:o>=-.076&&o<-.052&&r>=.0967&&r<.1371?b:o>=-.052&&o<-.02&&r>=.0967&&r<.1371?x:o>=-.02&&o<.012&&r>=.0967&&r<.1371?E:o>=.012&&o<.033&&r>=.0967&&r<.1371?S:o>=.033&&o<.0864&&r>=.0967&&r<.1371?M:d).invert(n)},k.stream=function(e){return n&&t===e?n:(r=[d.stream(t=e),g.stream(e),y.stream(e),m.stream(e),w.stream(e),_.stream(e),b.stream(e),x.stream(e),E.stream(e),S.stream(e),M.stream(e),T.stream(e)],o=r.length,n={point:function(n,t){for(var e=-1;++e<o;)r[e].point(n,t)},sphere:function(){for(var n=-1;++n<o;)r[n].sphere()},lineStart:function(){for(var n=-1;++n<o;)r[n].lineStart()},lineEnd:function(){for(var n=-1;++n<o;)r[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<o;)r[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<o;)r[n].polygonEnd()}});var r,o},k.precision=function(n){return arguments.length?(d.precision(n),g.precision(n),y.precision(n),m.precision(n),w.precision(n),_.precision(n),b.precision(n),x.precision(n),E.precision(n),S.precision(n),M.precision(n),T.precision(n),C()):d.precision()},k.scale=function(n){return arguments.length?(d.scale(n),g.scale(.6*n),y.scale(1.6*n),m.scale(1.4*n),w.scale(5*n),_.scale(1.3*n),b.scale(1.6*n),x.scale(1.2*n),E.scale(.3*n),S.scale(2.7*n),M.scale(.5*n),T.scale(.06*n),k.translate(d.translate())):d.scale()},k.translate=function(n){if(!arguments.length)return d.translate();var t=d.scale(),v=+n[0],k=+n[1];return e=d.translate(n).clipExtent([[v-.0996*t,k-.0908*t],[v+.0967*t,k+.0864*t]]).stream(j),r=g.translate([v-.12*t,k+.0575*t]).clipExtent([[v-.14*t+1e-6,k+.029*t+1e-6],[v-.0996*t-1e-6,k+.0864*t-1e-6]]).stream(j),o=y.translate([v-.12*t,k+.013*t]).clipExtent([[v-.14*t+1e-6,k+0*t+1e-6],[v-.0996*t-1e-6,k+.029*t-1e-6]]).stream(j),i=m.translate([v-.12*t,k-.014*t]).clipExtent([[v-.14*t+1e-6,k-.032*t+1e-6],[v-.0996*t-1e-6,k+0*t-1e-6]]).stream(j),a=w.translate([v-.12*t,k-.044*t]).clipExtent([[v-.14*t+1e-6,k-.052*t+1e-6],[v-.0996*t-1e-6,k-.032*t-1e-6]]).stream(j),u=_.translate([v-.12*t,k-.065*t]).clipExtent([[v-.14*t+1e-6,k-.076*t+1e-6],[v-.0996*t-1e-6,k-.052*t-1e-6]]).stream(j),c=b.translate([v+.117*t,k-.064*t]).clipExtent([[v+.0967*t+1e-6,k-.076*t+1e-6],[v+.1371*t-1e-6,k-.052*t-1e-6]]).stream(j),s=x.translate([v+.116*t,k-.0355*t]).clipExtent([[v+.0967*t+1e-6,k-.052*t+1e-6],[v+.1371*t-1e-6,k-.02*t-1e-6]]).stream(j),f=E.translate([v+.116*t,k-.0048*t]).clipExtent([[v+.0967*t+1e-6,k-.02*t+1e-6],[v+.1371*t-1e-6,k+.012*t-1e-6]]).stream(j),l=S.translate([v+.116*t,k+.022*t]).clipExtent([[v+.0967*t+1e-6,k+.012*t+1e-6],[v+.1371*t-1e-6,k+.033*t-1e-6]]).stream(j),p=T.translate([v+.11*t,k+.045*t]).clipExtent([[v+.0967*t+1e-6,k+.033*t+1e-6],[v+.1371*t-1e-6,k+.06*t-1e-6]]).stream(j),h=M.translate([v+.115*t,k+.075*t]).clipExtent([[v+.0967*t+1e-6,k+.06*t+1e-6],[v+.1371*t-1e-6,k+.0864*t-1e-6]]).stream(j),C()},k.fitExtent=function(n,t){return Zf(k,n,t)},k.fitSize=function(n,t){return nl(k,n,t)},k.drawCompositionBorders=function(n){var t,e,r,o;t=d([-7.938886725111036,43.7219460918835]),e=d([-4.832080896458295,44.12930268549372]),r=d([-4.205299743793263,40.98096346967365]),o=d([-7.071796453126152,40.610037319181444]),n.moveTo(t[0],t[1]),n.lineTo(e[0],e[1]),n.lineTo(r[0],r[1]),n.lineTo(o[0],o[1]),n.closePath(),t=d([-8.42751373617692,45.32889452553031]),e=d([-5.18599305777107,45.7566442062976]),r=d([-4.832080905154431,44.129302726751426]),o=d([-7.938886737126192,43.72194613263854]),n.moveTo(t[0],t[1]),n.lineTo(e[0],e[1]),n.lineTo(r[0],r[1]),n.lineTo(o[0],o[1]),n.closePath(),t=d([-9.012656899657046,47.127733821030176]),e=d([-5.6105244772793155,47.579777861410626]),r=d([-5.185993067168585,45.756644248170346]),o=d([-8.427513749141811,45.32889456686326]),n.moveTo(t[0],t[1]),n.lineTo(e[0],e[1]),n.lineTo(r[0],r[1]),n.lineTo(o[0],o[1]),n.closePath(),t=d([-9.405747558985553,48.26506375557457]),e=d([-5.896175018439575,48.733352850851624]),r=d([-5.610524487556043,47.57977790393761]),o=d([-9.012656913808351,47.127733862971255]),n.moveTo(t[0],t[1]),n.lineTo(e[0],e[1]),n.lineTo(r[0],r[1]),n.lineTo(o[0],o[1]),n.closePath(),t=d([-9.908436061346974,49.642448789505856]),e=d([-6.262026716233124,50.131426841787174]),r=d([-5.896175029331232,48.73335289377258]),o=d([-9.40574757396393,48.26506379787767]),n.moveTo(t[0],t[1]),n.lineTo(e[0],e[1]),n.lineTo(r[0],r[1]),n.lineTo(o[0],o[1]),n.closePath(),t=d([11.996907706504462,50.16039028163579]),e=d([15.649907879773343,49.68279246765253]),r=d([15.156712840526632,48.30371557625831]),o=d([11.64122661754411,48.761078240546816]),n.moveTo(t[0],t[1]),n.lineTo(e[0],e[1]),n.lineTo(r[0],r[1]),n.lineTo(o[0],o[1]),n.closePath(),t=d([11.641226606955788,48.7610781975889]),e=d([15.156712825832164,48.30371553390465]),r=d([14.549932166241172,46.4866532486199]),o=d([11.204443787952183,46.91899233914248]),n.moveTo(t[0],t[1]),n.lineTo(e[0],e[1]),n.lineTo(r[0],r[1]),n.lineTo(o[0],o[1]),n.closePath(),t=d([11.204443778297161,46.918992296823646]),e=d([14.549932152815039,46.486653206856396]),r=d([13.994409796764009,44.695833444323256]),o=d([10.805306599253848,45.105133870684924]),n.moveTo(t[0],t[1]),n.lineTo(e[0],e[1]),n.lineTo(r[0],r[1]),n.lineTo(o[0],o[1]),n.closePath(),t=d([10.805306590412085,45.10513382903308]),e=d([13.99440978444733,44.695833403183606]),r=d([13.654633799024392,43.53552468558152]),o=d([10.561516803980956,43.930671459798624]),n.moveTo(t[0],t[1]),n.lineTo(e[0],e[1]),n.lineTo(r[0],r[1]),n.lineTo(o[0],o[1]),n.closePath(),t=d([10.561516795617383,43.93067141859757]),e=d([13.654633787361952,43.5355246448671]),r=d([12.867691604239901,40.640701985019405]),o=d([9.997809515987688,41.00288343254471]),n.moveTo(t[0],t[1]),n.lineTo(e[0],e[1]),n.lineTo(r[0],r[1]),n.lineTo(o[0],o[1]),n.closePath(),t=d([10.8,42.4]),e=d([12.8,42.13]),n.moveTo(t[0],t[1]),n.lineTo(e[0],e[1])},k.getCompositionBorders=function(){var n=il();return this.drawCompositionBorders(n),n.toString()},k.scale(2700)},geoConicConformalEurope:function(){var n,t,e,r,o,i,a,u,c,s,f,l,h,p,v,d=qf().rotate([-10,-53]).parallels([0,60]),g=Df().center([-61.46,16.14]),y=Df().center([-53.2,3.9]),m=qf().rotate([27.8,-38.9]).parallels([0,60]),w=qf().rotate([25.43,-37.398]).parallels([0,60]),_=qf().rotate([31.17,-39.539]).parallels([0,60]),b=qf().rotate([17,-32.7]).parallels([0,60]),x=qf().rotate([16,-28.5]).parallels([0,60]),E=Df().center([-61.03,14.67]),S=Df().center([45.16,-12.8]),M=Df().center([55.52,-21.13]),T=qf().rotate([-14.4,-35.95]).parallels([0,60]),j={point:function(n,t){v=[n,t]}};function k(n){var t=n[0],d=n[1];return v=null,e.point(t,d),v||(o.point(t,d),v)||(f.point(t,d),v)||(r.point(t,d),v)||(s.point(t,d),v)||(c.point(t,d),v)||(l.point(t,d),v)||(h.point(t,d),v)||(p.point(t,d),v)||(i.point(t,d),v)||(a.point(t,d),v)||(u.point(t,d),v)}function C(){return n=t=null,k}return k.invert=function(n){var t=d.scale(),e=d.translate(),r=(n[0]-(e[0]+.08*t))/t,o=(n[1]-e[1])/t;return(o>=-.31&&o<-.24&&r>=.14&&r<.24?g:o>=-.24&&o<-.17&&r>=.14&&r<.24?y:o>=-.17&&o<-.12&&r>=.21&&r<.24?w:o>=-.17&&o<-.14&&r>=.14&&r<.165?_:o>=-.17&&o<-.1&&r>=.14&&r<.24?m:o>=-.1&&o<-.03&&r>=.14&&r<.24?b:o>=-.03&&o<.04&&r>=.14&&r<.24?x:o>=-.31&&o<-.24&&r>=.24&&r<.34?E:o>=-.24&&o<-.17&&r>=.24&&r<.34?S:o>=-.17&&o<-.1&&r>=.24&&r<.34?M:o>=-.1&&o<-.03&&r>=.24&&r<.34?T:d).invert(n)},k.stream=function(e){return n&&t===e?n:(r=[d.stream(t=e),y.stream(e),E.stream(e),g.stream(e),x.stream(e),b.stream(e),S.stream(e),M.stream(e),T.stream(e),m.stream(e),w.stream(e),_.stream(e)],o=r.length,n={point:function(n,t){for(var e=-1;++e<o;)r[e].point(n,t)},sphere:function(){for(var n=-1;++n<o;)r[n].sphere()},lineStart:function(){for(var n=-1;++n<o;)r[n].lineStart()},lineEnd:function(){for(var n=-1;++n<o;)r[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<o;)r[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<o;)r[n].polygonEnd()}});var r,o},k.precision=function(n){return arguments.length?(d.precision(n),y.precision(n),E.precision(n),g.precision(n),x.precision(n),b.precision(n),S.precision(n),M.precision(n),T.precision(n),m.precision(n),w.precision(n),_.precision(n),C()):d.precision()},k.scale=function(n){return arguments.length?(d.scale(n),g.scale(3*n),y.scale(.8*n),E.scale(3.5*n),M.scale(2.7*n),m.scale(2*n),w.scale(2*n),_.scale(2*n),b.scale(3*n),x.scale(n),S.scale(5.5*n),T.scale(6*n),k.translate(d.translate())):d.scale()},k.translate=function(n){if(!arguments.length)return d.translate();var t=d.scale(),v=+n[0],k=+n[1];return e=d.translate([v-.08*t,k]).clipExtent([[v-.51*t,k-.33*t],[v+.5*t,k+.33*t]]).stream(j),r=g.translate([v+.19*t,k-.275*t]).clipExtent([[v+.14*t+1e-6,k-.31*t+1e-6],[v+.24*t-1e-6,k-.24*t-1e-6]]).stream(j),o=y.translate([v+.19*t,k-.205*t]).clipExtent([[v+.14*t+1e-6,k-.24*t+1e-6],[v+.24*t-1e-6,k-.17*t-1e-6]]).stream(j),i=m.translate([v+.19*t,k-.135*t]).clipExtent([[v+.14*t+1e-6,k-.17*t+1e-6],[v+.24*t-1e-6,k-.1*t-1e-6]]).stream(j),a=w.translate([v+.225*t,k-.147*t]).clipExtent([[v+.21*t+1e-6,k-.17*t+1e-6],[v+.24*t-1e-6,k-.12*t-1e-6]]).stream(j),u=_.translate([v+.153*t,k-.15*t]).clipExtent([[v+.14*t+1e-6,k-.17*t+1e-6],[v+.165*t-1e-6,k-.14*t-1e-6]]).stream(j),c=b.translate([v+.19*t,k-.065*t]).clipExtent([[v+.14*t+1e-6,k-.1*t+1e-6],[v+.24*t-1e-6,k-.03*t-1e-6]]).stream(j),s=x.translate([v+.19*t,k+.005*t]).clipExtent([[v+.14*t+1e-6,k-.03*t+1e-6],[v+.24*t-1e-6,k+.04*t-1e-6]]).stream(j),f=E.translate([v+.29*t,k-.275*t]).clipExtent([[v+.24*t+1e-6,k-.31*t+1e-6],[v+.34*t-1e-6,k-.24*t-1e-6]]).stream(j),l=S.translate([v+.29*t,k-.205*t]).clipExtent([[v+.24*t+1e-6,k-.24*t+1e-6],[v+.34*t-1e-6,k-.17*t-1e-6]]).stream(j),h=M.translate([v+.29*t,k-.135*t]).clipExtent([[v+.24*t+1e-6,k-.17*t+1e-6],[v+.34*t-1e-6,k-.1*t-1e-6]]).stream(j),p=T.translate([v+.29*t,k-.065*t]).clipExtent([[v+.24*t+1e-6,k-.1*t+1e-6],[v+.34*t-1e-6,k-.03*t-1e-6]]).stream(j),C()},k.fitExtent=function(n,t){return Zf(k,n,t)},k.fitSize=function(n,t){return nl(k,n,t)},k.drawCompositionBorders=function(n){var t,e,r,o;t=d([42.45755610828648,63.343658547914934]),e=d([52.65837266667029,59.35045080290929]),r=d([47.19754502247785,56.12653496548117]),o=d([37.673034273363044,59.61638268506111]),n.moveTo(t[0],t[1]),n.lineTo(e[0],e[1]),n.lineTo(r[0],r[1]),n.lineTo(o[0],o[1]),n.closePath(),t=d([59.41110754003403,62.35069727399336]),e=d([66.75050228640794,57.11797303636038]),r=d([60.236065725110436,54.63331433818992]),o=d([52.65837313153311,59.350450804599355]),n.moveTo(t[0],t[1]),n.lineTo(e[0],e[1]),n.lineTo(r[0],r[1]),n.lineTo(o[0],o[1]),n.closePath(),t=d([48.81091130080243,66.93353402634641]),e=d([59.41110730654679,62.35069740653086]),r=d([52.6583728974441,59.3504509222445]),o=d([42.45755631675751,63.34365868805821]),n.moveTo(t[0],t[1]),n.lineTo(e[0],e[1]),n.lineTo(r[0],r[1]),n.lineTo(o[0],o[1]),n.closePath(),t=d([31.054198418446475,52.1080673766184]),e=d([39.09869284884117,49.400700047190554]),r=d([36.0580811499175,46.02944174908498]),o=d([28.690508588835726,48.433126979386415]),n.moveTo(t[0],t[1]),n.lineTo(e[0],e[1]),n.lineTo(r[0],r[1]),n.lineTo(o[0],o[1]),n.closePath(),t=d([33.977877745912025,55.849945501331]),e=d([42.75328432167726,52.78455122462353]),r=d([39.09869297540224,49.400700176148625]),o=d([31.05419851807008,52.10806751810923]),n.moveTo(t[0],t[1]),n.lineTo(e[0],e[1]),n.lineTo(r[0],r[1]),n.lineTo(o[0],o[1]),n.closePath(),t=d([52.658372900759296,59.35045068526415]),e=d([60.23606549583304,54.63331423800264]),r=d([54.6756370953122,51.892298789399455]),o=d([47.19754524788189,56.126534861222794]),n.moveTo(t[0],t[1]),n.lineTo(e[0],e[1]),n.lineTo(r[0],r[1]),n.lineTo(o[0],o[1]),n.closePath(),t=d([47.19754506082455,56.126534735591456]),e=d([54.675636900123514,51.892298681337095]),r=d([49.94448648951486,48.98775484983285]),o=d([42.75328468716108,52.78455126060818]),n.moveTo(t[0],t[1]),n.lineTo(e[0],e[1]),n.lineTo(r[0],r[1]),n.lineTo(o[0],o[1]),n.closePath(),t=d([42.75328453416769,52.78455113209101]),e=d([49.94448632339758,48.98775473706457]),r=d([45.912339990394315,45.99361784987003]),o=d([39.09869317356607,49.40070009378711]),n.moveTo(t[0],t[1]),n.lineTo(e[0],e[1]),n.lineTo(r[0],r[1]),n.lineTo(o[0],o[1]),n.closePath(),t=d([37.673034114296634,59.61638254183119]),e=d([47.197544835420544,56.126534839849846]),r=d([42.75328447467064,52.78455135314068]),o=d([33.977877870363905,55.849945644671145]),n.moveTo(t[0],t[1]),n.lineTo(e[0],e[1]),n.lineTo(r[0],r[1]),n.lineTo(o[0],o[1]),n.closePath(),t=d([44.56748486446032,57.26489367845818]),r=d([43.9335791193588,53.746540942601726]),o=d([43,56]),n.moveTo(t[0],t[1]),n.lineTo(e[0],e[1]),n.lineTo(r[0],r[1]),n.lineTo(o[0],o[1]),n.closePath(),t=d([37.673034114296634,59.61638254183119]),e=d([40.25902691953466,58.83002044222639]),r=d([38.458270492742024,57.26232178028002]),o=d([35.97754948030156,58.00266637992386]),n.moveTo(t[0],t[1]),n.lineTo(e[0],e[1]),n.lineTo(r[0],r[1]),n.lineTo(o[0],o[1]),n.closePath()},k.getCompositionBorders=function(){var n=il();return this.drawCompositionBorders(n),n.toString()},k.scale(750)},geoConicConformalNetherlands:function(){var n,t,e,r,o,i,a=qf().rotate([-5.5,-52.2]).parallels([0,60]),u=Df().center([-68.25,12.2]),c=Df().center([-63.1,17.5]),s={point:function(n,t){i=[n,t]}};function f(n){const[t,a]=n;return i=null,e.point(t,a),i||(r.point(t,a),i)||(o.point(t,a),i)}function l(){return n=t=null,f}return f.invert=function(n){var t=a.scale(),e=a.translate(),r=(n[0]-e[0])/t,o=(n[1]-e[1])/t;return(o>=-.0067&&o<.0015&&r>=-.0232&&r<-.0154?u:o>=-.022&&o<-.014&&r>=-.023&&r<-.014?c:a).invert(n)},f.stream=function(e){return n&&t===e?n:(r=[a.stream(t=e),u.stream(e),c.stream(e)],o=r.length,n={point:function(n,t){for(var e=-1;++e<o;)r[e].point(n,t)},sphere:function(){for(var n=-1;++n<o;)r[n].sphere()},lineStart:function(){for(var n=-1;++n<o;)r[n].lineStart()},lineEnd:function(){for(var n=-1;++n<o;)r[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<o;)r[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<o;)r[n].polygonEnd()}});var r,o},f.precision=function(n){return arguments.length?(a.precision(n),u.precision(n),c.precision(n),l()):a.precision()},f.scale=function(n){return arguments.length?(a.scale(n),u.scale(n),c.scale(n),f.translate(a.translate())):a.scale()},f.translate=function(n){if(!arguments.length)return a.translate();const t=a.scale(),i=+n[0],f=+n[1];return e=a.translate(n).clipExtent([[i-.0245*t,f-.026*t],[i+.023*t,f+.026*t]]).stream(s),r=u.translate([i-.0186*t,f-.00325*t]).clipExtent([[i-.0232*t+1e-6,f-.0067*t+1e-6],[i-.0154*t-1e-6,f+.0015*t-1e-6]]).stream(s),o=c.translate([i-.0185*t,f-.017*t]).clipExtent([[i-.023*t+1e-6,f-.022*t+1e-6],[i-.014*t-1e-6,f-.014*t-1e-6]]).stream(s),l()},f.fitExtent=function(n,t){return Zf(f,n,t)},f.fitSize=function(n,t){return nl(f,n,t)},f.drawCompositionBorders=function(n){var t=a([3.30573,52.5562]),e=a([4.043,52.572]),r=a([4.0646,52.1017]),o=a([3.3382,52.0861]),i=a([3.262,53.439]),u=a([4.1373,53.4571]),c=a([4.1574,52.9946]),s=a([3.2951,52.9768]);n.moveTo(t[0],t[1]),n.lineTo(e[0],e[1]),n.lineTo(r[0],r[1]),n.lineTo(r[0],r[1]),n.lineTo(o[0],o[1]),n.closePath(),n.moveTo(i[0],i[1]),n.lineTo(u[0],u[1]),n.lineTo(c[0],c[1]),n.lineTo(c[0],c[1]),n.lineTo(s[0],s[1]),n.closePath()},f.getCompositionBorders=function(){var n=il();return this.drawCompositionBorders(n),n.toString()},f.scale(4200)},geoMercatorMalaysia:function(){var n,t,e,r,o,i=Df().center([105.25,4]),a=Df().center([118.65,2.86]),u={point:function(n,t){o=[n,t]}};function c(n){var t=n[0],i=n[1];return o=null,e.point(t,i),o||(r.point(t,i),o)}function s(){return n=t=null,c}return c.invert=function(n){var t=i.scale(),e=i.translate(),r=(n[0]-e[0])/t,o=(n[1]-e[1])/t;return(o>=-.0521&&o<.0229&&r>=-.0111&&r<.1?a:i).invert(n)},c.stream=function(e){return n&&t===e?n:(r=[i.stream(t=e),a.stream(e)],o=r.length,n={point:function(n,t){for(var e=-1;++e<o;)r[e].point(n,t)},sphere:function(){for(var n=-1;++n<o;)r[n].sphere()},lineStart:function(){for(var n=-1;++n<o;)r[n].lineStart()},lineEnd:function(){for(var n=-1;++n<o;)r[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<o;)r[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<o;)r[n].polygonEnd()}});var r,o},c.precision=function(n){return arguments.length?(i.precision(n),a.precision(n),s()):i.precision()},c.scale=function(n){return arguments.length?(i.scale(n),a.scale(.615*n),c.translate(i.translate())):i.scale()},c.translate=function(n){if(!arguments.length)return i.translate();var t=i.scale(),o=+n[0],c=+n[1];return e=i.translate(n).clipExtent([[o-.11*t,c-.0521*t],[o-.0111*t,c+.0521*t]]).stream(u),r=a.translate([o+.09*t,c-0*t]).clipExtent([[o-.0111*t+1e-6,c-.0521*t+1e-6],[o+.1*t-1e-6,c+.024*t-1e-6]]).stream(u),s()},c.fitExtent=function(n,t){return Zf(c,n,t)},c.fitSize=function(n,t){return nl(c,n,t)},c.drawCompositionBorders=function(n){var t=i([106.3214,2.0228]),e=i([105.1843,2.3761]),r=i([104.2151,3.3618]),o=i([104.215,4.5651]);n.moveTo(t[0],t[1]),n.lineTo(e[0],e[1]),n.lineTo(r[0],r[1]),n.lineTo(o[0],o[1])},c.getCompositionBorders=function(){var n=il();return this.drawCompositionBorders(n),n.toString()},c.scale(4800)},geoMercatorEquatorialGuinea:function(){var n,t,e,r,o,i,a=Df().rotate([-9.5,-1.5]),u=Df().rotate([-8.6,-3.5]),c=Df().rotate([-5.6,1.45]),s={point:function(n,t){i=[n,t]}};function f(n){var t=n[0],a=n[1];return i=null,e.point(t,a),i||(r.point(t,a),i)||(o.point(t,a),i)}function l(){return n=t=null,f}return f.invert=function(n){var t=a.scale(),e=a.translate(),r=(n[0]-e[0])/t,o=(n[1]-e[1])/t;return(o>=-.02&&o<0&&r>=-.038&&r<-.005?u:o>=0&&o<.02&&r>=-.038&&r<-.005?c:a).invert(n)},f.stream=function(e){return n&&t===e?n:(r=[a.stream(t=e),u.stream(e),c.stream(e)],o=r.length,n={point:function(n,t){for(var e=-1;++e<o;)r[e].point(n,t)},sphere:function(){for(var n=-1;++n<o;)r[n].sphere()},lineStart:function(){for(var n=-1;++n<o;)r[n].lineStart()},lineEnd:function(){for(var n=-1;++n<o;)r[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<o;)r[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<o;)r[n].polygonEnd()}});var r,o},f.precision=function(n){return arguments.length?(a.precision(n),u.precision(n),c.precision(n),l()):a.precision()},f.scale=function(n){return arguments.length?(a.scale(n),u.scale(1.5*n),c.scale(4*n),f.translate(a.translate())):a.scale()},f.translate=function(n){if(!arguments.length)return a.translate();var t=a.scale(),i=+n[0],f=+n[1];return e=a.translate(n).clipExtent([[i-.005*t,f-.02*t],[i+.038*t,f+.02*t]]).stream(s),r=u.translate([i-.025*t,f-.01*t]).clipExtent([[i-.038*t+1e-6,f-.02*t+1e-6],[i-.005*t-1e-6,f+0*t-1e-6]]).stream(s),o=c.translate([i-.025*t,f+.01*t]).clipExtent([[i-.038*t+1e-6,f-0*t+1e-6],[i-.005*t-1e-6,f+.02*t-1e-6]]).stream(s),l()},f.fitExtent=function(n,t){return Zf(f,n,t)},f.fitSize=function(n,t){return nl(f,n,t)},f.drawCompositionBorders=function(n){var t,e,r,o;t=a([9.21327272751682,2.645820439454123]),e=a([11.679126293239872,2.644755519268689]),r=a([11.676845389029227,.35307824637606433]),o=a([9.213572917774014,.35414205204417754]),n.moveTo(t[0],t[1]),n.lineTo(e[0],e[1]),n.lineTo(r[0],r[1]),n.lineTo(o[0],o[1]),n.closePath(),t=a([7.320873711543669,2.64475551449975]),e=a([9.213272722738658,2.645820434679803]),r=a([9.213422896480349,1.4999812505283054]),o=a([7.322014760520787,1.4989168878985566]),n.moveTo(t[0],t[1]),n.lineTo(e[0],e[1]),n.lineTo(r[0],r[1]),n.lineTo(o[0],o[1]),n.closePath(),t=a([7.3220147605302905,1.4989168783492766]),e=a([9.213422896481598,1.499981240979021]),r=a([9.213572912999604,.354142056817247]),o=a([7.323154615739809,.353078251154504]),n.moveTo(t[0],t[1]),n.lineTo(e[0],e[1]),n.lineTo(r[0],r[1]),n.lineTo(o[0],o[1]),n.closePath()},f.getCompositionBorders=function(){var n=il();return this.drawCompositionBorders(n),n.toString()},f.scale(12e3)},geoAlbersUk:function(){var n,t,e,r,o,i=Rf().rotate([4.4,.8]).center([0,55.4]).parallels([50,60]),a=Rf().rotate([4.4,.8]).center([0,55.4]).parallels([50,60]),u={point:function(n,t){o=[n,t]}};function c(n){var t=n[0],i=n[1];return o=null,e.point(t,i),o||(r.point(t,i),o)}function s(){return n=t=null,c}return c.invert=function(n){var t=i.scale(),e=i.translate(),r=(n[0]-e[0])/t,o=(n[1]-e[1])/t;return(o>=-.089&&o<.06&&r>=.029&&r<.046?a:i).invert(n)},c.stream=function(e){return n&&t===e?n:(r=[i.stream(t=e),a.stream(e)],o=r.length,n={point:function(n,t){for(var e=-1;++e<o;)r[e].point(n,t)},sphere:function(){for(var n=-1;++n<o;)r[n].sphere()},lineStart:function(){for(var n=-1;++n<o;)r[n].lineStart()},lineEnd:function(){for(var n=-1;++n<o;)r[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<o;)r[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<o;)r[n].polygonEnd()}});var r,o},c.precision=function(n){return arguments.length?(i.precision(n),a.precision(n),s()):i.precision()},c.scale=function(n){return arguments.length?(i.scale(n),a.scale(n),c.translate(i.translate())):i.scale()},c.translate=function(n){if(!arguments.length)return i.translate();var t=i.scale(),o=+n[0],c=+n[1];return e=i.translate(n).clipExtent([[o-.065*t,c-.089*t],[o+.075*t,c+.089*t]]).stream(u),r=a.translate([o+.01*t,c+.025*t]).clipExtent([[o+.029*t+1e-6,c-.089*t+1e-6],[o+.046*t-1e-6,c-.06*t-1e-6]]).stream(u),s()},c.fitExtent=function(n,t){return Zf(c,n,t)},c.fitSize=function(n,t){return nl(c,n,t)},c.drawCompositionBorders=function(n){var t,e,r,o;t=i([-1.113205870242365,59.64920050773357]),e=i([.807899092399606,59.59085836472269]),r=i([.5778611961420386,57.93467822832577]),o=i([-1.25867782078448,57.99029450085142]),n.moveTo(t[0],t[1]),n.lineTo(e[0],e[1]),n.lineTo(r[0],r[1]),n.lineTo(o[0],o[1]),n.closePath()},c.getCompositionBorders=function(){var n=il();return this.drawCompositionBorders(n),n.toString()},c.scale(2800)}}));Object.defineProperty(ps,"__esModule",{value:!0});var ul=ut.exports,cl=ct,sl=ul.__importStar(Ai),fl=ul.__importStar(as),ll=ul.__importStar(al);ps.default=function(n,t){if(void 0===t&&(t=!1),cl.isFunction(n))return t?n:n();if(cl.isString(n)){if(sl[n])return t?sl[n]:sl[n]();if(fl[n])return t?fl[n]:fl[n]();if(ll[n])return t?ll[n]:ll[n]()}return null},Object.defineProperty({},"__esModule",{value:!0});var hl=ct,pl=Ai,vl=as,dl=us,gl=ut.exports.__importDefault(ps),yl={geoArea:function(n){return pl.geoArea(n)},geoAreaByName:function(n){return pl.geoArea(this.geoFeatureByName(n))},geoCentroid:function(n){return pl.geoCentroid(n)},geoCentroidByName:function(n){return pl.geoCentroid(this.geoFeatureByName(n))},geoDistance:function(n,t){return pl.geoDistance(n,t)},geoLength:function(n){return pl.geoLength(n)},geoLengthByName:function(n){return pl.geoLength(this.geoFeatureByName(n))},geoContains:function(n,t){return pl.geoContains(n,t)},geoFeatureByName:function(n){var t;return this.rows.some((function(e){return e.name===n&&(t=e,!0)})),t},geoFeatureByPosition:function(n){var t;return this.rows.some((function(e){return!!pl.geoContains(e,n)&&(t=e,!0)})),t},geoNameByPosition:function(n){var t=this.geoFeatureByPosition(n);if(t)return t.name},getGeoProjection:gl.default,geoProject:function(n,t,e){return t=gl.default(t,e),vl.geoProject(n,t)},geoProjectByName:function(n,t,e){return t=gl.default(t,e),vl.geoProject(this.geoFeatureByName(n),t)},geoProjectPosition:function(n,t,e){return gl.default(t,e)(n)},geoProjectInvert:function(n,t,e){return gl.default(t,e).invert(n)}};hl.assign(dl.View.prototype,yl);Object.defineProperty({},"__esModule",{value:!0});var ml=ct,wl=us;ml.assign(wl.View.prototype,{getAllNodes:function(){var n=[],t=this.root;return t&&t.each?t.each((function(t){n.push(t)})):t&&t.eachNode&&t.eachNode((function(t){n.push(t)})),n},getAllLinks:function(){for(var n,t=[],e=[this.root];n=e.pop();){var r=n.children;r&&r.forEach((function(r){t.push({source:n,target:r}),e.push(r)}))}return t}}),ml.assign(wl.View.prototype,{getAllEdges:wl.View.prototype.getAllLinks});var _l={},bl={};Object.defineProperty(bl,"__esModule",{value:!0});var xl=ct;bl.default=function(n,t){void 0===t&&(t=[]);var e=void 0;return xl.isFunction(t)?e=t:xl.isArray(t)?e=function(n,e){for(var r=0;r<t.length;r++){var o=t[r];if(n[o]<e[o])return-1;if(n[o]>e[o])return 1}return 0}:xl.isString(t)&&(e=function(n,e){return n[t]<e[t]?-1:n[t]>e[t]?1:0}),n.sort(e)},Object.defineProperty(_l,"__esModule",{value:!0});var El=ct,Sl=ut.exports.__importDefault(bl);_l.default=function(n,t,e){void 0===e&&(e=[]);var r,o=n;return e&&e.length&&(o=Sl.default(n,e)),El.isFunction(t)?r=t:El.isArray(t)?r=function(n){return"_"+t.map((function(t){return n[t]})).join("-")}:El.isString(t)&&(r=function(n){return"_"+n[t]}),El.groupBy(o,r)},Object.defineProperty({},"__esModule",{value:!0});var Ml=ct,Tl=ut.exports.__importDefault(_l),jl=us;Ml.assign(jl.View.prototype,{partition:function(n,t){return void 0===t&&(t=[]),Tl.default(this.rows,n,t)},group:function(n,t){void 0===t&&(t=[]);var e=this.partition(n,t);return Ml.values(e)},groups:function(n,t){return void 0===t&&(t=[]),this.group(n,t)}});function kl(n){if(0===n.length)return 0;for(var t,e=n[0],r=0,o=1;o<n.length;o++)t=e+n[o],Math.abs(e)>=Math.abs(n[o])?r+=e-t+n[o]:r+=n[o]-t+e,e=t;return e+r}function Cl(n){if(0===n.length)throw new Error("mean requires at least one data point");return kl(n)/n.length}function Pl(n,t){var e,r,o=Cl(n),i=0;if(2===t)for(r=0;r<n.length;r++)i+=(e=n[r]-o)*e;else for(r=0;r<n.length;r++)i+=Math.pow(n[r]-o,t);return i}function Ol(n){if(0===n.length)throw new Error("variance requires at least one data point");return Pl(n,2)/n.length}function Al(n){if(1===n.length)return 0;var t=Ol(n);return Math.sqrt(t)}function Nl(n){if(0===n.length)throw new Error("mode requires at least one data point");if(1===n.length)return n[0];for(var t=n[0],e=NaN,r=0,o=1,i=1;i<n.length+1;i++)n[i]!==t?(o>r&&(r=o,e=t),o=1,t=n[i]):o++;return e}function Rl(n){return n.slice().sort((function(n,t){return n-t}))}function Il(n){if(0===n.length)throw new Error("min requires at least one data point");for(var t=n[0],e=1;e<n.length;e++)n[e]<t&&(t=n[e]);return t}function Dl(n){if(0===n.length)throw new Error("max requires at least one data point");for(var t=n[0],e=1;e<n.length;e++)n[e]>t&&(t=n[e]);return t}function Ll(n,t){var e=n.length*t;if(0===n.length)throw new Error("quantile requires at least one data point.");if(t<0||t>1)throw new Error("quantiles must be between 0 and 1");return 1===t?n[n.length-1]:0===t?n[0]:e%1!=0?n[Math.ceil(e)-1]:n.length%2==0?(n[e-1]+n[e])/2:n[e]}function Bl(n,t,e,r){for(e=e||0,r=r||n.length-1;r>e;){if(r-e>600){var o=r-e+1,i=t-e+1,a=Math.log(o),u=.5*Math.exp(2*a/3),c=.5*Math.sqrt(a*u*(o-u)/o);i-o/2<0&&(c*=-1),Bl(n,t,Math.max(e,Math.floor(t-i*u/o+c)),Math.min(r,Math.floor(t+(o-i)*u/o+c)))}var s=n[t],f=e,l=r;for(zl(n,e,t),n[r]>s&&zl(n,e,r);f<l;){for(zl(n,f,l),f++,l--;n[f]<s;)f++;for(;n[l]>s;)l--}n[e]===s?zl(n,e,l):zl(n,++l,r),l<=t&&(e=l+1),t<=l&&(r=l-1)}}function zl(n,t,e){var r=n[t];n[t]=n[e],n[e]=r}function ql(n,t){var e=n.slice();if(Array.isArray(t)){!function(n,t){for(var e=[0],r=0;r<t.length;r++)e.push(Vl(n.length,t[r]));e.push(n.length-1),e.sort(Gl);for(var o=[0,e.length-1];o.length;){var i=Math.ceil(o.pop()),a=Math.floor(o.pop());if(!(i-a<=1)){var u=Math.floor((a+i)/2);Fl(n,e[u],Math.floor(e[a]),Math.ceil(e[i])),o.push(a,u,u,i)}}}(e,t);for(var r=[],o=0;o<t.length;o++)r[o]=Ll(e,t[o]);return r}return Fl(e,Vl(e.length,t),0,e.length-1),Ll(e,t)}function Fl(n,t,e,r){t%1==0?Bl(n,t,e,r):(Bl(n,t=Math.floor(t),e,r),Bl(n,t+1,t+1,r))}function Gl(n,t){return n-t}function Vl(n,t){var e=n*t;return 1===t?n-1:0===t?0:e%1!=0?Math.ceil(e)-1:n%2==0?e-.5:e}function Hl(n,t){if(t<n[0])return 0;if(t>n[n.length-1])return 1;var e=function(n,t){for(var e=0,r=0,o=n.length;r<o;)t<=n[e=r+o>>>1]?o=e:r=-~e;return r}(n,t);if(n[e]!==t)return e/n.length;e++;var r=function(n,t){for(var e=0,r=0,o=n.length;r<o;)t>=n[e=r+o>>>1]?r=-~e:o=e;return r}(n,t);if(r===e)return e/n.length;var o=r-e+1;return o*(r+e)/2/o/n.length}function Ul(n){var t=ql(n,.75),e=ql(n,.25);if("number"==typeof t&&"number"==typeof e)return t-e}function Wl(n){return+ql(n,.5)}function Yl(n){for(var t=Wl(n),e=[],r=0;r<n.length;r++)e.push(Math.abs(n[r]-t));return Wl(e)}function $l(n,t){t=t||Math.random;for(var e,r,o=n.length;o>0;)r=Math.floor(t()*o--),e=n[o],n[o]=n[r],n[r]=e;return n}function Jl(n,t){return $l(n.slice().slice(),t)}function Xl(n){for(var t,e=0,r=0;r<n.length;r++)0!==r&&n[r]===t||(t=n[r],e++);return e}function Ql(n,t){for(var e=[],r=0;r<n;r++){for(var o=[],i=0;i<t;i++)o.push(0);e.push(o)}return e}function Kl(n,t,e,r){var o;if(n>0){var i=(e[t]-e[n-1])/(t-n+1);o=r[t]-r[n-1]-(t-n+1)*i*i}else o=r[t]-e[t]*e[t]/(t+1);return o<0?0:o}function Zl(n,t,e,r,o,i,a){if(!(n>t)){var u=Math.floor((n+t)/2);r[e][u]=r[e-1][u-1],o[e][u]=u;var c=e;n>e&&(c=Math.max(c,o[e][n-1]||0)),c=Math.max(c,o[e-1][u]||0);var s,f,l,h=u-1;t<r.length-1&&(h=Math.min(h,o[e][t+1]||0));for(var p=h;p>=c&&!((s=Kl(p,u,i,a))+r[e-1][c-1]>=r[e][u]);--p)(f=Kl(c,u,i,a)+r[e-1][c-1])<r[e][u]&&(r[e][u]=f,o[e][u]=c),c++,(l=s+r[e-1][p-1])<r[e][u]&&(r[e][u]=l,o[e][u]=p);Zl(n,u-1,e,r,o,i,a),Zl(u+1,t,e,r,o,i,a)}}function nh(n,t){if(n.length!==t.length)throw new Error("sampleCovariance requires samples with equal lengths");if(n.length<2)throw new Error("sampleCovariance requires at least two data points in each sample");for(var e=Cl(n),r=Cl(t),o=0,i=0;i<n.length;i++)o+=(n[i]-e)*(t[i]-r);return o/(n.length-1)}function th(n){if(n.length<2)throw new Error("sampleVariance requires at least two data points");return Pl(n,2)/(n.length-1)}function eh(n){var t=th(n);return Math.sqrt(t)}function rh(n,t,e,r){return(n*t+e*r)/(t+r)}function oh(n){if(0===n.length)throw new Error("rootMeanSquare requires at least one data point");for(var t=0,e=0;e<n.length;e++)t+=Math.pow(n[e],2);return Math.sqrt(t/n.length)}function ih(){this.totalCount=0,this.data={}}function ah(){this.weights=[],this.bias=0}ih.prototype.train=function(n,t){for(var e in this.data[t]||(this.data[t]={}),n){var r=n[e];void 0===this.data[t][e]&&(this.data[t][e]={}),void 0===this.data[t][e][r]&&(this.data[t][e][r]=0),this.data[t][e][r]++}this.totalCount++},ih.prototype.score=function(n){var t,e={};for(var r in n){var o=n[r];for(t in this.data)e[t]={},e[t][r+"_"+o]=this.data[t][r]?(this.data[t][r][o]||0)/this.totalCount:0}var i={};for(t in e)for(var a in i[t]=0,e[t])i[t]+=e[t][a];return i},ah.prototype.predict=function(n){if(n.length!==this.weights.length)return null;for(var t=0,e=0;e<this.weights.length;e++)t+=this.weights[e]*n[e];return(t+=this.bias)>0?1:0},ah.prototype.train=function(n,t){if(0!==t&&1!==t)return null;n.length!==this.weights.length&&(this.weights=n,this.bias=1);var e=this.predict(n);if(e!==t){for(var r=t-e,o=0;o<this.weights.length;o++)this.weights[o]+=r*n[o];this.bias+=r}return this};var uh=1e-4;function ch(n){if(n<0)throw new Error("factorial requires a non-negative value");if(Math.floor(n)!==n)throw new Error("factorial requires an integer input");for(var t=1,e=2;e<=n;e++)t*=e;return t}var sh=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22],fh=Math.log(Math.sqrt(2*Math.PI));var lh={1:{.995:0,.99:0,.975:0,.95:0,.9:.02,.5:.45,.1:2.71,.05:3.84,.025:5.02,.01:6.63,.005:7.88},2:{.995:.01,.99:.02,.975:.05,.95:.1,.9:.21,.5:1.39,.1:4.61,.05:5.99,.025:7.38,.01:9.21,.005:10.6},3:{.995:.07,.99:.11,.975:.22,.95:.35,.9:.58,.5:2.37,.1:6.25,.05:7.81,.025:9.35,.01:11.34,.005:12.84},4:{.995:.21,.99:.3,.975:.48,.95:.71,.9:1.06,.5:3.36,.1:7.78,.05:9.49,.025:11.14,.01:13.28,.005:14.86},5:{.995:.41,.99:.55,.975:.83,.95:1.15,.9:1.61,.5:4.35,.1:9.24,.05:11.07,.025:12.83,.01:15.09,.005:16.75},6:{.995:.68,.99:.87,.975:1.24,.95:1.64,.9:2.2,.5:5.35,.1:10.65,.05:12.59,.025:14.45,.01:16.81,.005:18.55},7:{.995:.99,.99:1.25,.975:1.69,.95:2.17,.9:2.83,.5:6.35,.1:12.02,.05:14.07,.025:16.01,.01:18.48,.005:20.28},8:{.995:1.34,.99:1.65,.975:2.18,.95:2.73,.9:3.49,.5:7.34,.1:13.36,.05:15.51,.025:17.53,.01:20.09,.005:21.96},9:{.995:1.73,.99:2.09,.975:2.7,.95:3.33,.9:4.17,.5:8.34,.1:14.68,.05:16.92,.025:19.02,.01:21.67,.005:23.59},10:{.995:2.16,.99:2.56,.975:3.25,.95:3.94,.9:4.87,.5:9.34,.1:15.99,.05:18.31,.025:20.48,.01:23.21,.005:25.19},11:{.995:2.6,.99:3.05,.975:3.82,.95:4.57,.9:5.58,.5:10.34,.1:17.28,.05:19.68,.025:21.92,.01:24.72,.005:26.76},12:{.995:3.07,.99:3.57,.975:4.4,.95:5.23,.9:6.3,.5:11.34,.1:18.55,.05:21.03,.025:23.34,.01:26.22,.005:28.3},13:{.995:3.57,.99:4.11,.975:5.01,.95:5.89,.9:7.04,.5:12.34,.1:19.81,.05:22.36,.025:24.74,.01:27.69,.005:29.82},14:{.995:4.07,.99:4.66,.975:5.63,.95:6.57,.9:7.79,.5:13.34,.1:21.06,.05:23.68,.025:26.12,.01:29.14,.005:31.32},15:{.995:4.6,.99:5.23,.975:6.27,.95:7.26,.9:8.55,.5:14.34,.1:22.31,.05:25,.025:27.49,.01:30.58,.005:32.8},16:{.995:5.14,.99:5.81,.975:6.91,.95:7.96,.9:9.31,.5:15.34,.1:23.54,.05:26.3,.025:28.85,.01:32,.005:34.27},17:{.995:5.7,.99:6.41,.975:7.56,.95:8.67,.9:10.09,.5:16.34,.1:24.77,.05:27.59,.025:30.19,.01:33.41,.005:35.72},18:{.995:6.26,.99:7.01,.975:8.23,.95:9.39,.9:10.87,.5:17.34,.1:25.99,.05:28.87,.025:31.53,.01:34.81,.005:37.16},19:{.995:6.84,.99:7.63,.975:8.91,.95:10.12,.9:11.65,.5:18.34,.1:27.2,.05:30.14,.025:32.85,.01:36.19,.005:38.58},20:{.995:7.43,.99:8.26,.975:9.59,.95:10.85,.9:12.44,.5:19.34,.1:28.41,.05:31.41,.025:34.17,.01:37.57,.005:40},21:{.995:8.03,.99:8.9,.975:10.28,.95:11.59,.9:13.24,.5:20.34,.1:29.62,.05:32.67,.025:35.48,.01:38.93,.005:41.4},22:{.995:8.64,.99:9.54,.975:10.98,.95:12.34,.9:14.04,.5:21.34,.1:30.81,.05:33.92,.025:36.78,.01:40.29,.005:42.8},23:{.995:9.26,.99:10.2,.975:11.69,.95:13.09,.9:14.85,.5:22.34,.1:32.01,.05:35.17,.025:38.08,.01:41.64,.005:44.18},24:{.995:9.89,.99:10.86,.975:12.4,.95:13.85,.9:15.66,.5:23.34,.1:33.2,.05:36.42,.025:39.36,.01:42.98,.005:45.56},25:{.995:10.52,.99:11.52,.975:13.12,.95:14.61,.9:16.47,.5:24.34,.1:34.28,.05:37.65,.025:40.65,.01:44.31,.005:46.93},26:{.995:11.16,.99:12.2,.975:13.84,.95:15.38,.9:17.29,.5:25.34,.1:35.56,.05:38.89,.025:41.92,.01:45.64,.005:48.29},27:{.995:11.81,.99:12.88,.975:14.57,.95:16.15,.9:18.11,.5:26.34,.1:36.74,.05:40.11,.025:43.19,.01:46.96,.005:49.65},28:{.995:12.46,.99:13.57,.975:15.31,.95:16.93,.9:18.94,.5:27.34,.1:37.92,.05:41.34,.025:44.46,.01:48.28,.005:50.99},29:{.995:13.12,.99:14.26,.975:16.05,.95:17.71,.9:19.77,.5:28.34,.1:39.09,.05:42.56,.025:45.72,.01:49.59,.005:52.34},30:{.995:13.79,.99:14.95,.975:16.79,.95:18.49,.9:20.6,.5:29.34,.1:40.26,.05:43.77,.025:46.98,.01:50.89,.005:53.67},40:{.995:20.71,.99:22.16,.975:24.43,.95:26.51,.9:29.05,.5:39.34,.1:51.81,.05:55.76,.025:59.34,.01:63.69,.005:66.77},50:{.995:27.99,.99:29.71,.975:32.36,.95:34.76,.9:37.69,.5:49.33,.1:63.17,.05:67.5,.025:71.42,.01:76.15,.005:79.49},60:{.995:35.53,.99:37.48,.975:40.48,.95:43.19,.9:46.46,.5:59.33,.1:74.4,.05:79.08,.025:83.3,.01:88.38,.005:91.95},70:{.995:43.28,.99:45.44,.975:48.76,.95:51.74,.9:55.33,.5:69.33,.1:85.53,.05:90.53,.025:95.02,.01:100.42,.005:104.22},80:{.995:51.17,.99:53.54,.975:57.15,.95:60.39,.9:64.28,.5:79.33,.1:96.58,.05:101.88,.025:106.63,.01:112.33,.005:116.32},90:{.995:59.2,.99:61.75,.975:65.65,.95:69.13,.9:73.29,.5:89.33,.1:107.57,.05:113.14,.025:118.14,.01:124.12,.005:128.3},100:{.995:67.33,.99:70.06,.975:74.22,.95:77.93,.9:82.36,.5:99.33,.1:118.5,.05:124.34,.025:129.56,.01:135.81,.005:140.17}};var hh=Math.sqrt(2*Math.PI),ph={gaussian:function(n){return Math.exp(-.5*n*n)/hh}},vh={nrd:function(n){var t=eh(n),e=Ul(n);return"number"==typeof e&&(t=Math.min(t,e/1.34)),1.06*t*Math.pow(n.length,-.2)}};function dh(n,t,e){var r,o;if(void 0===t)r=ph.gaussian;else if("string"==typeof t){if(!ph[t])throw new Error('Unknown kernel "'+t+'"');r=ph[t]}else r=t;if(void 0===e)o=vh.nrd(n);else if("string"==typeof e){if(!vh[e])throw new Error('Unknown bandwidth method "'+e+'"');o=vh[e](n)}else o=e;return function(t){var e=0,i=0;for(e=0;e<n.length;e++)i+=r((t-n[e])/o);return i/o/n.length}}var gh=Math.sqrt(2*Math.PI);function yh(n){for(var t=n,e=n,r=1;r<15;r++)t+=e*=n*n/(2*r+1);return Math.round(1e4*(.5+t/gh*Math.exp(-n*n/2)))/1e4}for(var mh=[],wh=0;wh<=3.09;wh+=.01)mh.push(yh(wh));function _h(n){var t=1/(1+.5*Math.abs(n)),e=t*Math.exp(-Math.pow(n,2)-1.26551223+1.00002368*t+.37409196*Math.pow(t,2)+.09678418*Math.pow(t,3)-.18628806*Math.pow(t,4)+.27886807*Math.pow(t,5)-1.13520398*Math.pow(t,6)+1.48851587*Math.pow(t,7)-.82215223*Math.pow(t,8)+.17087277*Math.pow(t,9));return n>=0?1-e:e-1}function bh(n){var t=8*(Math.PI-3)/(3*Math.PI*(4-Math.PI)),e=Math.sqrt(Math.sqrt(Math.pow(2/(Math.PI*t)+Math.log(1-n*n)/2,2)-Math.log(1-n*n)/t)-(2/(Math.PI*t)+Math.log(1-n*n)/2));return n>=0?e:-e}function xh(n){if("number"==typeof n)return n<0?-1:0===n?0:1;throw new TypeError("not a number")}var Eh=t(Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",linearRegression:function(n){var t,e,r=n.length;if(1===r)t=0,e=n[0][1];else{for(var o,i,a,u=0,c=0,s=0,f=0,l=0;l<r;l++)u+=i=(o=n[l])[0],c+=a=o[1],s+=i*i,f+=i*a;e=c/r-(t=(r*f-u*c)/(r*s-u*u))*u/r}return{m:t,b:e}},linearRegressionLine:function(n){return function(t){return n.b+n.m*t}},standardDeviation:Al,rSquared:function(n,t){if(n.length<2)return 1;for(var e=0,r=0;r<n.length;r++)e+=n[r][1];for(var o=e/n.length,i=0,a=0;a<n.length;a++)i+=Math.pow(o-n[a][1],2);for(var u=0,c=0;c<n.length;c++)u+=Math.pow(n[c][1]-t(n[c][0]),2);return 1-u/i},mode:function(n){return Nl(Rl(n))},modeFast:function(n){for(var t,e=new Map,r=0,o=0;o<n.length;o++){var i=e.get(n[o]);void 0===i?i=1:i++,i>r&&(t=n[o],r=i),e.set(n[o],i)}if(0===r)throw new Error("mode requires at last one data point");return t},modeSorted:Nl,min:Il,max:Dl,extent:function(n){if(0===n.length)throw new Error("extent requires at least one data point");for(var t=n[0],e=n[0],r=1;r<n.length;r++)n[r]>e&&(e=n[r]),n[r]<t&&(t=n[r]);return[t,e]},minSorted:function(n){return n[0]},maxSorted:function(n){return n[n.length-1]},extentSorted:function(n){return[n[0],n[n.length-1]]},sum:kl,sumSimple:function(n){for(var t=0,e=0;e<n.length;e++)t+=n[e];return t},product:function(n){for(var t=1,e=0;e<n.length;e++)t*=n[e];return t},quantile:ql,quantileSorted:Ll,quantileRank:function(n,t){return Hl(Rl(n),t)},quantileRankSorted:Hl,interquartileRange:Ul,iqr:Ul,medianAbsoluteDeviation:Yl,mad:Yl,chunk:function(n,t){var e=[];if(t<1)throw new Error("chunk size must be a positive number");if(Math.floor(t)!==t)throw new Error("chunk size must be an integer");for(var r=0;r<n.length;r+=t)e.push(n.slice(r,r+t));return e},sampleWithReplacement:function(n,t,e){if(0===n.length)return[];e=e||Math.random;for(var r=n.length,o=[],i=0;i<t;i++){var a=Math.floor(e()*r);o.push(n[a])}return o},shuffle:Jl,shuffleInPlace:$l,sample:function(n,t,e){return Jl(n,e).slice(0,t)},ckmeans:function(n,t){if(t>n.length)throw new Error("cannot generate more classes than there are data values");var e=Rl(n);if(1===Xl(e))return[e];var r=Ql(t,e.length),o=Ql(t,e.length);!function(n,t,e){for(var r=t[0].length,o=n[Math.floor(r/2)],i=[],a=[],u=0,c=void 0;u<r;++u)c=n[u]-o,0===u?(i.push(c),a.push(c*c)):(i.push(i[u-1]+c),a.push(a[u-1]+c*c)),t[0][u]=Kl(0,u,i,a),e[0][u]=0;for(var s=1;s<t.length;++s)Zl(s<t.length-1?s:r-1,r-1,s,t,e,i,a)}(e,r,o);for(var i=[],a=o[0].length-1,u=o.length-1;u>=0;u--){var c=o[u][a];i[u]=e.slice(c,a+1),u>0&&(a=c-1)}return i},uniqueCountSorted:Xl,sumNthPowerDeviations:Pl,equalIntervalBreaks:function(n,t){if(n.length<2)return n;for(var e=Il(n),r=Dl(n),o=[e],i=(r-e)/t,a=1;a<t;a++)o.push(o[0]+i*a);return o.push(r),o},sampleCovariance:nh,sampleCorrelation:function(n,t){return nh(n,t)/eh(n)/eh(t)},sampleVariance:th,sampleStandardDeviation:eh,sampleSkewness:function(n){if(n.length<3)throw new Error("sampleSkewness requires at least three data points");for(var t,e=Cl(n),r=0,o=0,i=0;i<n.length;i++)r+=(t=n[i]-e)*t,o+=t*t*t;var a=Math.sqrt(r/(n.length-1)),u=n.length;return u*o/((u-1)*(u-2)*Math.pow(a,3))},sampleKurtosis:function(n){var t=n.length;if(t<4)throw new Error("sampleKurtosis requires at least four data points");for(var e,r=Cl(n),o=0,i=0,a=0;a<t;a++)o+=(e=n[a]-r)*e,i+=e*e*e*e;return(t-1)/((t-2)*(t-3))*(t*(t+1)*i/(o*o)-3*(t-1))},permutationsHeap:function(n){for(var t=new Array(n.length),e=[n.slice()],r=0;r<n.length;r++)t[r]=0;for(var o=0;o<n.length;)if(t[o]<o){var i=0;o%2!=0&&(i=t[o]);var a=n[i];n[i]=n[o],n[o]=a,e.push(n.slice()),t[o]++,o=0}else t[o]=0,o++;return e},combinations:function n(t,e){var r,o,i,a,u=[];for(r=0;r<t.length;r++)if(1===e)u.push([t[r]]);else for(i=n(t.slice(r+1,t.length),e-1),o=0;o<i.length;o++)(a=i[o]).unshift(t[r]),u.push(a);return u},combinationsReplacement:function n(t,e){for(var r=[],o=0;o<t.length;o++)if(1===e)r.push([t[o]]);else for(var i=n(t.slice(o,t.length),e-1),a=0;a<i.length;a++)r.push([t[o]].concat(i[a]));return r},addToMean:function(n,t,e){return n+(e-n)/(t+1)},combineMeans:rh,combineVariances:function(n,t,e,r,o,i){var a=rh(t,e,o,i);return(e*(n+Math.pow(t-a,2))+i*(r+Math.pow(o-a,2)))/(e+i)},geometricMean:function(n){if(0===n.length)throw new Error("geometricMean requires at least one data point");for(var t=1,e=0;e<n.length;e++){if(n[e]<=0)throw new Error("geometricMean requires only positive numbers as input");t*=n[e]}return Math.pow(t,1/n.length)},harmonicMean:function(n){if(0===n.length)throw new Error("harmonicMean requires at least one data point");for(var t=0,e=0;e<n.length;e++){if(n[e]<=0)throw new Error("harmonicMean requires only positive numbers as input");t+=1/n[e]}return n.length/t},average:Cl,mean:Cl,median:Wl,medianSorted:function(n){return Ll(n,.5)},subtractFromMean:function(n,t,e){return(n*t-e)/(t-1)},rootMeanSquare:oh,rms:oh,variance:Ol,tTest:function(n,t){return(Cl(n)-t)/(Al(n)/Math.sqrt(n.length))},tTestTwoSample:function(n,t,e){var r=n.length,o=t.length;if(!r||!o)return null;e||(e=0);var i=Cl(n),a=Cl(t),u=th(n),c=th(t);return"number"==typeof i&&"number"==typeof a&&"number"==typeof u&&"number"==typeof c?(i-a-e)/Math.sqrt(((r-1)*u+(o-1)*c)/(r+o-2)*(1/r+1/o)):void 0},BayesianClassifier:ih,bayesian:ih,PerceptronModel:ah,perceptron:ah,epsilon:uh,factorial:ch,gamma:function n(t){if("number"==typeof(e=t)&&isFinite(e)&&Math.floor(e)===e)return t<=0?NaN:ch(t-1);var e;if(--t<0)return Math.PI/(Math.sin(Math.PI*-t)*n(-t));var r=t+.25;return Math.pow(t/Math.E,t)*Math.sqrt(2*Math.PI*(t+1/6))*(1+1/144/Math.pow(r,2)-1/12960/Math.pow(r,3)-257/207360/Math.pow(r,4)-52/2612736/Math.pow(r,5)+5741173/9405849600/Math.pow(r,6)+37529/18811699200/Math.pow(r,7))},gammaln:function(n){if(n<=0)return 1/0;n--;for(var t=sh[0],e=1;e<15;e++)t+=sh[e]/(n+e);var r=5.2421875+n;return fh+Math.log(t)-r+(n+.5)*Math.log(r)},bernoulliDistribution:function(n){if(n<0||n>1)throw new Error("bernoulliDistribution requires probability to be between 0 and 1 inclusive");return[1-n,n]},binomialDistribution:function(n,t){if(!(t<0||t>1||n<=0||n%1!=0)){var e=0,r=0,o=[],i=1;do{o[e]=i*Math.pow(t,e)*Math.pow(1-t,n-e),r+=o[e],i=i*(n-++e+1)/e}while(r<1-uh);return o}},poissonDistribution:function(n){if(!(n<=0)){var t=0,e=0,r=[],o=1;do{r[t]=Math.exp(-n)*Math.pow(n,t)/o,e+=r[t],o*=++t}while(e<1-uh);return r}},chiSquaredDistributionTable:lh,chiSquaredGoodnessOfFit:function(n,t,e){for(var r=0,o=t(Cl(n)),i=[],a=[],u=0;u<n.length;u++)void 0===i[n[u]]&&(i[n[u]]=0),i[n[u]]++;for(var c=0;c<i.length;c++)void 0===i[c]&&(i[c]=0);for(var s in o)s in i&&(a[+s]=o[s]*n.length);for(var f=a.length-1;f>=0;f--)a[f]<3&&(a[f-1]+=a[f],a.pop(),i[f-1]+=i[f],i.pop());for(var l=0;l<i.length;l++)r+=Math.pow(i[l]-a[l],2)/a[l];return lh[i.length-1-1][e]<r},kernelDensityEstimation:dh,kde:dh,zScore:function(n,t,e){return(n-t)/e},cumulativeStdNormalProbability:function(n){var t=Math.abs(n),e=Math.min(Math.round(100*t),mh.length-1);return n>=0?mh[e]:+(1-mh[e]).toFixed(4)},standardNormalTable:mh,errorFunction:_h,erf:_h,inverseErrorFunction:bh,probit:function(n){return 0===n?n=uh:n>=1&&(n=1-uh),Math.sqrt(2)*bh(2*n-1)},permutationTest:function(n,t,e,r){if(void 0===r&&(r=1e4),void 0===e&&(e="two_side"),"two_side"!==e&&"greater"!==e&&"less"!==e)throw new Error("`alternative` must be either 'two_side', 'greater', or 'less'");for(var o=Cl(n)-Cl(t),i=new Array(r),a=n.concat(t),u=Math.floor(a.length/2),c=0;c<r;c++){$l(a);var s=a.slice(0,u),f=a.slice(u,a.length),l=Cl(s)-Cl(f);i[c]=l}var h=0;if("two_side"===e)for(var p=0;p<=r;p++)Math.abs(i[p])>=Math.abs(o)&&(h+=1);else if("greater"===e)for(var v=0;v<=r;v++)i[v]>=o&&(h+=1);else for(var d=0;d<=r;d++)i[d]<=o&&(h+=1);return h/r},bisect:function(n,t,e,r,o){if("function"!=typeof n)throw new TypeError("func must be a function");for(var i=0;i<r;i++){var a=(t+e)/2;if(0===n(a)||Math.abs((e-t)/2)<o)return a;xh(n(a))===xh(n(t))?t=a:e=a}throw new Error("maximum number of iterations exceeded")},quickselect:Bl,sign:xh,numericSort:Rl})),Sh={};Object.defineProperty(Sh,"__esModule",{value:!0}),Sh.default=function(n){for(var t=1/n,e=[],r=0;r<=1;r+=t)e.push(r);return e};var Mh={};Object.defineProperty(Mh,"__esModule",{value:!0}),Mh.default={HIERARCHY:"hierarchy",GEO:"geo",HEX:"hex",GRAPH:"graph",TABLE:"table",GEO_GRATICULE:"geo-graticule",STATISTICS_METHODS:["max","mean","median","min","mode","product","standardDeviation","sum","sumSimple","variance"]},Object.defineProperty({},"__esModule",{value:!0});var Th=ut.exports,jh=Th.__importStar(Eh),kh=ct,Ch=us,Ph=Th.__importDefault(Sh);function Oh(n,t){var e=n.getColumn(t);return kh.isArray(e)&&kh.isArray(e[0])&&(e=kh.flattenDeep(e)),e}Th.__importDefault(Mh).default.STATISTICS_METHODS.forEach((function(n){Ch.View.prototype[n]=function(t){return jh[n](Oh(this,t))}}));var Ah=jh.quantile;kh.assign(Ch.View.prototype,{average:Ch.View.prototype.mean,quantile:function(n,t){return Ah(Oh(this,n),t)},quantiles:function(n,t){var e=Oh(this,n);return t.map((function(n){return Ah(e,n)}))},quantilesByFraction:function(n,t){return this.quantiles(n,Ph.default(t))},range:function(n){return[this.min(n),this.max(n)]},extent:function(n){return this.range(n)}});var Nh={};Object.defineProperty(Nh,"__esModule",{value:!0}),Nh.DataSet=void 0;var Rh=ut.exports,Ih=ct,Dh=Rh.__importDefault(cs.exports),Lh=us,Bh=Rh.__importDefault(Mh),zh=function(n){function t(t){void 0===t&&(t={state:{}});var e=n.call(this)||this;return e.isDataSet=!0,e._onChangeTimer=null,e.views={},e.state={},e.state=t.state,e}return Rh.__extends(t,n),t.registerConnector=function(n,e){t.connectors[n]=e},t.getConnector=function(n){return t.connectors[n]||t.connectors.default},t.registerTransform=function(n,e){t.transforms[n]=e},t.getTransform=function(n){return t.transforms[n]||t.transforms.default},t.prototype._getUniqueViewName=function(){for(var n=Ih.uniqueId("view_");this.views[n];)n=Ih.uniqueId("view_");return n},t.prototype.createView=function(n,t){if(Ih.isNil(n)&&(n=this._getUniqueViewName()),Ih.isObject(n)&&(t=n,n=this._getUniqueViewName()),this.views[n])throw new Error("data view exists: "+n);var e=new Lh.View(this,t);return this.views[n]=e,e},t.prototype.getView=function(n){return this.views[n]},t.prototype.setView=function(n,t){this.views[n]=t},t.prototype.setState=function(n,t){var e=this;this.state[n]=t,this._onChangeTimer&&(window.clearTimeout(this._onChangeTimer),this._onChangeTimer=null),this._onChangeTimer=window.setTimeout((function(){e.emit("statechange",n,t)}),16)},t.CONSTANTS=Bh.default,t.connectors={},t.transforms={},t.DataSet=t,t.DataView=Lh.View,t.View=Lh.View,t.version="____DATASET_VERSION____",t}(Dh.default);Nh.DataSet=zh,Ih.assign(zh,Bh.default),Ih.assign(zh.prototype,{view:zh.prototype.createView}),Lh.View.DataSet=zh,Object.defineProperty({},"__esModule",{value:!0});var qh=ct;Nh.DataSet.registerConnector("default",(function(n,t){var e;if(!(e=qh.isString(n)?t.getView(n):n))throw new TypeError("Invalid dataView");return qh.deepMix([],e.rows)}));var Fh={},Gh={};function Vh(n){return new Function("d","return {"+n.map((function(n,t){return JSON.stringify(n)+": d["+t+'] || ""'})).join(",")+"}")}function Hh(n){var t=Object.create(null),e=[];return n.forEach((function(n){for(var r in n)r in t||e.push(t[r]=r)})),e}function Uh(n,t){var e=n+"",r=e.length;return r<t?new Array(t-r+1).join(0)+e:e}function Wh(n){var t,e=n.getUTCHours(),r=n.getUTCMinutes(),o=n.getUTCSeconds(),i=n.getUTCMilliseconds();return isNaN(n)?"Invalid Date":((t=n.getUTCFullYear())<0?"-"+Uh(-t,6):t>9999?"+"+Uh(t,6):Uh(t,4))+"-"+Uh(n.getUTCMonth()+1,2)+"-"+Uh(n.getUTCDate(),2)+(i?"T"+Uh(e,2)+":"+Uh(r,2)+":"+Uh(o,2)+"."+Uh(i,3)+"Z":o?"T"+Uh(e,2)+":"+Uh(r,2)+":"+Uh(o,2)+"Z":r||e?"T"+Uh(e,2)+":"+Uh(r,2)+"Z":"")}function Yh(n){var t=new RegExp('["'+n+"\n\r]"),e=n.charCodeAt(0);function r(n,t){var r,o=[],i=n.length,a=0,u=0,c=i<=0,s=!1;function f(){if(c)return Gh;if(s)return s=!1,Fh;var t,r,o=a;if(34===n.charCodeAt(o)){for(;a++<i&&34!==n.charCodeAt(a)||34===n.charCodeAt(++a););return(t=a)>=i?c=!0:10===(r=n.charCodeAt(a++))?s=!0:13===r&&(s=!0,10===n.charCodeAt(a)&&++a),n.slice(o+1,t-1).replace(/""/g,'"')}for(;a<i;){if(10===(r=n.charCodeAt(t=a++)))s=!0;else if(13===r)s=!0,10===n.charCodeAt(a)&&++a;else if(r!==e)continue;return n.slice(o,t)}return c=!0,n.slice(o,i)}for(10===n.charCodeAt(i-1)&&--i,13===n.charCodeAt(i-1)&&--i;(r=f())!==Gh;){for(var l=[];r!==Fh&&r!==Gh;)l.push(r),r=f();t&&null==(l=t(l,u++))||o.push(l)}return o}function o(t,e){return t.map((function(t){return e.map((function(n){return a(t[n])})).join(n)}))}function i(t){return t.map(a).join(n)}function a(n){return null==n?"":n instanceof Date?Wh(n):t.test(n+="")?'"'+n.replace(/"/g,'""')+'"':n}return{parse:function(n,t){var e,o,i=r(n,(function(n,r){if(e)return e(n,r-1);o=n,e=t?function(n,t){var e=Vh(n);return function(r,o){return t(e(r),o,n)}}(n,t):Vh(n)}));return i.columns=o||[],i},parseRows:r,format:function(t,e){return null==e&&(e=Hh(t)),[e.map(a).join(n)].concat(o(t,e)).join("\n")},formatBody:function(n,t){return null==t&&(t=Hh(n)),o(n,t).join("\n")},formatRows:function(n){return n.map(i).join("\n")},formatRow:i,formatValue:a}}var $h=Yh(","),Jh=$h.parse,Xh=$h.parseRows,Qh=$h.format,Kh=$h.formatBody,Zh=$h.formatRows,np=$h.formatRow,tp=$h.formatValue,ep=Yh("\t"),rp=ep.parse,op=ep.parseRows,ip=ep.format,ap=ep.formatBody,up=ep.formatRows,cp=ep.formatRow,sp=ep.formatValue;var fp=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours(),lp=t(Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",dsvFormat:Yh,csvParse:Jh,csvParseRows:Xh,csvFormat:Qh,csvFormatBody:Kh,csvFormatRows:Zh,csvFormatRow:np,csvFormatValue:tp,tsvParse:rp,tsvParseRows:op,tsvFormat:ip,tsvFormatBody:ap,tsvFormatRows:up,tsvFormatRow:cp,tsvFormatValue:sp,autoType:function(n){for(var t in n){var e,r,o=n[t].trim();if(o)if("true"===o)o=!0;else if("false"===o)o=!1;else if("NaN"===o)o=NaN;else if(isNaN(e=+o)){if(!(r=o.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/)))continue;fp&&r[4]&&!r[7]&&(o=o.replace(/-/g,"/").replace(/T/," ")),o=new Date(o)}else o=e;else o=null;n[t]=o}return n}}));Object.defineProperty({},"__esModule",{value:!0});var hp=ct,pp=lp,vp=Nh;vp.DataSet.registerConnector("dsv",(function(n,t){void 0===t&&(t={});var e=t.delimiter||",";if(!hp.isString(e))throw new TypeError("Invalid delimiter: must be a string!");return pp.dsvFormat(e).parse(n)})),vp.DataSet.registerConnector("csv",(function(n){return pp.csvParse(n)})),vp.DataSet.registerConnector("tsv",(function(n){return pp.tsvParse(n)}));var dp={};Object.defineProperty(dp,"__esModule",{value:!0});var gp=Ai,yp=Nh;function mp(n,t){t.dataType="geo-graticule";var e=gp.geoGraticule().lines();return e.map((function(n,t){return n.index=""+t,n})),t.rows=e,e}dp.default=mp,yp.DataSet.registerConnector("geo-graticule",mp);var wp={},_p=function(n){var t=[];return n.replace(xp,(function(n,e,r){var o=e.toLowerCase();for(r=function(n){var t=n.match(Ep);return t?t.map(Number):[]}(r),"m"==o&&r.length>2&&(t.push([e].concat(r.splice(0,2))),o="l",e="m"==e?"l":"L");;){if(r.length==bp[o])return r.unshift(e),t.push(r);if(r.length<bp[o])throw new Error("malformed path data");t.push([e].concat(r.splice(0,bp[o])))}})),t},bp={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},xp=/([astvzqmhlc])([^astvzqmhlc]*)/gi;var Ep=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/gi;var Sp=Array.isArray||function(n){return"[object Array]"==Object.prototype.toString.call(n)};var Mp=_p,Tp=Sp,jp=function(n){var t=0,e=0,r=0,o=0;return n.map((function(n){var i=(n=n.slice())[0],a=i.toUpperCase();if(i!=a)switch(n[0]=a,i){case"a":n[6]+=r,n[7]+=o;break;case"v":n[1]+=o;break;case"h":n[1]+=r;break;default:for(var u=1;u<n.length;)n[u++]+=r,n[u++]+=o}switch(a){case"Z":r=t,o=e;break;case"H":r=n[1];break;case"V":o=n[1];break;case"M":r=t=n[1],o=e=n[2];break;default:r=n[n.length-2],o=n[n.length-1]}return n}))},kp=Cp;function Cp(n){if(!(this instanceof Cp))return new Cp(n);this._path=Tp(n)?n:Mp(n),this._path=jp(this._path),this._path=function(n){for(var t,e=[],r=["L",0,0],o=0,i=n.length;o<i;o++){var a=n[o];switch(a[0]){case"M":r=["L",a[1],a[2]],e.push(a);break;case"Z":e.push(r);break;case"H":t=e[e.length-1]||["L",0,0],e.push(["L",a[1],t[t.length-1]]);break;case"V":t=e[e.length-1]||["L",0,0],e.push(["L",t[t.length-2],a[1]]);break;default:e.push(a)}}return e}(this._path),this._path=function(n){for(var t,e=0,r=0,o={S:{to:"C",x:3},T:{to:"Q",x:1}},i=0,a=n.length;i<a;i++){var u=n[i],c=o[u[0]];c&&(u[0]=c.to,t&&(t[0]===c.to?(e=2*t[c.x+2]-t[c.x],r=2*t[c.x+3]-t[c.x+1]):(e=t[t.length-2],r=t[t.length-1])),u.splice(1,0,e,r)),t=u}return n}(this._path)}function Pp(n,t,e,r){var o=n-e,i=t-r;return Math.sqrt(o*o+i*i)}Cp.prototype.at=function(n,t){return this._walk(n,t).pos},Cp.prototype.length=function(){return this._walk(null).length},Cp.prototype._walk=function(n,t){for(var e,r,o=[0,0],i=[0,0,0],a=[0,0],u=0,c=0;c<this._path.length;c++){var s=this._path[c];if("M"===s[0]){if(o[0]=s[1],o[1]=s[2],0===n)return{length:u,pos:o}}else if("C"===s[0]){i[0]=a[0]=o[0],i[1]=a[1]=o[1],i[2]=u;for(var f=100,l=0;l<=f;l++){var h=(e=s,r=d=l/f,Math.pow(1-r,3)*a[0]+3*Math.pow(1-r,2)*r*e[1]+3*(1-r)*Math.pow(r,2)*e[3]+Math.pow(r,3)*e[5]),p=g(s,d);if(u+=Pp(o[0],o[1],h,p),o[0]=h,o[1]=p,"number"==typeof n&&u>=n){var v=(u-n)/(u-i[2]);return{length:u,pos:[o[0]*(1-v)+i[0]*v,o[1]*(1-v)+i[1]*v]}}i[0]=o[0],i[1]=o[1],i[2]=u}}else if("Q"===s[0]){i[0]=a[0]=o[0],i[1]=a[1]=o[1],i[2]=u;for(f=100,l=0;l<=f;l++){var d;h=y(s,d=l/f),p=m(s,d);if(u+=Pp(o[0],o[1],h,p),o[0]=h,o[1]=p,"number"==typeof n&&u>=n){v=(u-n)/(u-i[2]);return{length:u,pos:[o[0]*(1-v)+i[0]*v,o[1]*(1-v)+i[1]*v]}}i[0]=o[0],i[1]=o[1],i[2]=u}}else if("L"===s[0]){if(i[0]=o[0],i[1]=o[1],i[2]=u,u+=Pp(o[0],o[1],s[1],s[2]),o[0]=s[1],o[1]=s[2],"number"==typeof n&&u>=n){v=(u-n)/(u-i[2]);return{length:u,pos:[o[0]*(1-v)+i[0]*v,o[1]*(1-v)+i[1]*v]}}i[0]=o[0],i[1]=o[1],i[2]=u}}return{length:u,pos:o};function g(n,t){return Math.pow(1-t,3)*a[1]+3*Math.pow(1-t,2)*t*n[2]+3*(1-t)*Math.pow(t,2)*n[4]+Math.pow(t,3)*n[6]}function y(n,t){return Math.pow(1-t,2)*a[0]+2*(1-t)*t*n[1]+Math.pow(t,2)*n[3]}function m(n,t){return Math.pow(1-t,2)*a[1]+2*(1-t)*t*n[2]+Math.pow(t,2)*n[4]}},Object.defineProperty(wp,"__esModule",{value:!0});var Op=ut.exports.__importDefault(kp),Ap=ct,Np=Nh,Rp=Ai.geoPath();function Ip(n,t,e){e.dataType=Np.DataSet.CONSTANTS.GEO;var r=Ap.deepMix([],n.features);return r.forEach((function(n){n.name=n.properties.name,n.longitude=[],n.latitude=[];var t=n.pathData=Rp(n);Op.default(t)._path.forEach((function(t){n.longitude.push(t[1]),n.latitude.push(t[2])}));var e=Rp.centroid(n);n.centroidX=e[0],n.centroidY=e[1]})),r}Np.DataSet.registerConnector("geo",Ip),Np.DataSet.registerConnector("geojson",Ip),Np.DataSet.registerConnector("GeoJSON",Ip),wp.default=Ip;Object.defineProperty({},"__esModule",{value:!0});var Dp=ct,Lp=Nh,Bp={nodes:function(n){return n.nodes},edges:function(n){return n.edges}};function zp(n,t,e){t=Dp.assign({},Bp,t),e.dataType=Lp.DataSet.CONSTANTS.GRAPH;var r=t.nodes,o=t.edges;if(r&&!Dp.isFunction(r))throw new TypeError("Invalid nodes: must be a function!");if(o&&!Dp.isFunction(o))throw new TypeError("Invalid edges: must be a function!");return e.rows=e.graph={nodes:r(n),edges:o(n)},Dp.assign(e,e.graph),e.rows}Lp.DataSet.registerConnector("graph",zp),Lp.DataSet.registerConnector("diagram",zp);var qp={};function Fp(n,t){return n<t?-1:n>t?1:n>=t?0:NaN}function Gp(n,t){var e,r,o=n.length,i=-1;if(null==t){for(;++i<o;)if(null!=(e=n[i])&&e>=e)for(r=e;++i<o;)null!=(e=n[i])&&e>r&&(r=e)}else for(;++i<o;)if(null!=(e=t(n[i],i,n))&&e>=e)for(r=e;++i<o;)null!=(e=t(n[i],i,n))&&e>r&&(r=e);return r}function Vp(n,t){var e,r,o=n.length,i=-1;if(null==t){for(;++i<o;)if(null!=(e=n[i])&&e>=e)for(r=e;++i<o;)null!=(e=n[i])&&r>e&&(r=e)}else for(;++i<o;)if(null!=(e=t(n[i],i,n))&&e>=e)for(r=e;++i<o;)null!=(e=t(n[i],i,n))&&r>e&&(r=e);return r}function Hp(n,t,e,r){var o=0,i=0;switch(t){case"odd-r":i=n.rc%2==1?e:e/2,o=n.qc*e+i;break;case"even-r":i=n.rc%2==0?e:e/2,o=n.qc*e+i;break;case"odd-q":case"even-q":o=n.qc*r*1.5+r}return o}function Up(n,t,e,r){var o=0,i=0;switch(t){case"odd-r":case"even-r":o=n.rc*r*1.5+r;break;case"odd-q":i=n.qc%2==1?e:e/2,o=n.rc*e+i;break;case"even-q":i=n.qc%2==0?e:e/2,o=n.rc*e+i}return o}!function(n){1===n.length&&(n=function(n){return function(t,e){return Fp(n(t),e)}}(n))}(Fp);var Wp=t(Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",renderHexJSON:function(n,t,e){var r=n.layout,o=[],i=0;Object.keys(n.hexes).forEach((function(t){n.hexes[t].key=t,o.push(n.hexes[t])}));var a=Gp(o,(function(n){return+n.q})),u=Vp(o,(function(n){return+n.q})),c=Gp(o,(function(n){return+n.r})),s=Vp(o,(function(n){return+n.r})),f=a-u+1,l=c-s+1,h=(i=Vp("odd-r"===r||"even-r"===r?[t/((f+.5)*Math.sqrt(3)),e/(1.5*(l+1/3))]:[e/((l+.5)*Math.sqrt(3)),t/(1.5*(f+1/3))]))*Math.sqrt(3),p=function(n,t,e){var r=[];switch(n){case"odd-r":case"even-r":r.push({x:0,y:0-e}),r.push({x:0+.5*t,y:0-.5*e}),r.push({x:0+.5*t,y:0+.5*e}),r.push({x:0,y:0+e}),r.push({x:0-.5*t,y:0+.5*e}),r.push({x:0-.5*t,y:0-.5*e});break;case"odd-q":case"even-q":r.push({x:0-e,y:0}),r.push({x:0-.5*e,y:0-.5*t}),r.push({x:0+.5*e,y:0-.5*t}),r.push({x:0+e,y:0}),r.push({x:0+.5*e,y:0+.5*t}),r.push({x:0-.5*e,y:0+.5*t})}return r}(r,h,i),v=function(n){var t="";return n.forEach((function(n){t+=n.x+","+n.y+" "})),t.substring(0,t.length-1)}(p);return o.forEach((function(n){n.qc=n.q-u,n.rc=c-n.r,n.x=Hp(n,r,h,i),n.y=Up(n,r,h,i),n.vertices=p,n.points=v})),o},getGridForHexJSON:function(n){var t={};t.layout=n.layout,t.hexes={};var e=[];Object.keys(n.hexes).forEach((function(t){e.push(n.hexes[t])}));var r,o,i,a=Gp(e,(function(n){return+n.q})),u=Vp(e,(function(n){return+n.q})),c=Gp(e,(function(n){return+n.r})),s=Vp(e,(function(n){return+n.r}));for(r=u;r<=a;r++)for(o=s;o<=c;o++)i="Q"+r+"R"+o,t.hexes[i]={q:r,r:o};return t},getBoundaryDotsForHexJSON:function(n,t,e,r){var o=[],i=n.layout;Object.keys(n.hexes).forEach((function(t){o.push(n.hexes[t])}));var a,u=Gp(o,(function(n){return+n.q})),c=Vp(o,(function(n){return+n.q})),s=Gp(o,(function(n){return+n.r})),f=Vp(o,(function(n){return+n.r})),l=u-c+1,h=s-f+1,p=(a=Vp("odd-r"===i||"even-r"===i?[t/((l+.5)*Math.sqrt(3)),e/(1.5*(h+1/3))]:[e/((h+.5)*Math.sqrt(3)),t/(1.5*(l+1/3))]))*Math.sqrt(3),v=[],d=a*a*4,g=o.length;if(g>1){o.forEach((function(n){n.qc=n.q-c,n.rc=s-n.r,n.x=Hp(n,i,p,a),n.y=Up(n,i,p,a)}));for(var y=0;y<g-1;y++)for(var m=y+1;m<g;m++){var w=o[y],_=o[m];if(w[r]!==_[r]&&Math.abs(w.q-_.q)<=1&&Math.abs(w.r-_.r)<=1&&(w.x-_.x)*(w.x-_.x)+(w.y-_.y)*(w.y-_.y)<d){var b={};b.x=_.x+(w.x-_.x)/2,b.y=_.y+(w.y-_.y)/2;var x={},E=4*Math.sqrt(3);x.dx=(w.y-_.y)/E,x.dy=-(w.x-_.x)/E,v.push({x:b.x-2*x.dx,y:b.y-2*x.dy}),v.push({x:b.x-x.dx,y:b.y-x.dy}),v.push({x:b.x,y:b.y}),v.push({x:b.x+x.dx,y:b.y+x.dy}),v.push({x:b.x+2*x.dx,y:b.y+2*x.dy})}}}return v},getBoundarySegmentsForHexJSON:function(n,t,e,r){var o=[],i=n.layout;Object.keys(n.hexes).forEach((function(t){o.push(n.hexes[t])}));var a,u=Gp(o,(function(n){return+n.q})),c=Vp(o,(function(n){return+n.q})),s=Gp(o,(function(n){return+n.r})),f=Vp(o,(function(n){return+n.r})),l=u-c+1,h=s-f+1,p=(a=Vp("odd-r"===i||"even-r"===i?[t/((l+.5)*Math.sqrt(3)),e/(1.5*(h+1/3))]:[e/((h+.5)*Math.sqrt(3)),t/(1.5*(l+1/3))]))*Math.sqrt(3),v=[],d=a*a*4,g=o.length;if(g>1){o.forEach((function(n){n.qc=n.q-c,n.rc=s-n.r,n.x=Hp(n,i,p,a),n.y=Up(n,i,p,a)}));for(var y=0;y<g-1;y++)for(var m=y+1;m<g;m++){var w=o[y],_=o[m];if(w[r]!==_[r]&&Math.abs(w.q-_.q)<=1&&Math.abs(w.r-_.r)<=1&&(w.x-_.x)*(w.x-_.x)+(w.y-_.y)*(w.y-_.y)<d){var b={};b.x=_.x+(w.x-_.x)/2,b.y=_.y+(w.y-_.y)/2;var x={},E=1;w[r]<_[r]&&(E=-1);var S=2*Math.sqrt(3)*E;x.dx=(w.y-_.y)/S,x.dy=-(w.x-_.x)/S,v.push({x1:b.x-x.dx,y1:b.y-x.dy,x2:b.x+x.dx,y2:b.y+x.dy})}}}return v}}));Object.defineProperty(qp,"__esModule",{value:!0});var Yp=ct,$p=Wp,Jp=Nh,Xp={width:1,height:1};function Qp(n){return n.cx=n.x,n.cy=n.y,n.x=[],n.y=[],n.vertices.forEach((function(t){n.x.push(t.x+n.cx),n.y.push(t.y+n.cy)})),n}function Kp(n,t,e){e.dataType=Jp.DataSet.CONSTANTS.HEX;var r=(t=Yp.assign({},Xp,t)).width,o=t.height,i=Yp.deepMix([],n);e._HexJSON=i;var a=e._GridHexJSON=$p.getGridForHexJSON(i),u=e.rows=$p.renderHexJSON(i,r,o).map(Qp);return e._gridRows=$p.renderHexJSON(a,r,o).map(Qp),u}Jp.DataSet.registerConnector("hex",Kp),Jp.DataSet.registerConnector("hexjson",Kp),Jp.DataSet.registerConnector("hex-json",Kp),Jp.DataSet.registerConnector("HexJSON",Kp),qp.default=Kp;function Zp(n,t){return n.parent===t.parent?1:2}function nv(n,t){return n+t.x}function tv(n,t){return Math.max(n,t.y)}function ev(n){var t=0,e=n.children,r=e&&e.length;if(r)for(;--r>=0;)t+=e[r].value;else t=1;n.value=t}function rv(n,t){var e,r,o,i,a,u=new uv(n),c=+n.value&&(u.value=n.value),s=[u];for(null==t&&(t=ov);e=s.pop();)if(c&&(e.value=+e.data.value),(o=t(e.data))&&(a=o.length))for(e.children=new Array(a),i=a-1;i>=0;--i)s.push(r=e.children[i]=new uv(o[i])),r.parent=e,r.depth=e.depth+1;return u.eachBefore(av)}function ov(n){return n.children}function iv(n){n.data=n.data.data}function av(n){var t=0;do{n.height=t}while((n=n.parent)&&n.height<++t)}function uv(n){this.data=n,this.depth=this.height=0,this.parent=null}uv.prototype=rv.prototype={constructor:uv,count:function(){return this.eachAfter(ev)},each:function(n){var t,e,r,o,i=this,a=[i];do{for(t=a.reverse(),a=[];i=t.pop();)if(n(i),e=i.children)for(r=0,o=e.length;r<o;++r)a.push(e[r])}while(a.length);return this},eachAfter:function(n){for(var t,e,r,o=this,i=[o],a=[];o=i.pop();)if(a.push(o),t=o.children)for(e=0,r=t.length;e<r;++e)i.push(t[e]);for(;o=a.pop();)n(o);return this},eachBefore:function(n){for(var t,e,r=this,o=[r];r=o.pop();)if(n(r),t=r.children)for(e=t.length-1;e>=0;--e)o.push(t[e]);return this},sum:function(n){return this.eachAfter((function(t){for(var e=+n(t.data)||0,r=t.children,o=r&&r.length;--o>=0;)e+=r[o].value;t.value=e}))},sort:function(n){return this.eachBefore((function(t){t.children&&t.children.sort(n)}))},path:function(n){for(var t=this,e=function(n,t){if(n===t)return n;var e=n.ancestors(),r=t.ancestors(),o=null;n=e.pop(),t=r.pop();for(;n===t;)o=n,n=e.pop(),t=r.pop();return o}(t,n),r=[t];t!==e;)t=t.parent,r.push(t);for(var o=r.length;n!==e;)r.splice(o,0,n),n=n.parent;return r},ancestors:function(){for(var n=this,t=[n];n=n.parent;)t.push(n);return t},descendants:function(){var n=[];return this.each((function(t){n.push(t)})),n},leaves:function(){var n=[];return this.eachBefore((function(t){t.children||n.push(t)})),n},links:function(){var n=this,t=[];return n.each((function(e){e!==n&&t.push({source:e.parent,target:e})})),t},copy:function(){return rv(this).eachBefore(iv)}};var cv=Array.prototype.slice;function sv(n){for(var t,e,r=0,o=(n=function(n){for(var t,e,r=n.length;r;)e=Math.random()*r--|0,t=n[r],n[r]=n[e],n[e]=t;return n}(cv.call(n))).length,i=[];r<o;)t=n[r],e&&hv(e,t)?++r:(e=vv(i=fv(i,t)),r=0);return e}function fv(n,t){var e,r;if(pv(t,n))return[t];for(e=0;e<n.length;++e)if(lv(t,n[e])&&pv(dv(n[e],t),n))return[n[e],t];for(e=0;e<n.length-1;++e)for(r=e+1;r<n.length;++r)if(lv(dv(n[e],n[r]),t)&&lv(dv(n[e],t),n[r])&&lv(dv(n[r],t),n[e])&&pv(gv(n[e],n[r],t),n))return[n[e],n[r],t];throw new Error}function lv(n,t){var e=n.r-t.r,r=t.x-n.x,o=t.y-n.y;return e<0||e*e<r*r+o*o}function hv(n,t){var e=n.r-t.r+1e-6,r=t.x-n.x,o=t.y-n.y;return e>0&&e*e>r*r+o*o}function pv(n,t){for(var e=0;e<t.length;++e)if(!hv(n,t[e]))return!1;return!0}function vv(n){switch(n.length){case 1:return{x:(t=n[0]).x,y:t.y,r:t.r};case 2:return dv(n[0],n[1]);case 3:return gv(n[0],n[1],n[2])}var t}function dv(n,t){var e=n.x,r=n.y,o=n.r,i=t.x,a=t.y,u=t.r,c=i-e,s=a-r,f=u-o,l=Math.sqrt(c*c+s*s);return{x:(e+i+c/l*f)/2,y:(r+a+s/l*f)/2,r:(l+o+u)/2}}function gv(n,t,e){var r=n.x,o=n.y,i=n.r,a=t.x,u=t.y,c=t.r,s=e.x,f=e.y,l=e.r,h=r-a,p=r-s,v=o-u,d=o-f,g=c-i,y=l-i,m=r*r+o*o-i*i,w=m-a*a-u*u+c*c,_=m-s*s-f*f+l*l,b=p*v-h*d,x=(v*_-d*w)/(2*b)-r,E=(d*g-v*y)/b,S=(p*w-h*_)/(2*b)-o,M=(h*y-p*g)/b,T=E*E+M*M-1,j=2*(i+x*E+S*M),k=x*x+S*S-i*i,C=-(T?(j+Math.sqrt(j*j-4*T*k))/(2*T):k/j);return{x:r+x+E*C,y:o+S+M*C,r:C}}function yv(n,t,e){var r,o,i,a,u=n.x-t.x,c=n.y-t.y,s=u*u+c*c;s?(o=t.r+e.r,o*=o,a=n.r+e.r,o>(a*=a)?(r=(s+a-o)/(2*s),i=Math.sqrt(Math.max(0,a/s-r*r)),e.x=n.x-r*u-i*c,e.y=n.y-r*c+i*u):(r=(s+o-a)/(2*s),i=Math.sqrt(Math.max(0,o/s-r*r)),e.x=t.x+r*u-i*c,e.y=t.y+r*c+i*u)):(e.x=t.x+e.r,e.y=t.y)}function mv(n,t){var e=n.r+t.r-1e-6,r=t.x-n.x,o=t.y-n.y;return e>0&&e*e>r*r+o*o}function wv(n){var t=n._,e=n.next._,r=t.r+e.r,o=(t.x*e.r+e.x*t.r)/r,i=(t.y*e.r+e.y*t.r)/r;return o*o+i*i}function _v(n){this._=n,this.next=null,this.previous=null}function bv(n){if(!(o=n.length))return 0;var t,e,r,o,i,a,u,c,s,f,l;if((t=n[0]).x=0,t.y=0,!(o>1))return t.r;if(e=n[1],t.x=-e.r,e.x=t.r,e.y=0,!(o>2))return t.r+e.r;yv(e,t,r=n[2]),t=new _v(t),e=new _v(e),r=new _v(r),t.next=r.previous=e,e.next=t.previous=r,r.next=e.previous=t;n:for(u=3;u<o;++u){yv(t._,e._,r=n[u]),r=new _v(r),c=e.next,s=t.previous,f=e._.r,l=t._.r;do{if(f<=l){if(mv(c._,r._)){e=c,t.next=e,e.previous=t,--u;continue n}f+=c._.r,c=c.next}else{if(mv(s._,r._)){(t=s).next=e,e.previous=t,--u;continue n}l+=s._.r,s=s.previous}}while(c!==s.next);for(r.previous=t,r.next=e,t.next=e.previous=e=r,i=wv(t);(r=r.next)!==e;)(a=wv(r))<i&&(t=r,i=a);e=t.next}for(t=[e._],r=e;(r=r.next)!==e;)t.push(r._);for(r=sv(t),u=0;u<o;++u)(t=n[u]).x-=r.x,t.y-=r.y;return r.r}function xv(n){return null==n?null:Ev(n)}function Ev(n){if("function"!=typeof n)throw new Error;return n}function Sv(){return 0}function Mv(n){return function(){return n}}function Tv(n){return Math.sqrt(n.value)}function jv(n){return function(t){t.children||(t.r=Math.max(0,+n(t)||0))}}function kv(n,t){return function(e){if(r=e.children){var r,o,i,a=r.length,u=n(e)*t||0;if(u)for(o=0;o<a;++o)r[o].r+=u;if(i=bv(r),u)for(o=0;o<a;++o)r[o].r-=u;e.r=i+u}}}function Cv(n){return function(t){var e=t.parent;t.r*=n,e&&(t.x=e.x+n*t.x,t.y=e.y+n*t.y)}}function Pv(n){n.x0=Math.round(n.x0),n.y0=Math.round(n.y0),n.x1=Math.round(n.x1),n.y1=Math.round(n.y1)}function Ov(n,t,e,r,o){for(var i,a=n.children,u=-1,c=a.length,s=n.value&&(r-t)/n.value;++u<c;)(i=a[u]).y0=e,i.y1=o,i.x0=t,i.x1=t+=i.value*s}var Av={depth:-1},Nv={};function Rv(n){return n.id}function Iv(n){return n.parentId}function Dv(n,t){return n.parent===t.parent?1:2}function Lv(n){var t=n.children;return t?t[0]:n.t}function Bv(n){var t=n.children;return t?t[t.length-1]:n.t}function zv(n,t,e){var r=e/(t.i-n.i);t.c-=r,t.s+=e,n.c+=r,t.z+=e,t.m+=e}function qv(n,t,e){return n.a.parent===t.parent?n.a:e}function Fv(n,t){this._=n,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=t}function Gv(n,t,e,r,o){for(var i,a=n.children,u=-1,c=a.length,s=n.value&&(o-e)/n.value;++u<c;)(i=a[u]).x0=t,i.x1=r,i.y0=e,i.y1=e+=i.value*s}Fv.prototype=Object.create(uv.prototype);var Vv=(1+Math.sqrt(5))/2;function Hv(n,t,e,r,o,i){for(var a,u,c,s,f,l,h,p,v,d,g,y=[],m=t.children,w=0,_=0,b=m.length,x=t.value;w<b;){c=o-e,s=i-r;do{f=m[_++].value}while(!f&&_<b);for(l=h=f,g=f*f*(d=Math.max(s/c,c/s)/(x*n)),v=Math.max(h/g,g/l);_<b;++_){if(f+=u=m[_].value,u<l&&(l=u),u>h&&(h=u),g=f*f*d,(p=Math.max(h/g,g/l))>v){f-=u;break}v=p}y.push(a={value:f,dice:c<s,children:m.slice(w,_)}),a.dice?Ov(a,e,r,o,x?r+=s*f/x:i):Gv(a,e,r,x?e+=c*f/x:o,i),x-=f,w=_}return y}var Uv=function n(t){function e(n,e,r,o,i){Hv(t,n,e,r,o,i)}return e.ratio=function(t){return n((t=+t)>1?t:1)},e}(Vv);var Wv=function n(t){function e(n,e,r,o,i){if((a=n._squarify)&&a.ratio===t)for(var a,u,c,s,f,l=-1,h=a.length,p=n.value;++l<h;){for(c=(u=a[l]).children,s=u.value=0,f=c.length;s<f;++s)u.value+=c[s].value;u.dice?Ov(u,e,r,o,r+=(i-r)*u.value/p):Gv(u,e,r,e+=(o-e)*u.value/p,i),p-=u.value}else n._squarify=a=Hv(t,n,e,r,o,i),a.ratio=t}return e.ratio=function(t){return n((t=+t)>1?t:1)},e}(Vv),Yv=t(Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",cluster:function(){var n=Zp,t=1,e=1,r=!1;function o(o){var i,a=0;o.eachAfter((function(t){var e=t.children;e?(t.x=function(n){return n.reduce(nv,0)/n.length}(e),t.y=function(n){return 1+n.reduce(tv,0)}(e)):(t.x=i?a+=n(t,i):0,t.y=0,i=t)}));var u=function(n){for(var t;t=n.children;)n=t[0];return n}(o),c=function(n){for(var t;t=n.children;)n=t[t.length-1];return n}(o),s=u.x-n(u,c)/2,f=c.x+n(c,u)/2;return o.eachAfter(r?function(n){n.x=(n.x-o.x)*t,n.y=(o.y-n.y)*e}:function(n){n.x=(n.x-s)/(f-s)*t,n.y=(1-(o.y?n.y/o.y:1))*e})}return o.separation=function(t){return arguments.length?(n=t,o):n},o.size=function(n){return arguments.length?(r=!1,t=+n[0],e=+n[1],o):r?null:[t,e]},o.nodeSize=function(n){return arguments.length?(r=!0,t=+n[0],e=+n[1],o):r?[t,e]:null},o},hierarchy:rv,pack:function(){var n=null,t=1,e=1,r=Sv;function o(o){return o.x=t/2,o.y=e/2,n?o.eachBefore(jv(n)).eachAfter(kv(r,.5)).eachBefore(Cv(1)):o.eachBefore(jv(Tv)).eachAfter(kv(Sv,1)).eachAfter(kv(r,o.r/Math.min(t,e))).eachBefore(Cv(Math.min(t,e)/(2*o.r))),o}return o.radius=function(t){return arguments.length?(n=xv(t),o):n},o.size=function(n){return arguments.length?(t=+n[0],e=+n[1],o):[t,e]},o.padding=function(n){return arguments.length?(r="function"==typeof n?n:Mv(+n),o):r},o},packSiblings:function(n){return bv(n),n},packEnclose:sv,partition:function(){var n=1,t=1,e=0,r=!1;function o(o){var i=o.height+1;return o.x0=o.y0=e,o.x1=n,o.y1=t/i,o.eachBefore(function(n,t){return function(r){r.children&&Ov(r,r.x0,n*(r.depth+1)/t,r.x1,n*(r.depth+2)/t);var o=r.x0,i=r.y0,a=r.x1-e,u=r.y1-e;a<o&&(o=a=(o+a)/2),u<i&&(i=u=(i+u)/2),r.x0=o,r.y0=i,r.x1=a,r.y1=u}}(t,i)),r&&o.eachBefore(Pv),o}return o.round=function(n){return arguments.length?(r=!!n,o):r},o.size=function(e){return arguments.length?(n=+e[0],t=+e[1],o):[n,t]},o.padding=function(n){return arguments.length?(e=+n,o):e},o},stratify:function(){var n=Rv,t=Iv;function e(e){var r,o,i,a,u,c,s,f=e.length,l=new Array(f),h={};for(o=0;o<f;++o)r=e[o],u=l[o]=new uv(r),null!=(c=n(r,o,e))&&(c+="")&&(h[s="$"+(u.id=c)]=s in h?Nv:u);for(o=0;o<f;++o)if(u=l[o],null!=(c=t(e[o],o,e))&&(c+="")){if(!(a=h["$"+c]))throw new Error("missing: "+c);if(a===Nv)throw new Error("ambiguous: "+c);a.children?a.children.push(u):a.children=[u],u.parent=a}else{if(i)throw new Error("multiple roots");i=u}if(!i)throw new Error("no root");if(i.parent=Av,i.eachBefore((function(n){n.depth=n.parent.depth+1,--f})).eachBefore(av),i.parent=null,f>0)throw new Error("cycle");return i}return e.id=function(t){return arguments.length?(n=Ev(t),e):n},e.parentId=function(n){return arguments.length?(t=Ev(n),e):t},e},tree:function(){var n=Dv,t=1,e=1,r=null;function o(o){var c=function(n){for(var t,e,r,o,i,a=new Fv(n,0),u=[a];t=u.pop();)if(r=t._.children)for(t.children=new Array(i=r.length),o=i-1;o>=0;--o)u.push(e=t.children[o]=new Fv(r[o],o)),e.parent=t;return(a.parent=new Fv(null,0)).children=[a],a}(o);if(c.eachAfter(i),c.parent.m=-c.z,c.eachBefore(a),r)o.eachBefore(u);else{var s=o,f=o,l=o;o.eachBefore((function(n){n.x<s.x&&(s=n),n.x>f.x&&(f=n),n.depth>l.depth&&(l=n)}));var h=s===f?1:n(s,f)/2,p=h-s.x,v=t/(f.x+h+p),d=e/(l.depth||1);o.eachBefore((function(n){n.x=(n.x+p)*v,n.y=n.depth*d}))}return o}function i(t){var e=t.children,r=t.parent.children,o=t.i?r[t.i-1]:null;if(e){!function(n){for(var t,e=0,r=0,o=n.children,i=o.length;--i>=0;)(t=o[i]).z+=e,t.m+=e,e+=t.s+(r+=t.c)}(t);var i=(e[0].z+e[e.length-1].z)/2;o?(t.z=o.z+n(t._,o._),t.m=t.z-i):t.z=i}else o&&(t.z=o.z+n(t._,o._));t.parent.A=function(t,e,r){if(e){for(var o,i=t,a=t,u=e,c=i.parent.children[0],s=i.m,f=a.m,l=u.m,h=c.m;u=Bv(u),i=Lv(i),u&&i;)c=Lv(c),(a=Bv(a)).a=t,(o=u.z+l-i.z-s+n(u._,i._))>0&&(zv(qv(u,t,r),t,o),s+=o,f+=o),l+=u.m,s+=i.m,h+=c.m,f+=a.m;u&&!Bv(a)&&(a.t=u,a.m+=l-f),i&&!Lv(c)&&(c.t=i,c.m+=s-h,r=t)}return r}(t,o,t.parent.A||r[0])}function a(n){n._.x=n.z+n.parent.m,n.m+=n.parent.m}function u(n){n.x*=t,n.y=n.depth*e}return o.separation=function(t){return arguments.length?(n=t,o):n},o.size=function(n){return arguments.length?(r=!1,t=+n[0],e=+n[1],o):r?null:[t,e]},o.nodeSize=function(n){return arguments.length?(r=!0,t=+n[0],e=+n[1],o):r?[t,e]:null},o},treemap:function(){var n=Uv,t=!1,e=1,r=1,o=[0],i=Sv,a=Sv,u=Sv,c=Sv,s=Sv;function f(n){return n.x0=n.y0=0,n.x1=e,n.y1=r,n.eachBefore(l),o=[0],t&&n.eachBefore(Pv),n}function l(t){var e=o[t.depth],r=t.x0+e,f=t.y0+e,l=t.x1-e,h=t.y1-e;l<r&&(r=l=(r+l)/2),h<f&&(f=h=(f+h)/2),t.x0=r,t.y0=f,t.x1=l,t.y1=h,t.children&&(e=o[t.depth+1]=i(t)/2,r+=s(t)-e,f+=a(t)-e,(l-=u(t)-e)<r&&(r=l=(r+l)/2),(h-=c(t)-e)<f&&(f=h=(f+h)/2),n(t,r,f,l,h))}return f.round=function(n){return arguments.length?(t=!!n,f):t},f.size=function(n){return arguments.length?(e=+n[0],r=+n[1],f):[e,r]},f.tile=function(t){return arguments.length?(n=Ev(t),f):n},f.padding=function(n){return arguments.length?f.paddingInner(n).paddingOuter(n):f.paddingInner()},f.paddingInner=function(n){return arguments.length?(i="function"==typeof n?n:Mv(+n),f):i},f.paddingOuter=function(n){return arguments.length?f.paddingTop(n).paddingRight(n).paddingBottom(n).paddingLeft(n):f.paddingTop()},f.paddingTop=function(n){return arguments.length?(a="function"==typeof n?n:Mv(+n),f):a},f.paddingRight=function(n){return arguments.length?(u="function"==typeof n?n:Mv(+n),f):u},f.paddingBottom=function(n){return arguments.length?(c="function"==typeof n?n:Mv(+n),f):c},f.paddingLeft=function(n){return arguments.length?(s="function"==typeof n?n:Mv(+n),f):s},f},treemapBinary:function(n,t,e,r,o){var i,a,u=n.children,c=u.length,s=new Array(c+1);for(s[0]=a=i=0;i<c;++i)s[i+1]=a+=u[i].value;!function n(t,e,r,o,i,a,c){if(t>=e-1){var f=u[t];return f.x0=o,f.y0=i,f.x1=a,void(f.y1=c)}var l=s[t],h=r/2+l,p=t+1,v=e-1;for(;p<v;){var d=p+v>>>1;s[d]<h?p=d+1:v=d}h-s[p-1]<s[p]-h&&t+1<p&&--p;var g=s[p]-l,y=r-g;if(a-o>c-i){var m=(o*y+a*g)/r;n(t,p,g,o,i,m,c),n(p,e,y,m,i,a,c)}else{var w=(i*y+c*g)/r;n(t,p,g,o,i,a,w),n(p,e,y,o,w,a,c)}}(0,c,n.value,t,e,r,o)},treemapDice:Ov,treemapSlice:Gv,treemapSliceDice:function(n,t,e,r,o){(1&n.depth?Gv:Ov)(n,t,e,r,o)},treemapSquarify:Uv,treemapResquarify:Wv}));Object.defineProperty({},"__esModule",{value:!0});var $v=ct,Jv=Yv,Xv=Nh;function Qv(n,t,e){e.dataType=Xv.DataSet.CONSTANTS.HIERARCHY;var r=t&&t.children?t.children:null;if(r&&!$v.isFunction(r))throw new TypeError("Invalid children: must be a function!");return t.pureData?e.rows=e.root=n:e.rows=e.root=Jv.hierarchy(n,r),n}Xv.DataSet.registerConnector("hierarchy",Qv),Xv.DataSet.registerConnector("tree",Qv);function Kv(n){return n}function Zv(n){if(null==n)return Kv;var t,e,r=n.scale[0],o=n.scale[1],i=n.translate[0],a=n.translate[1];return function(n,u){u||(t=e=0);var c=2,s=n.length,f=new Array(s);for(f[0]=(t+=n[0])*r+i,f[1]=(e+=n[1])*o+a;c<s;)f[c]=n[c],++c;return f}}function nd(n){var t,e=Zv(n.transform),r=1/0,o=r,i=-r,a=-r;function u(n){(n=e(n))[0]<r&&(r=n[0]),n[0]>i&&(i=n[0]),n[1]<o&&(o=n[1]),n[1]>a&&(a=n[1])}function c(n){switch(n.type){case"GeometryCollection":n.geometries.forEach(c);break;case"Point":u(n.coordinates);break;case"MultiPoint":n.coordinates.forEach(u)}}for(t in n.arcs.forEach((function(n){for(var t,u=-1,c=n.length;++u<c;)(t=e(n[u],u))[0]<r&&(r=t[0]),t[0]>i&&(i=t[0]),t[1]<o&&(o=t[1]),t[1]>a&&(a=t[1])})),n.objects)c(n.objects[t]);return[r,o,i,a]}function td(n,t){var e=t.id,r=t.bbox,o=null==t.properties?{}:t.properties,i=ed(n,t);return null==e&&null==r?{type:"Feature",properties:o,geometry:i}:null==r?{type:"Feature",id:e,properties:o,geometry:i}:{type:"Feature",id:e,bbox:r,properties:o,geometry:i}}function ed(n,t){var e=Zv(n.transform),r=n.arcs;function o(n,t){t.length&&t.pop();for(var o=r[n<0?~n:n],i=0,a=o.length;i<a;++i)t.push(e(o[i],i));n<0&&function(n,t){for(var e,r=n.length,o=r-t;o<--r;)e=n[o],n[o++]=n[r],n[r]=e}(t,a)}function i(n){return e(n)}function a(n){for(var t=[],e=0,r=n.length;e<r;++e)o(n[e],t);return t.length<2&&t.push(t[0]),t}function u(n){for(var t=a(n);t.length<4;)t.push(t[0]);return t}function c(n){return n.map(u)}return function n(t){var e,r=t.type;switch(r){case"GeometryCollection":return{type:r,geometries:t.geometries.map(n)};case"Point":e=i(t.coordinates);break;case"MultiPoint":e=t.coordinates.map(i);break;case"LineString":e=a(t.arcs);break;case"MultiLineString":e=t.arcs.map(a);break;case"Polygon":e=c(t.arcs);break;case"MultiPolygon":e=t.arcs.map(c);break;default:return null}return{type:r,coordinates:e}}(t)}function rd(n,t){var e={},r={},o={},i=[],a=-1;function u(n,t){for(var r in n){var o=n[r];delete t[o.start],delete o.start,delete o.end,o.forEach((function(n){e[n<0?~n:n]=1})),i.push(o)}}return t.forEach((function(e,r){var o,i=n.arcs[e<0?~e:e];i.length<3&&!i[1][0]&&!i[1][1]&&(o=t[++a],t[a]=e,t[r]=o)})),t.forEach((function(t){var e,i,a=function(t){var e,r=n.arcs[t<0?~t:t],o=r[0];n.transform?(e=[0,0],r.forEach((function(n){e[0]+=n[0],e[1]+=n[1]}))):e=r[r.length-1];return t<0?[e,o]:[o,e]}(t),u=a[0],c=a[1];if(e=o[u])if(delete o[e.end],e.push(t),e.end=c,i=r[c]){delete r[i.start];var s=i===e?e:e.concat(i);r[s.start=e.start]=o[s.end=i.end]=s}else r[e.start]=o[e.end]=e;else if(e=r[c])if(delete r[e.start],e.unshift(t),e.start=u,i=o[u]){delete o[i.end];var f=i===e?e:i.concat(e);r[f.start=i.start]=o[f.end=e.end]=f}else r[e.start]=o[e.end]=e;else r[(e=[t]).start=u]=o[e.end=c]=e})),u(o,r),u(r,o),t.forEach((function(n){e[n<0?~n:n]||i.push([n])})),i}function od(n,t,e){var r,o,i;if(arguments.length>1)r=id(n,t,e);else for(o=0,r=new Array(i=n.arcs.length);o<i;++o)r[o]=o;return{type:"MultiLineString",arcs:rd(n,r)}}function id(n,t,e){var r,o=[],i=[];function a(n){var t=n<0?~n:n;(i[t]||(i[t]=[])).push({i:n,g:r})}function u(n){n.forEach(a)}function c(n){n.forEach(u)}return function n(t){switch(r=t,t.type){case"GeometryCollection":t.geometries.forEach(n);break;case"LineString":u(t.arcs);break;case"MultiLineString":case"Polygon":c(t.arcs);break;case"MultiPolygon":t.arcs.forEach(c)}}(t),i.forEach(null==e?function(n){o.push(n[0].i)}:function(n){e(n[0].g,n[n.length-1].g)&&o.push(n[0].i)}),o}function ad(n,t){var e={},r=[],o=[];function i(n){n.forEach((function(t){t.forEach((function(t){(e[t=t<0?~t:t]||(e[t]=[])).push(n)}))})),r.push(n)}function a(t){return function(n){for(var t,e=-1,r=n.length,o=n[r-1],i=0;++e<r;)t=o,o=n[e],i+=t[0]*o[1]-t[1]*o[0];return Math.abs(i)}(ed(n,{type:"Polygon",arcs:[t]}).coordinates[0])}return t.forEach((function n(t){switch(t.type){case"GeometryCollection":t.geometries.forEach(n);break;case"Polygon":i(t.arcs);break;case"MultiPolygon":t.arcs.forEach(i)}})),r.forEach((function(n){if(!n._){var t=[],r=[n];for(n._=1,o.push(t);n=r.pop();)t.push(n),n.forEach((function(n){n.forEach((function(n){e[n<0?~n:n].forEach((function(n){n._||(n._=1,r.push(n))}))}))}))}})),r.forEach((function(n){delete n._})),{type:"MultiPolygon",arcs:o.map((function(t){var r,o=[];if(t.forEach((function(n){n.forEach((function(n){n.forEach((function(n){e[n<0?~n:n].length<2&&o.push(n)}))}))})),(r=(o=rd(n,o)).length)>1)for(var i,u,c=1,s=a(o[0]);c<r;++c)(i=a(o[c]))>s&&(u=o[0],o[0]=o[c],o[c]=u,s=i);return o})).filter((function(n){return n.length>0}))}}function ud(n,t){for(var e=0,r=n.length;e<r;){var o=e+r>>>1;n[o]<t?e=o+1:r=o}return e}function cd(n){if(null==n)return Kv;var t,e,r=n.scale[0],o=n.scale[1],i=n.translate[0],a=n.translate[1];return function(n,u){u||(t=e=0);var c=2,s=n.length,f=new Array(s),l=Math.round((n[0]-i)/r),h=Math.round((n[1]-a)/o);for(f[0]=l-t,t=l,f[1]=h-e,e=h;c<s;)f[c]=n[c],++c;return f}}var sd=t(Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",bbox:nd,feature:function(n,t){return"string"==typeof t&&(t=n.objects[t]),"GeometryCollection"===t.type?{type:"FeatureCollection",features:t.geometries.map((function(t){return td(n,t)}))}:td(n,t)},mesh:function(n){return ed(n,od.apply(this,arguments))},meshArcs:od,merge:function(n){return ed(n,ad.apply(this,arguments))},mergeArcs:ad,neighbors:function(n){var t={},e=n.map((function(){return[]}));function r(n,e){n.forEach((function(n){n<0&&(n=~n);var r=t[n];r?r.push(e):t[n]=[e]}))}function o(n,t){n.forEach((function(n){r(n,t)}))}var i={LineString:r,MultiLineString:o,Polygon:o,MultiPolygon:function(n,t){n.forEach((function(n){o(n,t)}))}};for(var a in n.forEach((function n(t,e){"GeometryCollection"===t.type?t.geometries.forEach((function(t){n(t,e)})):t.type in i&&i[t.type](t.arcs,e)})),t)for(var u=t[a],c=u.length,s=0;s<c;++s)for(var f=s+1;f<c;++f){var l,h=u[s],p=u[f];(l=e[h])[a=ud(l,p)]!==p&&l.splice(a,0,p),(l=e[p])[a=ud(l,h)]!==h&&l.splice(a,0,h)}return e},quantize:function(n,t){if(n.transform)throw new Error("already quantized");if(t&&t.scale)u=n.bbox;else{if(!((e=Math.floor(t))>=2))throw new Error("n must be ≥2");var e,r=(u=n.bbox||nd(n))[0],o=u[1],i=u[2],a=u[3];t={scale:[i-r?(i-r)/(e-1):1,a-o?(a-o)/(e-1):1],translate:[r,o]}}var u,c,s=cd(t),f=n.objects,l={};function h(n){return s(n)}function p(n){var t;switch(n.type){case"GeometryCollection":t={type:"GeometryCollection",geometries:n.geometries.map(p)};break;case"Point":t={type:"Point",coordinates:h(n.coordinates)};break;case"MultiPoint":t={type:"MultiPoint",coordinates:n.coordinates.map(h)};break;default:return n}return null!=n.id&&(t.id=n.id),null!=n.bbox&&(t.bbox=n.bbox),null!=n.properties&&(t.properties=n.properties),t}for(c in f)l[c]=p(f[c]);return{type:"Topology",bbox:u,transform:t,objects:l,arcs:n.arcs.map((function(n){var t,e=0,r=1,o=n.length,i=new Array(o);for(i[0]=s(n[0],0);++e<o;)((t=s(n[e],e))[0]||t[1])&&(i[r++]=t);return 1===r&&(i[r++]=[0,0]),i.length=r,i}))}},transform:Zv,untransform:cd}));Object.defineProperty({},"__esModule",{value:!0});var fd=ct,ld=sd,hd=ut.exports.__importDefault(wp),pd=Nh;function vd(n,t,e){var r=t.object;if(!fd.isString(r))throw new TypeError("Invalid object: must be a string!");var o=ld.feature(n,n.objects[r]);return hd.default(o,void 0,e)}pd.DataSet.registerConnector("topojson",vd),pd.DataSet.registerConnector("TopoJSON",vd);Object.defineProperty({},"__esModule",{value:!0}),Nh.DataSet.registerTransform("default",(function(n){return n}));function dd(n){return!!n}Object.defineProperty({},"__esModule",{value:!0}),Nh.DataSet.registerTransform("filter",(function(n,t){n.rows=n.rows.filter(t.callback||dd)}));var gd={};Object.defineProperty(gd,"__esModule",{value:!0}),gd.getFields=gd.getField=void 0;var yd=ct,md="Invalid fields: it must be an array!";gd.getField=function(n,t){var e=n.field,r=n.fields;if(yd.isString(e))return e;if(yd.isArray(e))return console.warn("Invalid field: it must be a string!"),e[0];if(console.warn("Invalid field: it must be a string! will try to get fields instead."),yd.isString(r))return r;if(yd.isArray(r)&&r.length)return r[0];if(t)return t;throw new TypeError("Invalid field: it must be a string!")},gd.getFields=function(n,t){var e=n.field,r=n.fields;if(yd.isArray(r))return r;if(yd.isString(r))return console.warn(md),[r];if(console.warn(md+" will try to get field instead."),yd.isString(e))return console.warn(md),[e];if(yd.isArray(e)&&e.length)return console.warn(md),e;if(t)return t;throw new TypeError(md)},Object.defineProperty({},"__esModule",{value:!0});var wd=ct,_d=gd,bd={fields:[],key:"key",retains:[],value:"value"};Nh.DataSet.registerTransform("fold",(function(n,t){var e=n.getColumnNames();t=wd.assign({},bd,t);var r=_d.getFields(t);0===r.length&&(console.warn("warning: option fields is not specified, will fold all columns."),r=e);var o=t.key,i=t.value,a=t.retains;a&&0!==a.length||(a=wd.difference(e,r));var u=[];n.rows.forEach((function(n){r.forEach((function(t){var e=wd.pick(n,a);e[o]=t,e[i]=n[t],u.push(e)}))})),n.rows=u}));function xd(n){return n}Object.defineProperty({},"__esModule",{value:!0}),Nh.DataSet.registerTransform("map",(function(n,t){n.rows=n.rows.map(t.callback||xd)}));Object.defineProperty({},"__esModule",{value:!0});var Ed=ct,Sd=ut.exports.__importDefault(_l),Md=Nh,Td={groupBy:[],orderBy:[]};function jd(n,t){t=Ed.assign({},Td,t),n.rows=Ed.values(Sd.default(n.rows,t.groupBy,t.orderBy))}Md.DataSet.registerTransform("partition",(function(n,t){t=Ed.assign({},Td,t),n.rows=Sd.default(n.rows,t.groupBy,t.orderBy)})),Md.DataSet.registerTransform("group",jd),Md.DataSet.registerTransform("groups",jd);Object.defineProperty({},"__esModule",{value:!0});var kd=ct,Cd=Eh,Pd=ut.exports.__importDefault(_l),Od=gd,Ad={groupBy:[],as:"_percent"};Nh.DataSet.registerTransform("percent",(function(n,t){t=kd.assign({},Ad,t);var e=Od.getField(t),r=t.dimension,o=t.groupBy,i=t.as;if(!kd.isString(r))throw new TypeError("Invalid dimension: must be a string!");if(kd.isArray(i)&&(console.warn("Invalid as: must be a string, will use the first element of the array specified."),i=i[0]),!kd.isString(i))throw new TypeError("Invalid as: must be a string!");var a=n.rows,u=[],c=Pd.default(a,o);kd.forIn(c,(function(n){var t=Cd.sum(n.map((function(n){return n[e]}))),o=Pd.default(n,[r]);kd.forIn(o,(function(n){var o=Cd.sum(n.map((function(n){return n[e]}))),a=n[0],c=a[r];a[e]=o,a[r]=c,a[i]=0===t?0:o/t,u.push(a)}))})),n.rows=u}));Object.defineProperty({},"__esModule",{value:!0});var Nd=ct,Rd=gd;Nh.DataSet.registerTransform("pick",(function(n,t){var e=Rd.getFields(t,n.getColumnNames());n.rows=n.rows.map((function(n){return Nd.pick(n,e)}))}));Object.defineProperty({},"__esModule",{value:!0});var Id=ct,Dd=ut.exports.__importDefault(_l),Ld=gd,Bd={groupBy:[],as:"_proportion"};Nh.DataSet.registerTransform("proportion",(function(n,t){t=Id.assign({},Bd,t);var e=Ld.getField(t),r=t.dimension,o=t.groupBy,i=t.as;if(!Id.isString(r))throw new TypeError("Invalid dimension: must be a string!");if(Id.isArray(i)&&(console.warn("Invalid as: must be a string, will use the first element of the array specified."),i=i[0]),!Id.isString(i))throw new TypeError("Invalid as: must be a string!");var a=n.rows,u=[],c=Dd.default(a,o);Id.forIn(c,(function(n){var t=n.length,o=Dd.default(n,[r]);Id.forIn(o,(function(n){var o=n.length,a=n[0],c=a[r];a[e]=o,a[r]=c,a[i]=o/t,u.push(a)}))})),n.rows=u}));Object.defineProperty({},"__esModule",{value:!0});var zd=ct,qd=Nh;function Fd(n,t){var e=t.map||{},r={};zd.isPlainObject(e)&&zd.forIn(e,(function(n,t){zd.isString(n)&&zd.isString(t)&&(r[t]=n)})),n.rows.forEach((function(n){zd.forIn(r,(function(t,e){var r=n[e];delete n[e],n[t]=r}))}))}qd.DataSet.registerTransform("rename",Fd),qd.DataSet.registerTransform("rename-fields",Fd);Object.defineProperty({},"__esModule",{value:!0}),Nh.DataSet.registerTransform("reverse",(function(n){n.rows.reverse()}));Object.defineProperty({},"__esModule",{value:!0}),Nh.DataSet.registerTransform("sort",(function(n,t){var e=n.getColumnName(0);n.rows.sort(t.callback||function(n,t){return n[e]-t[e]})}));Object.defineProperty({},"__esModule",{value:!0});var Gd=ct,Vd=Nh,Hd=gd,Ud=["ASC","DESC"];function Wd(n,t){var e=Hd.getFields(t,[n.getColumnName(0)]);if(!Gd.isArray(e))throw new TypeError("Invalid fields: must be an array with strings!");n.rows=Gd.sortBy(n.rows,e);var r=t.order;if(r&&-1===Ud.indexOf(r))throw new TypeError("Invalid order: "+r+" must be one of "+Ud.join(", "));"DESC"===r&&n.rows.reverse()}Vd.DataSet.registerTransform("sort-by",Wd),Vd.DataSet.registerTransform("sortBy",Wd);Object.defineProperty({},"__esModule",{value:!0});var Yd=gd;Nh.DataSet.registerTransform("subset",(function(n,t){var e=t.startRowIndex||0,r=t.endRowIndex||n.rows.length-1,o=Yd.getFields(t,n.getColumnNames());n.rows=n.getSubset(e,r,o)}));Object.defineProperty({},"__esModule",{value:!0});var $d=ct,Jd=ut.exports.__importDefault(_l),Xd=Nh,Qd={fillBy:"group",groupBy:[],orderBy:[]};function Kd(n,t){var e=n.map((function(n){return n}));return t.forEach((function(n){var t=e.indexOf(n);t>-1&&e.splice(t,1)})),e}function Zd(n,t){t=$d.assign({},Qd,t);var e=n.rows,r=t.groupBy,o=t.orderBy,i=Jd.default(e,r,o),a=0,u=[];$d.forIn(i,(function(n){n.length>a&&(a=n.length,u=n)}));var c=[],s={};if(u.forEach((function(n){var t=o.map((function(t){return n[t]})).join("-");c.push(t),s[t]=n})),"order"===t.fillBy){var f=u[0],l=[],h={};e.forEach((function(n){var t=o.map((function(t){return n[t]})).join("-");-1===l.indexOf(t)&&(l.push(t),h[t]=n)})),Kd(l,c).forEach((function(n){var t={};r.forEach((function(n){t[n]=f[n]})),o.forEach((function(e){t[e]=h[n][e]})),e.push(t),u.push(t),c.push(n),s[n]=t})),a=u.length}$d.forIn(i,(function(n){if(n!==u&&n.length<a){var t=n[0],i=[];n.forEach((function(n){i.push(o.map((function(t){return n[t]})).join("-"))})),Kd(c,i).some((function(i,u){if(u>=a-n.length)return!0;var c=s[i],f={};return r.forEach((function(n){f[n]=t[n]})),o.forEach((function(n){f[n]=c[n]})),e.push(f),!1}))}}))}Xd.DataSet.registerTransform("fill-rows",Zd),Xd.DataSet.registerTransform("fillRows",Zd);Object.defineProperty({},"__esModule",{value:!0});var ng=ut.exports,tg=ct,eg=ng.__importStar(Eh),rg=ng.__importDefault(_l),og=Nh,ig=gd,ag={groupBy:[]};function ug(n){return n.filter((function(n){return!tg.isUndefined(n)}))}var cg=["mean","median","max","min"],sg={};cg.forEach((function(n){sg[n]=function(t,e){return eg[n](e)}})),sg.value=function(n,t,e){return e},og.DataSet.registerTransform("impute",(function(n,t){t=tg.assign({},ag,t);var e=ig.getField(t),r=t.method;if(!r)throw new TypeError("Invalid method!");if("value"===r&&!tg.has(t,"value"))throw new TypeError("Invalid value: it is nil.");var o=ug(n.getColumn(e)),i=rg.default(n.rows,t.groupBy);tg.forIn(i,(function(n){var i=ug(n.map((function(n){return n[e]})));0===i.length&&(i=o),n.forEach((function(o){if(tg.isUndefined(o[e]))if(tg.isFunction(r))o[e]=r(o,i,t.value,n);else{if(!tg.isString(r))throw new TypeError("Invalid method: must be a function or one of "+cg.join(", "));o[e]=sg[r](o,i,t.value)}}))}))}));var fg={};Object.defineProperty(fg,"__esModule",{value:!0});var lg=ut.exports,hg=ct,pg=lg.__importStar(Eh),vg=lg.__importDefault(_l),dg=Nh,gg=dg.DataSet.registerTransform,yg=gd,mg={as:[],fields:[],groupBy:[],operations:[]},wg={count:function(n){return n.length},distinct:function(n,t){return hg.uniq(n.map((function(n){return n[t]}))).length}};function _g(n,t){t=hg.assign({},mg,t);var e=yg.getFields(t);if(!hg.isArray(e))throw new TypeError("Invalid fields: it must be an array with one or more strings!");var r=t.as||[];hg.isString(r)&&(r=[r]);var o=t.operations;hg.isString(o)&&(o=[o]);var i=["count"];if(hg.isArray(o)&&o.length||(console.warn('operations is not defined, will use [ "count" ] directly.'),r=o=i),1!==o.length||"count"!==o[0]){if(o.length!==e.length)throw new TypeError("Invalid operations: it's length must be the same as fields!");if(r.length!==e.length)throw new TypeError("Invalid as: it's length must be the same as fields!")}var a=vg.default(n.rows,t.groupBy),u=[];hg.forIn(a,(function(n){var t=n[0];o.forEach((function(o,i){var a=r[i],u=e[i];t[a]=wg[o](n,u)})),u.push(t)})),n.rows=u}dg.DataSet.CONSTANTS.STATISTICS_METHODS.forEach((function(n){wg[n]=function(t,e){var r=t.map((function(n){return n[e]}));return hg.isArray(r)&&hg.isArray(r[0])&&(r=hg.flattenDeep(r)),pg[n](r)}})),wg.average=wg.mean,gg("aggregate",_g),gg("summary",_g),fg.default={VALID_AGGREGATES:hg.keys(wg)};var bg={},xg={exports:{}};!function(n){function t(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}var e=Object.assign||function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n};function r(n){if(Array.isArray(n)){for(var t=0,e=Array(n.length);t<n.length;t++)e[t]=n[t];return e}return Array.from(n)}var o={order:2,precision:2,period:null};function i(n,t){var e=[],r=[];n.forEach((function(n,o){null!==n[1]&&(r.push(n),e.push(t[o]))}));var o=r.reduce((function(n,t){return n+t[1]}),0)/r.length,i=r.reduce((function(n,t){var e=t[1]-o;return n+e*e}),0);return 1-r.reduce((function(n,t,r){var o=e[r],i=t[1]-o[1];return n+i*i}),0)/i}function a(n,t){for(var e=n,r=n.length-1,o=[t],i=0;i<r;i++){for(var a=i,u=i+1;u<r;u++)Math.abs(e[i][u])>Math.abs(e[i][a])&&(a=u);for(var c=i;c<r+1;c++){var s=e[c][i];e[c][i]=e[c][a],e[c][a]=s}for(var f=i+1;f<r;f++)for(var l=r;l>=i;l--)e[l][f]-=e[l][i]*e[i][f]/e[i][i]}for(var h=r-1;h>=0;h--){for(var p=0,v=h+1;v<r;v++)p+=e[v][h]*o[v];o[h]=(e[r][h]-p)/e[h][h]}return o}function u(n,t){var e=Math.pow(10,t);return Math.round(n*e)/e}var c={linear:function(n,t){for(var e=[0,0,0,0,0],r=0,o=0;o<n.length;o++)null!==n[o][1]&&(r++,e[0]+=n[o][0],e[1]+=n[o][1],e[2]+=n[o][0]*n[o][0],e[3]+=n[o][0]*n[o][1],e[4]+=n[o][1]*n[o][1]);var a=r*e[2]-e[0]*e[0],c=r*e[3]-e[0]*e[1],s=0===a?0:u(c/a,t.precision),f=u(e[1]/r-s*e[0]/r,t.precision),l=function(n){return[u(n,t.precision),u(s*n+f,t.precision)]},h=n.map((function(n){return l(n[0])}));return{points:h,predict:l,equation:[s,f],r2:u(i(n,h),t.precision),string:0===f?"y = "+s+"x":"y = "+s+"x + "+f}},exponential:function(n,t){for(var e=[0,0,0,0,0,0],r=0;r<n.length;r++)null!==n[r][1]&&(e[0]+=n[r][0],e[1]+=n[r][1],e[2]+=n[r][0]*n[r][0]*n[r][1],e[3]+=n[r][1]*Math.log(n[r][1]),e[4]+=n[r][0]*n[r][1]*Math.log(n[r][1]),e[5]+=n[r][0]*n[r][1]);var o=e[1]*e[2]-e[5]*e[5],a=Math.exp((e[2]*e[3]-e[5]*e[4])/o),c=(e[1]*e[4]-e[5]*e[3])/o,s=u(a,t.precision),f=u(c,t.precision),l=function(n){return[u(n,t.precision),u(s*Math.exp(f*n),t.precision)]},h=n.map((function(n){return l(n[0])}));return{points:h,predict:l,equation:[s,f],string:"y = "+s+"e^("+f+"x)",r2:u(i(n,h),t.precision)}},logarithmic:function(n,t){for(var e=[0,0,0,0],r=n.length,o=0;o<r;o++)null!==n[o][1]&&(e[0]+=Math.log(n[o][0]),e[1]+=n[o][1]*Math.log(n[o][0]),e[2]+=n[o][1],e[3]+=Math.pow(Math.log(n[o][0]),2));var a=u((r*e[1]-e[2]*e[0])/(r*e[3]-e[0]*e[0]),t.precision),c=u((e[2]-a*e[0])/r,t.precision),s=function(n){return[u(n,t.precision),u(u(c+a*Math.log(n),t.precision),t.precision)]},f=n.map((function(n){return s(n[0])}));return{points:f,predict:s,equation:[c,a],string:"y = "+c+" + "+a+" ln(x)",r2:u(i(n,f),t.precision)}},power:function(n,t){for(var e=[0,0,0,0,0],r=n.length,o=0;o<r;o++)null!==n[o][1]&&(e[0]+=Math.log(n[o][0]),e[1]+=Math.log(n[o][1])*Math.log(n[o][0]),e[2]+=Math.log(n[o][1]),e[3]+=Math.pow(Math.log(n[o][0]),2));var a=(r*e[1]-e[0]*e[2])/(r*e[3]-Math.pow(e[0],2)),c=(e[2]-a*e[0])/r,s=u(Math.exp(c),t.precision),f=u(a,t.precision),l=function(n){return[u(n,t.precision),u(u(s*Math.pow(n,f),t.precision),t.precision)]},h=n.map((function(n){return l(n[0])}));return{points:h,predict:l,equation:[s,f],string:"y = "+s+"x^"+f,r2:u(i(n,h),t.precision)}},polynomial:function(n,t){for(var e=[],o=[],c=0,s=0,f=n.length,l=t.order+1,h=0;h<l;h++){for(var p=0;p<f;p++)null!==n[p][1]&&(c+=Math.pow(n[p][0],h)*n[p][1]);e.push(c),c=0;for(var v=[],d=0;d<l;d++){for(var g=0;g<f;g++)null!==n[g][1]&&(s+=Math.pow(n[g][0],h+d));v.push(s),s=0}o.push(v)}o.push(e);for(var y=a(o,l).map((function(n){return u(n,t.precision)})),m=function(n){return[u(n,t.precision),u(y.reduce((function(t,e,r){return t+e*Math.pow(n,r)}),0),t.precision)]},w=n.map((function(n){return m(n[0])})),_="y = ",b=y.length-1;b>=0;b--)_+=b>1?y[b]+"x^"+b+" + ":1===b?y[b]+"x + ":y[b];return{string:_,points:w,predict:m,equation:[].concat(r(y)).reverse(),r2:u(i(n,w),t.precision)}}};function s(){var n=function(n,r){return e({_round:u},n,t({},r,(function(n,t){return c[r](n,e({},o,t))})))};return Object.keys(c).reduce(n,{})}n.exports=s()}(xg);var Eg={};Object.defineProperty(Eg,"__esModule",{value:!0});var Sg=ut.exports;Eg.default=function(n,t){for(var e=t||1,r=Sg.__read(n,2),o=r[0],i=r[1],a=[],u=o;u<i;)a.push(u),u+=e;return a.push(i),a};var Mg={};Object.defineProperty(Mg,"__esModule",{value:!0}),Mg.nrd=Mg.silverman=void 0;var Tg=Eh;Mg.silverman=function(n){var t=Tg.standardDeviation(n),e=4*Math.pow(t,5),r=3*n.length;return Math.pow(e/r,.2)},Mg.nrd=function(n){var t=Tg.standardDeviation(n),e=Tg.interquartileRange(n);return"number"==typeof e&&(t=Math.min(t,e/1.34)),1.06*t*Math.pow(n.length,-.2)},Object.defineProperty(bg,"__esModule",{value:!0});var jg=ut.exports,kg=jg.__importDefault(xg.exports),Cg=ct,Pg=jg.__importDefault(Eg),Og=gd,Ag=Mg,Ng={as:["x","y"],method:"linear",order:2,precision:2},Rg=["linear","exponential","logarithmic","power","polynomial"];Nh.DataSet.registerTransform("regression",(function(n,t){t=Cg.assign({},Ng,t);var e=Og.getFields(t);if(!Cg.isArray(e)||2!==e.length)throw new TypeError("invalid fields: must be an array of 2 strings.");var r=jg.__read(e,2),o=r[0],i=r[1],a=t.method;if(-1===Rg.indexOf(a))throw new TypeError("invalid method: "+a+". Must be one of "+Rg.join(", "));var u=n.rows.map((function(n){return[n[o],n[i]]})),c=kg.default[a](u,t),s=t.extent;Cg.isArray(s)&&2===s.length||(s=n.range(o));var f=t.bandwidth;(!Cg.isNumber(f)||f<=0)&&(f=Ag.silverman(n.getColumn(o)));var l=Pg.default(s,f),h=[],p=jg.__read(t.as,2),v=p[0],d=p[1];l.forEach((function(n){var t={},e=jg.__read(c.predict(n),2),r=e[0],o=e[1];t[v]=r,t[d]=o,isFinite(o)&&h.push(t)})),n.rows=h})),bg.default={REGRESSION_METHODS:Rg};var Ig={},Dg={};function Lg(n){return Math.abs(n)<=1?.5:0}Object.defineProperty(Dg,"__esModule",{value:!0}),Dg.default={boxcar:Lg,cosine:function(n){return Math.abs(n)<=1?Math.PI/4*Math.cos(Math.PI/2*n):0},epanechnikov:function(n){return Math.abs(n)<1?.75*(1-n*n):0},gaussian:function(n){return.3989422804*Math.exp(-.5*n*n)},quartic:function(n){if(Math.abs(n)<1){var t=1-n*n;return 15/16*t*t}return 0},triangular:function(n){var t=Math.abs(n);return t<1?1-t:0},tricube:function(n){return Math.abs(n)<1?70/81*function(n){var t=1-Math.pow(Math.abs(n),3);return Math.pow(t,3)}(n):0},triweight:function(n){if(Math.abs(n)<1){var t=1-n*n;return 35/32*t*t*t}return 0},uniform:Lg},Object.defineProperty(Ig,"__esModule",{value:!0});var Bg=ut.exports,zg=ct,qg=Bg.__importDefault(Eg),Fg=Bg.__importDefault(Dg),Gg=Bg.__importStar(Mg),Vg=Bg.__importDefault(_l),Hg=Nh,Ug=gd,Wg=Eh,Yg={minSize:.01,as:["key","y","size"],extent:[],method:"gaussian",bandwidth:"nrd",step:0,groupBy:[]},$g=zg.keys(Fg.default),Jg=zg.keys(Gg);function Xg(n,t){t=zg.assign({},Yg,t);var e=Ug.getFields(t);if(!zg.isArray(e)||e.length<1)throw new TypeError("invalid fields: must be an array of at least 1 strings!");var r=t.as;if(!zg.isArray(r)||3!==r.length)throw new TypeError("invalid as: must be an array of 3 strings!");var o=t.method;if(zg.isString(o)){if(-1===$g.indexOf(o))throw new TypeError("invalid method: "+o+". Must be one of "+$g.join(", "));o=Fg.default[o]}if(!zg.isFunction(o))throw new TypeError("invalid method: kernel method must be a function!");var i=t.extent;if(!zg.isArray(i)||0===i.length){var a=[];zg.each(e,(function(t){var e=n.range(t);a=a.concat(e)})),i=[Math.min.apply(Math,Bg.__spread(a)),Math.max.apply(Math,Bg.__spread(a))]}var u=t.bandwidth;zg.isString(u)&&Gg[u]?u=Gg[u](n.getColumn(e[0])):zg.isFunction(u)?u=u(n.getColumn(e[0])):(!zg.isNumber(u)||u<=0)&&(u=Gg.nrd(n.getColumn(e[0])));var c=qg.default(i,t.step?t.step:u),s=[],f=t.groupBy,l=Vg.default(n.rows,f);zg.forIn(l,(function(n){var i={};zg.each(e,(function(e){var a=zg.pick(n[0],f);i[e]=Wg.kernelDensityEstimation(n.map((function(n){return n[e]})),o,u);var l=Bg.__read(r,3),h=l[0],p=l[1],v=l[2];a[h]=e,a[p]=[],a[v]=[],zg.each(c,(function(n){var r=i[e](n);r>=t.minSize&&(a[p].push(n),a[v].push(r))})),s.push(a)}))})),n.rows=s}Hg.DataSet.registerTransform("kernel-density-estimation",Xg),Hg.DataSet.registerTransform("kde",Xg),Hg.DataSet.registerTransform("KDE",Xg),Ig.default={KERNEL_METHODS:$g,BANDWIDTH_METHODS:Jg};Object.defineProperty({},"__esModule",{value:!0});var Qg=ut.exports,Kg=ct,Zg=Nh,ny=gd,ty={as:["x","y","count"],bins:[30,30],offset:[0,0],sizeByCount:!1},ey=Math.sqrt(3),ry=Math.PI/3,oy=[0,ry,2*ry,3*ry,4*ry,5*ry];function iy(n,t,e,r){return Math.sqrt((n-e)*(n-e)+(t-r)*(t-r))}function ay(n,t,e){var r=n-e;t/=2;var o=Math.floor(r/t);return[t*(o+(1===Math.abs(o%2)?1:0))+e,t*(o+(1===Math.abs(o%2)?0:1))+e]}function uy(n,t){t=Kg.assign({},ty,t);var e=ny.getFields(t);if(!Kg.isArray(e)||2!==e.length)throw new TypeError("Invalid fields: it must be an array with 2 strings!");var r=Qg.__read(e,2),o=r[0],i=r[1],a=n.range(o),u=n.range(i),c=a[1]-a[0],s=u[1]-u[0],f=t.binWidth||[];if(2!==f.length){var l=Qg.__read(t.bins,2),h=l[0],p=l[1];if(h<=0||p<=0)throw new TypeError("Invalid bins: must be an array with two positive numbers (e.g. [ 30, 30 ])!");f=[c/h,s/p]}var v=Qg.__read(t.offset,2),d=v[0],g=v[1],y=3*f[0]/(ey*f[1]),m=function(n,t,e){void 0===t&&(t=[1,1]),void 0===e&&(e=[0,0]);var r={},o=Qg.__read(t,2),i=o[0],a=o[1],u=Qg.__read(e,2),c=u[0],s=u[1];return n.forEach((function(n){var t,e,o,u,f,l=Qg.__read(n,2),h=l[0],p=l[1],v=Qg.__read(ay(h,i,c),2),d=v[0],g=v[1],y=Qg.__read(ay(p,a,s),2),m=y[0],w=y[1];iy(h,p,d,m)<iy(h,p,g,w)?(o="x"+d+"y"+m,u=(t=Qg.__read([d,m],2))[0],f=t[1]):(o="x"+g+"y"+w,u=(e=Qg.__read([g,w],2))[0],f=e[1]),r[o]=r[o]||{x:u,y:f,count:0},r[o].count++})),r}(n.rows.map((function(n){return[n[o],y*n[i]]})),[f[0],y*f[1]],[d,y*g]),w=Qg.__read(t.as,3),_=w[0],b=w[1],x=w[2];if(!_||!b||!x)throw new TypeError('Invalid as: it must be an array with three elements (e.g. [ "x", "y", "count" ])!');var E=f[0]/ey,S=oy.map((function(n){return[Math.sin(n)*E,-Math.cos(n)*E]})),M=[],T=0;t.sizeByCount&&Kg.forIn(m,(function(n){n.count>T&&(T=n.count)})),Kg.forIn(m,(function(n){var e=n.x,r=n.y,o=n.count,i={};i[x]=o,t.sizeByCount?(i[_]=S.map((function(t){return e+n.count/T*t[0]})),i[b]=S.map((function(t){return(r+n.count/T*t[1])/y}))):(i[_]=S.map((function(n){return e+n[0]})),i[b]=S.map((function(n){return(r+n[1])/y}))),M.push(i)})),n.rows=M}Zg.DataSet.registerTransform("bin.hexagon",uy),Zg.DataSet.registerTransform("bin.hex",uy),Zg.DataSet.registerTransform("hexbin",uy);Object.defineProperty({},"__esModule",{value:!0});var cy=ut.exports,sy=ct,fy=cy.__importDefault(_l),ly=Nh,hy=gd,py={as:["x","count"],bins:void 0,offset:0,groupBy:[]};function vy(n,t){t=sy.assign({},py,t);var e=hy.getField(t);if(0!==n.rows.length){var r,o=n.range(e),i=o[1]-o[0],a=t.binWidth,u=t.bins;if(!a&&u){if(u<=0)throw new TypeError("Invalid bins: it must be a positive number!");a=i/u}if(!a&&!u){var c=(r=n.rows.length,Math.ceil(Math.log(r)/Math.LN2)+1);a=i/c}var s=t.offset%a,f=[],l=t.groupBy,h=fy.default(n.rows,l);sy.forIn(h,(function(n){var r={};n.map((function(n){return n[e]})).forEach((function(n){var t=cy.__read(function(n,t,e){var r=n-e,o=Math.floor(r/t);return[o*t+e,(o+1)*t+e]}(n,a,s),2),e=t[0],o=t[1],i=e+"-"+o;r[i]=r[i]||{x0:e,x1:o,count:0},r[i].count++}));var o=cy.__read(t.as,2),i=o[0],u=o[1];if(!i||!u)throw new TypeError('Invalid as: it must be an array with 2 elements (e.g. [ "x", "count" ])!');var c=sy.pick(n[0],l);sy.forIn(r,(function(n){var t=sy.assign({},c);t[i]=[n.x0,n.x1],t[u]=n.count,f.push(t)}))})),n.rows=f}}ly.DataSet.registerTransform("bin.histogram",vy),ly.DataSet.registerTransform("bin.dot",vy);Object.defineProperty({},"__esModule",{value:!0});var dy=ut.exports,gy=ct,yy=Eh,my=dy.__importDefault(_l),wy=dy.__importDefault(Sh),_y=Nh.DataSet.registerTransform,by=gd,xy={as:"_bin",groupBy:[],fraction:4};_y("bin.quantile",(function(n,t){t=gy.assign({},xy,t);var e=by.getField(t),r=t.as;if(!gy.isString(r))throw new TypeError('Invalid as: it must be a string (e.g. "_bin")!');var o=t.p,i=t.fraction;gy.isArray(o)&&0!==o.length||(o=wy.default(i));var a=n.rows,u=t.groupBy,c=my.default(a,u),s=[];gy.forIn(c,(function(n){var t=n[0],i=n.map((function(n){return n[e]})),a=o.map((function(n){return yy.quantile(i,n)}));t[r]=a,s.push(t)})),n.rows=s}));Object.defineProperty({},"__esModule",{value:!0});var Ey=ut.exports,Sy=ct,My=Nh.DataSet.registerTransform,Ty=gd,jy={as:["x","y","count"],bins:[30,30],offset:[0,0],sizeByCount:!1};function ky(n,t,e){var r=n-e,o=Math.floor(r/t);return[o*t+e,(o+1)*t+e]}function Cy(n,t){t=Sy.assign({},jy,t);var e=Ey.__read(Ty.getFields(t),2),r=e[0],o=e[1];if(!r||!o)throw new TypeError("Invalid fields: must be an array with 2 strings!");var i=n.range(r),a=n.range(o),u=i[1]-i[0],c=a[1]-a[0],s=t.binWidth||[];if(2!==s.length){var f=Ey.__read(t.bins,2),l=f[0],h=f[1];if(l<=0||h<=0)throw new TypeError("Invalid bins: must be an array with 2 positive numbers (e.g. [ 30, 30 ])!");s=[u/l,c/h]}var p=n.rows.map((function(n){return[n[r],n[o]]})),v={},d=Ey.__read(t.offset,2),g=d[0],y=d[1];p.forEach((function(n){var t=Ey.__read(ky(n[0],s[0],g),2),e=t[0],r=t[1],o=Ey.__read(ky(n[1],s[1],y),2),i=o[0],a=o[1],u=e+"-"+r+"-"+i+"-"+a;v[u]=v[u]||{x0:e,x1:r,y0:i,y1:a,count:0},v[u].count++}));var m=[],w=Ey.__read(t.as,3),_=w[0],b=w[1],x=w[2];if(!_||!b||!x)throw new TypeError('Invalid as: it must be an array with 3 strings (e.g. [ "x", "y", "count" ])!');if(t.sizeByCount){var E=0;Sy.forIn(v,(function(n){n.count>E&&(E=n.count)})),Sy.forIn(v,(function(n){var t=n.x0,e=n.x1,r=n.y0,o=n.y1,i=n.count,a=i/E,u=Ey.__read([(t+e)/2,(r+o)/2],2),c=u[0],s=u[1],f=(e-t)*a/2,l=(o-r)*a/2,h=c-f,p=c+f,v=s-l,d=s+l,g={};g[_]=[h,p,p,h],g[b]=[v,v,d,d],g[x]=i,m.push(g)}))}else Sy.forIn(v,(function(n){var t={};t[_]=[n.x0,n.x1,n.x1,n.x0],t[b]=[n.y0,n.y0,n.y1,n.y1],t[x]=n.count,m.push(t)}));n.rows=m}My("bin.rectangle",Cy),My("bin.rect",Cy);Object.defineProperty({},"__esModule",{value:!0});var Py=ct,Oy=Nh.DataSet.registerTransform,Ay=gd,Ny={as:["_centroid_x","_centroid_y"]};Oy("geo.centroid",(function(n,t){t=Py.assign({},Ny,t);var e=Ay.getField(t),r=t.geoView||t.geoDataView;if(Py.isString(r)&&n.dataSet&&(r=n.dataSet.getView(r)),!r||"geo"!==r.dataType)throw new TypeError("Invalid geoView: must be a DataView of GEO dataType!");var o=t.as;if(!Py.isArray(o)||2!==o.length)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "cX", "cY" ])!');var i=o[0],a=o[1];n.rows.forEach((function(n){var t=r.geoFeatureByName(n[e]);t&&(r._projectedAs?(n[i]=t[r._projectedAs[2]],n[a]=t[r._projectedAs[3]]):(n[i]=t.centroidX,n[a]=t.centroidY))}))}));Object.defineProperty({},"__esModule",{value:!0});var Ry=ut.exports,Iy=ct,Dy=Ai,Ly=Ry.__importDefault(kp),By=Nh.DataSet.registerTransform,zy=Ry.__importDefault(ps),qy={as:["_x","_y","_centroid_x","_centroid_y"]};By("geo.projection",(function(n,t){if("geo"!==n.dataType&&"geo-graticule"!==n.dataType)throw new TypeError("Invalid dataView: this transform is for Geo data only!");var e=(t=Iy.assign({},qy,t)).projection;if(!e)throw new TypeError("Invalid projection!");e=zy.default(e);var r=Dy.geoPath(e),o=t.as;if(!Iy.isArray(o)||4!==o.length)throw new TypeError('Invalid as: it must be an array with 4 strings (e.g. [ "x", "y", "cX", "cY" ])!');n._projectedAs=o;var i=Ry.__read(o,4),a=i[0],u=i[1],c=i[2],s=i[3];n.rows.forEach((function(n){n[a]=[],n[u]=[];var t=r(n);if(t){Ly.default(t)._path.forEach((function(t){n[a].push(t[1]),n[u].push(t[2])}));var e=r.centroid(n);n[c]=e[0],n[s]=e[1]}})),n.rows=n.rows.filter((function(n){return 0!==n[a].length}))}));Object.defineProperty({},"__esModule",{value:!0});var Fy=ct,Gy=Nh.DataSet.registerTransform,Vy=gd,Hy={as:["_x","_y"]};Gy("geo.region",(function(n,t){t=Fy.assign({},Hy,t);var e=Vy.getField(t),r=t.geoView||t.geoDataView;if(Fy.isString(r)&&(r=n.dataSet.getView(r)),!r||"geo"!==r.dataType)throw new TypeError("Invalid geoView: must be a DataView of GEO dataType!");var o=t.as;if(!Fy.isArray(o)||2!==o.length)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "x", "y" ])!');var i=o[0],a=o[1];n.rows.forEach((function(n){var t=r.geoFeatureByName(n[e]);t&&(r._projectedAs?(n[i]=t[r._projectedAs[0]],n[a]=t[r._projectedAs[1]]):(n[i]=t.longitude,n[a]=t.latitude))}))}));Object.defineProperty({},"__esModule",{value:!0});var Uy=ct,Wy=Nh,Yy={y:0,thickness:.05,weight:!1,marginRatio:.1,id:function(n){return n.id},source:function(n){return n.source},target:function(n){return n.target},sourceWeight:function(n){return n.value||1},targetWeight:function(n){return n.value||1},sortBy:null};function $y(n,t){t=Uy.assign({},Yy,t);var e={},r=n.nodes,o=n.edges;Uy.isArray(r)&&0!==r.length||(r=function(n,t,e){return void 0===e&&(e={}),n.forEach((function(n){var r=t.edgeSource(n),o=t.edgeTarget(n);e[r]||(e[r]={id:r}),e[o]||(e[o]={id:o})})),Uy.values(e)}(o,t,e)),r.forEach((function(n){var r=t.id(n);e[r]=n})),function(n,t,e){Uy.forIn(n,(function(n,r){n.inEdges=t.filter((function(n){return""+e.target(n)==""+r})),n.outEdges=t.filter((function(n){return""+e.source(n)==""+r})),n.edges=n.outEdges.concat(n.inEdges),n.frequency=n.edges.length,n.value=0,n.inEdges.forEach((function(t){n.value+=e.targetWeight(t)})),n.outEdges.forEach((function(t){n.value+=e.sourceWeight(t)}))}))}(e,o,t),function(n,t){var e={weight:function(n,t){return t.value-n.value},frequency:function(n,t){return t.frequency-n.frequency},id:function(n,e){return(""+t.id(n)).localeCompare(""+t.id(e))}}[t.sortBy];!e&&Uy.isFunction(t.sortBy)&&(e=t.sortBy),e&&n.sort(e)}(r,t),function(n,t){var e=n.length;if(!e)throw new TypeError("Invalid nodes: it's empty!");if(t.weight){var r=t.marginRatio;if(r<0||r>=1)throw new TypeError("Invalid marginRatio: it must be in range [0, 1)!");var o=r/(2*e),i=t.thickness;if(i<=0||i>=1)throw new TypeError("Invalid thickness: it must be in range (0, 1)!");var a=0;n.forEach((function(n){a+=n.value})),n.forEach((function(n){n.weight=n.value/a,n.width=n.weight*(1-r),n.height=i})),n.forEach((function(e,r){for(var a=0,u=r-1;u>=0;u--)a+=n[u].width+2*o;var c=e.minX=o+a,s=e.maxX=e.minX+e.width,f=e.minY=t.y-i/2,l=e.maxY=f+i;e.x=[c,s,s,c],e.y=[f,f,l,l]}))}else{var u=1/e;n.forEach((function(n,e){n.x=(e+.5)*u,n.y=t.y}))}}(r,t),function(n,t,e){if(e.weight){var r={};Uy.forIn(n,(function(n,t){r[t]=n.value})),t.forEach((function(t){var o=e.source(t),i=e.target(t),a=n[o],u=n[i];if(a&&u){var c=r[o],s=e.sourceWeight(t),f=a.minX+(a.value-c)/a.value*a.width,l=f+s/a.value*a.width;r[o]-=s;var h=r[i],p=e.targetWeight(t),v=u.minX+(u.value-h)/u.value*u.width,d=v+p/u.value*u.width;r[i]-=p;var g=e.y;t.x=[f,l,v,d],t.y=[g,g,g,g]}}))}else t.forEach((function(t){var r=n[e.source(t)],o=n[e.target(t)];r&&o&&(t.x=[r.x,o.x],t.y=[r.y,o.y])}))}(e,o,t),n.nodes=r,n.edges=o}Wy.DataSet.registerTransform("diagram.arc",$y),Wy.DataSet.registerTransform("arc",$y);var Jy=function(){this.__data__=[],this.size=0};var Xy=function(n,t){return n===t||n!=n&&t!=t},Qy=Xy;var Ky=function(n,t){for(var e=n.length;e--;)if(Qy(n[e][0],t))return e;return-1},Zy=Ky,nm=Array.prototype.splice;var tm=Ky;var em=Ky;var rm=Ky;var om=Jy,im=function(n){var t=this.__data__,e=Zy(t,n);return!(e<0)&&(e==t.length-1?t.pop():nm.call(t,e,1),--this.size,!0)},am=function(n){var t=this.__data__,e=tm(t,n);return e<0?void 0:t[e][1]},um=function(n){return em(this.__data__,n)>-1},cm=function(n,t){var e=this.__data__,r=rm(e,n);return r<0?(++this.size,e.push([n,t])):e[r][1]=t,this};function sm(n){var t=-1,e=null==n?0:n.length;for(this.clear();++t<e;){var r=n[t];this.set(r[0],r[1])}}sm.prototype.clear=om,sm.prototype.delete=im,sm.prototype.get=am,sm.prototype.has=um,sm.prototype.set=cm;var fm=sm,lm=fm;var hm=function(){this.__data__=new lm,this.size=0};var pm=function(n){var t=this.__data__,e=t.delete(n);return this.size=t.size,e};var vm=function(n){return this.__data__.get(n)};var dm=function(n){return this.__data__.has(n)},gm="object"==typeof n&&n&&n.Object===Object&&n,ym=gm,mm="object"==typeof self&&self&&self.Object===Object&&self,wm=ym||mm||Function("return this")(),_m=wm.Symbol,bm=_m,xm=Object.prototype,Em=xm.hasOwnProperty,Sm=xm.toString,Mm=bm?bm.toStringTag:void 0;var Tm=function(n){var t=Em.call(n,Mm),e=n[Mm];try{n[Mm]=void 0;var r=!0}catch(i){}var o=Sm.call(n);return r&&(t?n[Mm]=e:delete n[Mm]),o},jm=Object.prototype.toString;var km=Tm,Cm=function(n){return jm.call(n)},Pm=_m?_m.toStringTag:void 0;var Om=function(n){return null==n?void 0===n?"[object Undefined]":"[object Null]":Pm&&Pm in Object(n)?km(n):Cm(n)};var Am=function(n){var t=typeof n;return null!=n&&("object"==t||"function"==t)},Nm=Om,Rm=Am;var Im,Dm=function(n){if(!Rm(n))return!1;var t=Nm(n);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},Lm=wm["__core-js_shared__"],Bm=(Im=/[^.]+$/.exec(Lm&&Lm.keys&&Lm.keys.IE_PROTO||""))?"Symbol(src)_1."+Im:"";var zm=function(n){return!!Bm&&Bm in n},qm=Function.prototype.toString;var Fm=function(n){if(null!=n){try{return qm.call(n)}catch(t){}try{return n+""}catch(t){}}return""},Gm=Dm,Vm=zm,Hm=Am,Um=Fm,Wm=/^\[object .+?Constructor\]$/,Ym=Function.prototype,$m=Object.prototype,Jm=Ym.toString,Xm=$m.hasOwnProperty,Qm=RegExp("^"+Jm.call(Xm).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var Km=function(n){return!(!Hm(n)||Vm(n))&&(Gm(n)?Qm:Wm).test(Um(n))},Zm=function(n,t){return null==n?void 0:n[t]};var nw=function(n,t){var e=Zm(n,t);return Km(e)?e:void 0},tw=nw(wm,"Map"),ew=nw(Object,"create"),rw=ew;var ow=function(){this.__data__=rw?rw(null):{},this.size=0};var iw=function(n){var t=this.has(n)&&delete this.__data__[n];return this.size-=t?1:0,t},aw=ew,uw=Object.prototype.hasOwnProperty;var cw=function(n){var t=this.__data__;if(aw){var e=t[n];return"__lodash_hash_undefined__"===e?void 0:e}return uw.call(t,n)?t[n]:void 0},sw=ew,fw=Object.prototype.hasOwnProperty;var lw=ew;var hw=ow,pw=iw,vw=cw,dw=function(n){var t=this.__data__;return sw?void 0!==t[n]:fw.call(t,n)},gw=function(n,t){var e=this.__data__;return this.size+=this.has(n)?0:1,e[n]=lw&&void 0===t?"__lodash_hash_undefined__":t,this};function yw(n){var t=-1,e=null==n?0:n.length;for(this.clear();++t<e;){var r=n[t];this.set(r[0],r[1])}}yw.prototype.clear=hw,yw.prototype.delete=pw,yw.prototype.get=vw,yw.prototype.has=dw,yw.prototype.set=gw;var mw=yw,ww=fm,_w=tw;var bw=function(n){var t=typeof n;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==n:null===n};var xw=function(n,t){var e=n.__data__;return bw(t)?e["string"==typeof t?"string":"hash"]:e.map},Ew=xw;var Sw=xw;var Mw=xw;var Tw=xw;var jw=function(){this.size=0,this.__data__={hash:new mw,map:new(_w||ww),string:new mw}},kw=function(n){var t=Ew(this,n).delete(n);return this.size-=t?1:0,t},Cw=function(n){return Sw(this,n).get(n)},Pw=function(n){return Mw(this,n).has(n)},Ow=function(n,t){var e=Tw(this,n),r=e.size;return e.set(n,t),this.size+=e.size==r?0:1,this};function Aw(n){var t=-1,e=null==n?0:n.length;for(this.clear();++t<e;){var r=n[t];this.set(r[0],r[1])}}Aw.prototype.clear=jw,Aw.prototype.delete=kw,Aw.prototype.get=Cw,Aw.prototype.has=Pw,Aw.prototype.set=Ow;var Nw=Aw,Rw=fm,Iw=tw,Dw=Nw;var Lw=fm,Bw=hm,zw=pm,qw=vm,Fw=dm,Gw=function(n,t){var e=this.__data__;if(e instanceof Rw){var r=e.__data__;if(!Iw||r.length<199)return r.push([n,t]),this.size=++e.size,this;e=this.__data__=new Dw(r)}return e.set(n,t),this.size=e.size,this};function Vw(n){var t=this.__data__=new Lw(n);this.size=t.size}Vw.prototype.clear=Bw,Vw.prototype.delete=zw,Vw.prototype.get=qw,Vw.prototype.has=Fw,Vw.prototype.set=Gw;var Hw=Vw;var Uw=function(n,t){for(var e=-1,r=null==n?0:n.length;++e<r&&!1!==t(n[e],e,n););return n},Ww=nw,Yw=function(){try{var n=Ww(Object,"defineProperty");return n({},"",{}),n}catch(t){}}(),$w=Yw;var Jw=function(n,t,e){"__proto__"==t&&$w?$w(n,t,{configurable:!0,enumerable:!0,value:e,writable:!0}):n[t]=e},Xw=Jw,Qw=Xy,Kw=Object.prototype.hasOwnProperty;var Zw=function(n,t,e){var r=n[t];Kw.call(n,t)&&Qw(r,e)&&(void 0!==e||t in n)||Xw(n,t,e)},n_=Zw,t_=Jw;var e_=function(n,t,e,r){var o=!e;e||(e={});for(var i=-1,a=t.length;++i<a;){var u=t[i],c=r?r(e[u],n[u],u,e,n):void 0;void 0===c&&(c=n[u]),o?t_(e,u,c):n_(e,u,c)}return e};var r_=function(n,t){for(var e=-1,r=Array(n);++e<n;)r[e]=t(e);return r};var o_=function(n){return null!=n&&"object"==typeof n},i_=Om,a_=o_;var u_=function(n){return a_(n)&&"[object Arguments]"==i_(n)},c_=o_,s_=Object.prototype,f_=s_.hasOwnProperty,l_=s_.propertyIsEnumerable,h_=u_(function(){return arguments}())?u_:function(n){return c_(n)&&f_.call(n,"callee")&&!l_.call(n,"callee")},p_=Array.isArray,v_={exports:{}};var d_=function(){return!1};!function(n,t){var e=wm,r=d_,o=t&&!t.nodeType&&t,i=o&&n&&!n.nodeType&&n,a=i&&i.exports===o?e.Buffer:void 0,u=(a?a.isBuffer:void 0)||r;n.exports=u}(v_,v_.exports);var g_=/^(?:0|[1-9]\d*)$/;var y_=function(n,t){var e=typeof n;return!!(t=null==t?9007199254740991:t)&&("number"==e||"symbol"!=e&&g_.test(n))&&n>-1&&n%1==0&&n<t};var m_=function(n){return"number"==typeof n&&n>-1&&n%1==0&&n<=9007199254740991},w_=Om,__=m_,b_=o_,x_={};x_["[object Float32Array]"]=x_["[object Float64Array]"]=x_["[object Int8Array]"]=x_["[object Int16Array]"]=x_["[object Int32Array]"]=x_["[object Uint8Array]"]=x_["[object Uint8ClampedArray]"]=x_["[object Uint16Array]"]=x_["[object Uint32Array]"]=!0,x_["[object Arguments]"]=x_["[object Array]"]=x_["[object ArrayBuffer]"]=x_["[object Boolean]"]=x_["[object DataView]"]=x_["[object Date]"]=x_["[object Error]"]=x_["[object Function]"]=x_["[object Map]"]=x_["[object Number]"]=x_["[object Object]"]=x_["[object RegExp]"]=x_["[object Set]"]=x_["[object String]"]=x_["[object WeakMap]"]=!1;var E_=function(n){return b_(n)&&__(n.length)&&!!x_[w_(n)]};var S_=function(n){return function(t){return n(t)}},M_={exports:{}};!function(n,t){var e=gm,r=t&&!t.nodeType&&t,o=r&&n&&!n.nodeType&&n,i=o&&o.exports===r&&e.process,a=function(){try{var n=o&&o.require&&o.require("util").types;return n||i&&i.binding&&i.binding("util")}catch(t){}}();n.exports=a}(M_,M_.exports);var T_=E_,j_=S_,k_=M_.exports,C_=k_&&k_.isTypedArray,P_=C_?j_(C_):T_,O_=r_,A_=h_,N_=p_,R_=v_.exports,I_=y_,D_=P_,L_=Object.prototype.hasOwnProperty;var B_=function(n,t){var e=N_(n),r=!e&&A_(n),o=!e&&!r&&R_(n),i=!e&&!r&&!o&&D_(n),a=e||r||o||i,u=a?O_(n.length,String):[],c=u.length;for(var s in n)!t&&!L_.call(n,s)||a&&("length"==s||o&&("offset"==s||"parent"==s)||i&&("buffer"==s||"byteLength"==s||"byteOffset"==s)||I_(s,c))||u.push(s);return u},z_=Object.prototype;var q_=function(n){var t=n&&n.constructor;return n===("function"==typeof t&&t.prototype||z_)};var F_=function(n,t){return function(e){return n(t(e))}},G_=F_(Object.keys,Object),V_=q_,H_=G_,U_=Object.prototype.hasOwnProperty;var W_=function(n){if(!V_(n))return H_(n);var t=[];for(var e in Object(n))U_.call(n,e)&&"constructor"!=e&&t.push(e);return t},Y_=Dm,$_=m_;var J_=function(n){return null!=n&&$_(n.length)&&!Y_(n)},X_=B_,Q_=W_,K_=J_;var Z_=function(n){return K_(n)?X_(n):Q_(n)},nb=e_,tb=Z_;var eb=function(n,t){return n&&nb(t,tb(t),n)};var rb=Am,ob=q_,ib=function(n){var t=[];if(null!=n)for(var e in Object(n))t.push(e);return t},ab=Object.prototype.hasOwnProperty;var ub=B_,cb=function(n){if(!rb(n))return ib(n);var t=ob(n),e=[];for(var r in n)("constructor"!=r||!t&&ab.call(n,r))&&e.push(r);return e},sb=J_;var fb=function(n){return sb(n)?ub(n,!0):cb(n)},lb=e_,hb=fb;var pb=function(n,t){return n&&lb(t,hb(t),n)},vb={exports:{}};!function(n,t){var e=wm,r=t&&!t.nodeType&&t,o=r&&n&&!n.nodeType&&n,i=o&&o.exports===r?e.Buffer:void 0,a=i?i.allocUnsafe:void 0;n.exports=function(n,t){if(t)return n.slice();var e=n.length,r=a?a(e):new n.constructor(e);return n.copy(r),r}}(vb,vb.exports);var db=function(n,t){var e=-1,r=n.length;for(t||(t=Array(r));++e<r;)t[e]=n[e];return t};var gb=function(n,t){for(var e=-1,r=null==n?0:n.length,o=0,i=[];++e<r;){var a=n[e];t(a,e,n)&&(i[o++]=a)}return i};var yb=function(){return[]},mb=gb,wb=yb,_b=Object.prototype.propertyIsEnumerable,bb=Object.getOwnPropertySymbols,xb=bb?function(n){return null==n?[]:(n=Object(n),mb(bb(n),(function(t){return _b.call(n,t)})))}:wb,Eb=e_,Sb=xb;var Mb=function(n,t){return Eb(n,Sb(n),t)};var Tb=function(n,t){for(var e=-1,r=t.length,o=n.length;++e<r;)n[o+e]=t[e];return n},jb=F_(Object.getPrototypeOf,Object),kb=Tb,Cb=jb,Pb=xb,Ob=yb,Ab=Object.getOwnPropertySymbols?function(n){for(var t=[];n;)kb(t,Pb(n)),n=Cb(n);return t}:Ob,Nb=e_,Rb=Ab;var Ib=function(n,t){return Nb(n,Rb(n),t)},Db=Tb,Lb=p_;var Bb=function(n,t,e){var r=t(n);return Lb(n)?r:Db(r,e(n))},zb=Bb,qb=xb,Fb=Z_;var Gb=function(n){return zb(n,Fb,qb)},Vb=Bb,Hb=Ab,Ub=fb;var Wb=function(n){return Vb(n,Ub,Hb)},Yb=nw(wm,"DataView"),$b=nw(wm,"Promise"),Jb=nw(wm,"Set"),Xb=Yb,Qb=tw,Kb=$b,Zb=Jb,nx=nw(wm,"WeakMap"),tx=Om,ex=Fm,rx=ex(Xb),ox=ex(Qb),ix=ex(Kb),ax=ex(Zb),ux=ex(nx),cx=tx;(Xb&&"[object DataView]"!=cx(new Xb(new ArrayBuffer(1)))||Qb&&"[object Map]"!=cx(new Qb)||Kb&&"[object Promise]"!=cx(Kb.resolve())||Zb&&"[object Set]"!=cx(new Zb)||nx&&"[object WeakMap]"!=cx(new nx))&&(cx=function(n){var t=tx(n),e="[object Object]"==t?n.constructor:void 0,r=e?ex(e):"";if(r)switch(r){case rx:return"[object DataView]";case ox:return"[object Map]";case ix:return"[object Promise]";case ax:return"[object Set]";case ux:return"[object WeakMap]"}return t});var sx=cx,fx=Object.prototype.hasOwnProperty;var lx=function(n){var t=n.length,e=new n.constructor(t);return t&&"string"==typeof n[0]&&fx.call(n,"index")&&(e.index=n.index,e.input=n.input),e},hx=wm.Uint8Array,px=hx;var vx=function(n){var t=new n.constructor(n.byteLength);return new px(t).set(new px(n)),t},dx=vx;var gx=function(n,t){var e=t?dx(n.buffer):n.buffer;return new n.constructor(e,n.byteOffset,n.byteLength)},yx=/\w*$/;var mx=function(n){var t=new n.constructor(n.source,yx.exec(n));return t.lastIndex=n.lastIndex,t},wx=_m?_m.prototype:void 0,_x=wx?wx.valueOf:void 0;var bx=vx;var xx=function(n,t){var e=t?bx(n.buffer):n.buffer;return new n.constructor(e,n.byteOffset,n.length)},Ex=vx,Sx=gx,Mx=mx,Tx=function(n){return _x?Object(_x.call(n)):{}},jx=xx;var kx=function(n,t,e){var r=n.constructor;switch(t){case"[object ArrayBuffer]":return Ex(n);case"[object Boolean]":case"[object Date]":return new r(+n);case"[object DataView]":return Sx(n,e);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return jx(n,e);case"[object Map]":return new r;case"[object Number]":case"[object String]":return new r(n);case"[object RegExp]":return Mx(n);case"[object Set]":return new r;case"[object Symbol]":return Tx(n)}},Cx=Am,Px=Object.create,Ox=function(){function n(){}return function(t){if(!Cx(t))return{};if(Px)return Px(t);n.prototype=t;var e=new n;return n.prototype=void 0,e}}(),Ax=Ox,Nx=jb,Rx=q_;var Ix=function(n){return"function"!=typeof n.constructor||Rx(n)?{}:Ax(Nx(n))},Dx=sx,Lx=o_;var Bx=function(n){return Lx(n)&&"[object Map]"==Dx(n)},zx=S_,qx=M_.exports,Fx=qx&&qx.isMap,Gx=Fx?zx(Fx):Bx,Vx=sx,Hx=o_;var Ux=function(n){return Hx(n)&&"[object Set]"==Vx(n)},Wx=S_,Yx=M_.exports,$x=Yx&&Yx.isSet,Jx=$x?Wx($x):Ux,Xx=Hw,Qx=Uw,Kx=Zw,Zx=eb,nE=pb,tE=vb.exports,eE=db,rE=Mb,oE=Ib,iE=Gb,aE=Wb,uE=sx,cE=lx,sE=kx,fE=Ix,lE=p_,hE=v_.exports,pE=Gx,vE=Am,dE=Jx,gE=Z_,yE=fb,mE={};mE["[object Arguments]"]=mE["[object Array]"]=mE["[object ArrayBuffer]"]=mE["[object DataView]"]=mE["[object Boolean]"]=mE["[object Date]"]=mE["[object Float32Array]"]=mE["[object Float64Array]"]=mE["[object Int8Array]"]=mE["[object Int16Array]"]=mE["[object Int32Array]"]=mE["[object Map]"]=mE["[object Number]"]=mE["[object Object]"]=mE["[object RegExp]"]=mE["[object Set]"]=mE["[object String]"]=mE["[object Symbol]"]=mE["[object Uint8Array]"]=mE["[object Uint8ClampedArray]"]=mE["[object Uint16Array]"]=mE["[object Uint32Array]"]=!0,mE["[object Error]"]=mE["[object Function]"]=mE["[object WeakMap]"]=!1;var wE=function n(t,e,r,o,i,a){var u,c=1&e,s=2&e,f=4&e;if(r&&(u=i?r(t,o,i,a):r(t)),void 0!==u)return u;if(!vE(t))return t;var l=lE(t);if(l){if(u=cE(t),!c)return eE(t,u)}else{var h=uE(t),p="[object Function]"==h||"[object GeneratorFunction]"==h;if(hE(t))return tE(t,c);if("[object Object]"==h||"[object Arguments]"==h||p&&!i){if(u=s||p?{}:fE(t),!c)return s?oE(t,nE(u,t)):rE(t,Zx(u,t))}else{if(!mE[h])return i?t:{};u=sE(t,h,c)}}a||(a=new Xx);var v=a.get(t);if(v)return v;a.set(t,u),dE(t)?t.forEach((function(o){u.add(n(o,e,r,o,t,a))})):pE(t)&&t.forEach((function(o,i){u.set(i,n(o,e,r,i,t,a))}));var d=l?void 0:(f?s?aE:iE:s?yE:gE)(t);return Qx(d||t,(function(o,i){d&&(o=t[i=o]),Kx(u,i,n(o,e,r,i,t,a))})),u},_E=wE;var bE=function(n){return _E(n,4)};var xE=function(n){return function(){return n}};var EE=function(n){return function(t,e,r){for(var o=-1,i=Object(t),a=r(t),u=a.length;u--;){var c=a[n?u:++o];if(!1===e(i[c],c,i))break}return t}}(),SE=EE,ME=Z_;var TE=function(n,t){return n&&SE(n,t,ME)},jE=J_;var kE=function(n,t){return function(e,r){if(null==e)return e;if(!jE(e))return n(e,r);for(var o=e.length,i=t?o:-1,a=Object(e);(t?i--:++i<o)&&!1!==r(a[i],i,a););return e}}(TE);var CE=function(n){return n},PE=CE;var OE=function(n){return"function"==typeof n?n:PE},AE=Uw,NE=kE,RE=OE,IE=p_;var DE=function(n,t){return(IE(n)?AE:NE)(n,RE(t))},LE=DE,BE=kE;var zE=function(n,t){var e=[];return BE(n,(function(n,r,o){t(n,r,o)&&e.push(n)})),e};var qE=Nw,FE=function(n){return this.__data__.set(n,"__lodash_hash_undefined__"),this},GE=function(n){return this.__data__.has(n)};function VE(n){var t=-1,e=null==n?0:n.length;for(this.__data__=new qE;++t<e;)this.add(n[t])}VE.prototype.add=VE.prototype.push=FE,VE.prototype.has=GE;var HE=VE;var UE=function(n,t){return n.has(t)},WE=HE,YE=function(n,t){for(var e=-1,r=null==n?0:n.length;++e<r;)if(t(n[e],e,n))return!0;return!1},$E=UE;var JE=function(n,t,e,r,o,i){var a=1&e,u=n.length,c=t.length;if(u!=c&&!(a&&c>u))return!1;var s=i.get(n),f=i.get(t);if(s&&f)return s==t&&f==n;var l=-1,h=!0,p=2&e?new WE:void 0;for(i.set(n,t),i.set(t,n);++l<u;){var v=n[l],d=t[l];if(r)var g=a?r(d,v,l,t,n,i):r(v,d,l,n,t,i);if(void 0!==g){if(g)continue;h=!1;break}if(p){if(!YE(t,(function(n,t){if(!$E(p,t)&&(v===n||o(v,n,e,r,i)))return p.push(t)}))){h=!1;break}}else if(v!==d&&!o(v,d,e,r,i)){h=!1;break}}return i.delete(n),i.delete(t),h};var XE=function(n){var t=-1,e=Array(n.size);return n.forEach((function(n){e[++t]=n})),e},QE=hx,KE=Xy,ZE=JE,nS=function(n){var t=-1,e=Array(n.size);return n.forEach((function(n,r){e[++t]=[r,n]})),e},tS=XE,eS=_m?_m.prototype:void 0,rS=eS?eS.valueOf:void 0;var oS=function(n,t,e,r,o,i,a){switch(e){case"[object DataView]":if(n.byteLength!=t.byteLength||n.byteOffset!=t.byteOffset)return!1;n=n.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(n.byteLength!=t.byteLength||!i(new QE(n),new QE(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return KE(+n,+t);case"[object Error]":return n.name==t.name&&n.message==t.message;case"[object RegExp]":case"[object String]":return n==t+"";case"[object Map]":var u=nS;case"[object Set]":var c=1&r;if(u||(u=tS),n.size!=t.size&&!c)return!1;var s=a.get(n);if(s)return s==t;r|=2,a.set(n,t);var f=ZE(u(n),u(t),r,o,i,a);return a.delete(n),f;case"[object Symbol]":if(rS)return rS.call(n)==rS.call(t)}return!1},iS=Gb,aS=Object.prototype.hasOwnProperty;var uS=Hw,cS=JE,sS=oS,fS=function(n,t,e,r,o,i){var a=1&e,u=iS(n),c=u.length;if(c!=iS(t).length&&!a)return!1;for(var s=c;s--;){var f=u[s];if(!(a?f in t:aS.call(t,f)))return!1}var l=i.get(n),h=i.get(t);if(l&&h)return l==t&&h==n;var p=!0;i.set(n,t),i.set(t,n);for(var v=a;++s<c;){var d=n[f=u[s]],g=t[f];if(r)var y=a?r(g,d,f,t,n,i):r(d,g,f,n,t,i);if(!(void 0===y?d===g||o(d,g,e,r,i):y)){p=!1;break}v||(v="constructor"==f)}if(p&&!v){var m=n.constructor,w=t.constructor;m==w||!("constructor"in n)||!("constructor"in t)||"function"==typeof m&&m instanceof m&&"function"==typeof w&&w instanceof w||(p=!1)}return i.delete(n),i.delete(t),p},lS=sx,hS=p_,pS=v_.exports,vS=P_,dS=Object.prototype.hasOwnProperty;var gS=function(n,t,e,r,o,i){var a=hS(n),u=hS(t),c=a?"[object Array]":lS(n),s=u?"[object Array]":lS(t),f="[object Object]"==(c="[object Arguments]"==c?"[object Object]":c),l="[object Object]"==(s="[object Arguments]"==s?"[object Object]":s),h=c==s;if(h&&pS(n)){if(!pS(t))return!1;a=!0,f=!1}if(h&&!f)return i||(i=new uS),a||vS(n)?cS(n,t,e,r,o,i):sS(n,t,c,e,r,o,i);if(!(1&e)){var p=f&&dS.call(n,"__wrapped__"),v=l&&dS.call(t,"__wrapped__");if(p||v){var d=p?n.value():n,g=v?t.value():t;return i||(i=new uS),o(d,g,e,r,i)}}return!!h&&(i||(i=new uS),fS(n,t,e,r,o,i))},yS=o_;var mS=function n(t,e,r,o,i){return t===e||(null==t||null==e||!yS(t)&&!yS(e)?t!=t&&e!=e:gS(t,e,r,o,n,i))},wS=Hw,_S=mS;var bS=Am;var xS=function(n){return n==n&&!bS(n)},ES=xS,SS=Z_;var MS=function(n,t){return function(e){return null!=e&&(e[n]===t&&(void 0!==t||n in Object(e)))}},TS=function(n,t,e,r){var o=e.length,i=o,a=!r;if(null==n)return!i;for(n=Object(n);o--;){var u=e[o];if(a&&u[2]?u[1]!==n[u[0]]:!(u[0]in n))return!1}for(;++o<i;){var c=(u=e[o])[0],s=n[c],f=u[1];if(a&&u[2]){if(void 0===s&&!(c in n))return!1}else{var l=new wS;if(r)var h=r(s,f,c,n,t,l);if(!(void 0===h?_S(f,s,3,r,l):h))return!1}}return!0},jS=function(n){for(var t=SS(n),e=t.length;e--;){var r=t[e],o=n[r];t[e]=[r,o,ES(o)]}return t},kS=MS;var CS=function(n){var t=jS(n);return 1==t.length&&t[0][2]?kS(t[0][0],t[0][1]):function(e){return e===n||TS(e,n,t)}},PS=Om,OS=o_;var AS=function(n){return"symbol"==typeof n||OS(n)&&"[object Symbol]"==PS(n)},NS=p_,RS=AS,IS=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,DS=/^\w*$/;var LS=function(n,t){if(NS(n))return!1;var e=typeof n;return!("number"!=e&&"symbol"!=e&&"boolean"!=e&&null!=n&&!RS(n))||(DS.test(n)||!IS.test(n)||null!=t&&n in Object(t))},BS=Nw;function zS(n,t){if("function"!=typeof n||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var e=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=e.cache;if(i.has(o))return i.get(o);var a=n.apply(this,r);return e.cache=i.set(o,a)||i,a};return e.cache=new(zS.Cache||BS),e}zS.Cache=BS;var qS=zS;var FS=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,GS=/\\(\\)?/g,VS=function(n){var t=qS(n,(function(n){return 500===e.size&&e.clear(),n})),e=t.cache;return t}((function(n){var t=[];return 46===n.charCodeAt(0)&&t.push(""),n.replace(FS,(function(n,e,r,o){t.push(r?o.replace(GS,"$1"):e||n)})),t}));var HS=function(n,t){for(var e=-1,r=null==n?0:n.length,o=Array(r);++e<r;)o[e]=t(n[e],e,n);return o},US=HS,WS=p_,YS=AS,$S=_m?_m.prototype:void 0,JS=$S?$S.toString:void 0;var XS=function n(t){if("string"==typeof t)return t;if(WS(t))return US(t,n)+"";if(YS(t))return JS?JS.call(t):"";var e=t+"";return"0"==e&&1/t==-Infinity?"-0":e};var QS=function(n){return null==n?"":XS(n)},KS=p_,ZS=LS,nM=VS,tM=QS;var eM=function(n,t){return KS(n)?n:ZS(n,t)?[n]:nM(tM(n))},rM=AS;var oM=function(n){if("string"==typeof n||rM(n))return n;var t=n+"";return"0"==t&&1/n==-Infinity?"-0":t},iM=eM,aM=oM;var uM=function(n,t){for(var e=0,r=(t=iM(t,n)).length;null!=n&&e<r;)n=n[aM(t[e++])];return e&&e==r?n:void 0},cM=uM;var sM=eM,fM=h_,lM=p_,hM=y_,pM=m_,vM=oM;var dM=function(n,t,e){for(var r=-1,o=(t=sM(t,n)).length,i=!1;++r<o;){var a=vM(t[r]);if(!(i=null!=n&&e(n,a)))break;n=n[a]}return i||++r!=o?i:!!(o=null==n?0:n.length)&&pM(o)&&hM(a,o)&&(lM(n)||fM(n))},gM=function(n,t){return null!=n&&t in Object(n)},yM=dM;var mM=function(n,t){return null!=n&&yM(n,t,gM)},wM=mS,_M=function(n,t,e){var r=null==n?void 0:cM(n,t);return void 0===r?e:r},bM=mM,xM=LS,EM=xS,SM=MS,MM=oM;var TM=function(n){return function(t){return null==t?void 0:t[n]}},jM=uM;var kM=TM,CM=function(n){return function(t){return jM(t,n)}},PM=LS,OM=oM;var AM=CS,NM=function(n,t){return xM(n)&&EM(t)?SM(MM(n),t):function(e){var r=_M(e,n);return void 0===r&&r===t?bM(e,n):wM(t,r,3)}},RM=CE,IM=p_,DM=function(n){return PM(n)?kM(OM(n)):CM(n)};var LM=function(n){return"function"==typeof n?n:null==n?RM:"object"==typeof n?IM(n)?NM(n[0],n[1]):AM(n):DM(n)},BM=gb,zM=zE,qM=LM,FM=p_;var GM=function(n,t){return(FM(n)?BM:zM)(n,qM(t))},VM=Object.prototype.hasOwnProperty;var HM=function(n,t){return null!=n&&VM.call(n,t)},UM=dM;var WM=function(n,t){return null!=n&&UM(n,t,HM)},YM=W_,$M=sx,JM=h_,XM=p_,QM=J_,KM=v_.exports,ZM=q_,nT=P_,tT=Object.prototype.hasOwnProperty;var eT=function(n){if(null==n)return!0;if(QM(n)&&(XM(n)||"string"==typeof n||"function"==typeof n.splice||KM(n)||nT(n)||JM(n)))return!n.length;var t=$M(n);if("[object Map]"==t||"[object Set]"==t)return!n.size;if(ZM(n))return!YM(n).length;for(var e in n)if(tT.call(n,e))return!1;return!0};var rT=function(n){return void 0===n},oT=kE,iT=J_;var aT=function(n,t){var e=-1,r=iT(n)?Array(n.length):[];return oT(n,(function(n,o,i){r[++e]=t(n,o,i)})),r},uT=HS,cT=LM,sT=aT,fT=p_;var lT=function(n,t){return(fT(n)?uT:sT)(n,cT(t))};var hT=function(n,t,e,r){var o=-1,i=null==n?0:n.length;for(r&&i&&(e=n[++o]);++o<i;)e=t(e,n[o],o,n);return e},pT=kE,vT=LM,dT=function(n,t,e,r,o){return o(n,(function(n,o,i){e=r?(r=!1,n):t(e,n,o,i)})),e},gT=p_;var yT=function(n,t,e){var r=gT(n)?hT:dT,o=arguments.length<3;return r(n,vT(t),e,o,pT)},mT=Om,wT=p_,_T=o_;var bT=function(n){return"string"==typeof n||!wT(n)&&_T(n)&&"[object String]"==mT(n)},xT=TM("length"),ET=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");var ST=function(n){return ET.test(n)},MT="[\\ud800-\\udfff]",TT="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",jT="\\ud83c[\\udffb-\\udfff]",kT="[^\\ud800-\\udfff]",CT="(?:\\ud83c[\\udde6-\\uddff]){2}",PT="[\\ud800-\\udbff][\\udc00-\\udfff]",OT="(?:"+TT+"|"+jT+")"+"?",AT="[\\ufe0e\\ufe0f]?"+OT+("(?:\\u200d(?:"+[kT,CT,PT].join("|")+")[\\ufe0e\\ufe0f]?"+OT+")*"),NT="(?:"+[kT+TT+"?",TT,CT,PT,MT].join("|")+")",RT=RegExp(jT+"(?="+jT+")|"+NT+AT,"g");var IT=xT,DT=ST,LT=function(n){for(var t=RT.lastIndex=0;RT.test(n);)++t;return t};var BT=W_,zT=sx,qT=J_,FT=bT,GT=function(n){return DT(n)?LT(n):IT(n)};var VT=function(n){if(null==n)return 0;if(qT(n))return FT(n)?GT(n):n.length;var t=zT(n);return"[object Map]"==t||"[object Set]"==t?n.size:BT(n).length},HT=Uw,UT=Ox,WT=TE,YT=LM,$T=jb,JT=p_,XT=v_.exports,QT=Dm,KT=Am,ZT=P_;var nj=function(n,t,e){var r=JT(n),o=r||XT(n)||ZT(n);if(t=YT(t),null==e){var i=n&&n.constructor;e=o?r?new i:[]:KT(n)&&QT(i)?UT($T(n)):{}}return(o?HT:WT)(n,(function(n,r,o){return t(e,n,r,o)})),e},tj=h_,ej=p_,rj=_m?_m.isConcatSpreadable:void 0;var oj=Tb,ij=function(n){return ej(n)||tj(n)||!!(rj&&n&&n[rj])};var aj=function n(t,e,r,o,i){var a=-1,u=t.length;for(r||(r=ij),i||(i=[]);++a<u;){var c=t[a];e>0&&r(c)?e>1?n(c,e-1,r,o,i):oj(i,c):o||(i[i.length]=c)}return i};var uj=function(n,t,e){switch(e.length){case 0:return n.call(t);case 1:return n.call(t,e[0]);case 2:return n.call(t,e[0],e[1]);case 3:return n.call(t,e[0],e[1],e[2])}return n.apply(t,e)},cj=Math.max;var sj=function(n,t,e){return t=cj(void 0===t?n.length-1:t,0),function(){for(var r=arguments,o=-1,i=cj(r.length-t,0),a=Array(i);++o<i;)a[o]=r[t+o];o=-1;for(var u=Array(t+1);++o<t;)u[o]=r[o];return u[t]=e(a),uj(n,this,u)}},fj=xE,lj=Yw,hj=lj?function(n,t){return lj(n,"toString",{configurable:!0,enumerable:!1,value:fj(t),writable:!0})}:CE,pj=Date.now;var vj=function(n){var t=0,e=0;return function(){var r=pj(),o=16-(r-e);if(e=r,o>0){if(++t>=800)return arguments[0]}else t=0;return n.apply(void 0,arguments)}}(hj),dj=CE,gj=sj,yj=vj;var mj=function(n,t){return yj(gj(n,t,dj),n+"")};var wj=function(n,t,e,r){for(var o=n.length,i=e+(r?1:-1);r?i--:++i<o;)if(t(n[i],i,n))return i;return-1};var _j=wj,bj=function(n){return n!=n},xj=function(n,t,e){for(var r=e-1,o=n.length;++r<o;)if(n[r]===t)return r;return-1};var Ej=function(n,t,e){return t==t?xj(n,t,e):_j(n,bj,e)};var Sj=function(n,t){return!!(null==n?0:n.length)&&Ej(n,t,0)>-1};var Mj=function(n,t,e){for(var r=-1,o=null==n?0:n.length;++r<o;)if(e(t,n[r]))return!0;return!1};var Tj=Jb,jj=function(){},kj=Tj&&1/XE(new Tj([,-0]))[1]==1/0?function(n){return new Tj(n)}:jj,Cj=HE,Pj=Sj,Oj=Mj,Aj=UE,Nj=kj,Rj=XE;var Ij=J_,Dj=o_;var Lj=function(n){return Dj(n)&&Ij(n)},Bj=aj,zj=function(n,t,e){var r=-1,o=Pj,i=n.length,a=!0,u=[],c=u;if(e)a=!1,o=Oj;else if(i>=200){var s=t?null:Nj(n);if(s)return Rj(s);a=!1,o=Aj,c=new Cj}else c=t?[]:u;n:for(;++r<i;){var f=n[r],l=t?t(f):f;if(f=e||0!==f?f:0,a&&l==l){for(var h=c.length;h--;)if(c[h]===l)continue n;t&&c.push(l),u.push(f)}else o(c,l,e)||(c!==u&&c.push(l),u.push(f))}return u},qj=Lj,Fj=mj((function(n){return zj(Bj(n,1,qj,!0))})),Gj=HS;var Vj=function(n,t){return Gj(t,(function(t){return n[t]}))},Hj=Z_;var Uj,Wj=function(n){return null==n?[]:Vj(n,Hj(n))};if("function"==typeof require)try{Uj={clone:bE,constant:xE,each:LE,filter:GM,has:WM,isArray:p_,isEmpty:eT,isFunction:Dm,isUndefined:rT,keys:Z_,map:lT,reduce:yT,size:VT,transform:nj,union:Fj,values:Wj}}catch(VB){}Uj||(Uj=window._);var Yj=Uj,$j=Yj,Jj=Xj;function Xj(n){this._isDirected=!$j.has(n,"directed")||n.directed,this._isMultigraph=!!$j.has(n,"multigraph")&&n.multigraph,this._isCompound=!!$j.has(n,"compound")&&n.compound,this._label=void 0,this._defaultNodeLabelFn=$j.constant(void 0),this._defaultEdgeLabelFn=$j.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children["\0"]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}function Qj(n,t){n[t]?n[t]++:n[t]=1}function Kj(n,t){--n[t]||delete n[t]}function Zj(n,t,e,r){var o=""+t,i=""+e;if(!n&&o>i){var a=o;o=i,i=a}return o+""+i+""+($j.isUndefined(r)?"\0":r)}function nk(n,t,e,r){var o=""+t,i=""+e;if(!n&&o>i){var a=o;o=i,i=a}var u={v:o,w:i};return r&&(u.name=r),u}function tk(n,t){return Zj(n,t.v,t.w,t.name)}Xj.prototype._nodeCount=0,Xj.prototype._edgeCount=0,Xj.prototype.isDirected=function(){return this._isDirected},Xj.prototype.isMultigraph=function(){return this._isMultigraph},Xj.prototype.isCompound=function(){return this._isCompound},Xj.prototype.setGraph=function(n){return this._label=n,this},Xj.prototype.graph=function(){return this._label},Xj.prototype.setDefaultNodeLabel=function(n){return $j.isFunction(n)||(n=$j.constant(n)),this._defaultNodeLabelFn=n,this},Xj.prototype.nodeCount=function(){return this._nodeCount},Xj.prototype.nodes=function(){return $j.keys(this._nodes)},Xj.prototype.sources=function(){var n=this;return $j.filter(this.nodes(),(function(t){return $j.isEmpty(n._in[t])}))},Xj.prototype.sinks=function(){var n=this;return $j.filter(this.nodes(),(function(t){return $j.isEmpty(n._out[t])}))},Xj.prototype.setNodes=function(n,t){var e=arguments,r=this;return $j.each(n,(function(n){e.length>1?r.setNode(n,t):r.setNode(n)})),this},Xj.prototype.setNode=function(n,t){return $j.has(this._nodes,n)?(arguments.length>1&&(this._nodes[n]=t),this):(this._nodes[n]=arguments.length>1?t:this._defaultNodeLabelFn(n),this._isCompound&&(this._parent[n]="\0",this._children[n]={},this._children["\0"][n]=!0),this._in[n]={},this._preds[n]={},this._out[n]={},this._sucs[n]={},++this._nodeCount,this)},Xj.prototype.node=function(n){return this._nodes[n]},Xj.prototype.hasNode=function(n){return $j.has(this._nodes,n)},Xj.prototype.removeNode=function(n){var t=this;if($j.has(this._nodes,n)){var e=function(n){t.removeEdge(t._edgeObjs[n])};delete this._nodes[n],this._isCompound&&(this._removeFromParentsChildList(n),delete this._parent[n],$j.each(this.children(n),(function(n){t.setParent(n)})),delete this._children[n]),$j.each($j.keys(this._in[n]),e),delete this._in[n],delete this._preds[n],$j.each($j.keys(this._out[n]),e),delete this._out[n],delete this._sucs[n],--this._nodeCount}return this},Xj.prototype.setParent=function(n,t){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if($j.isUndefined(t))t="\0";else{for(var e=t+="";!$j.isUndefined(e);e=this.parent(e))if(e===n)throw new Error("Setting "+t+" as parent of "+n+" would create a cycle");this.setNode(t)}return this.setNode(n),this._removeFromParentsChildList(n),this._parent[n]=t,this._children[t][n]=!0,this},Xj.prototype._removeFromParentsChildList=function(n){delete this._children[this._parent[n]][n]},Xj.prototype.parent=function(n){if(this._isCompound){var t=this._parent[n];if("\0"!==t)return t}},Xj.prototype.children=function(n){if($j.isUndefined(n)&&(n="\0"),this._isCompound){var t=this._children[n];if(t)return $j.keys(t)}else{if("\0"===n)return this.nodes();if(this.hasNode(n))return[]}},Xj.prototype.predecessors=function(n){var t=this._preds[n];if(t)return $j.keys(t)},Xj.prototype.successors=function(n){var t=this._sucs[n];if(t)return $j.keys(t)},Xj.prototype.neighbors=function(n){var t=this.predecessors(n);if(t)return $j.union(t,this.successors(n))},Xj.prototype.isLeaf=function(n){return 0===(this.isDirected()?this.successors(n):this.neighbors(n)).length},Xj.prototype.filterNodes=function(n){var t=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});t.setGraph(this.graph());var e=this;$j.each(this._nodes,(function(e,r){n(r)&&t.setNode(r,e)})),$j.each(this._edgeObjs,(function(n){t.hasNode(n.v)&&t.hasNode(n.w)&&t.setEdge(n,e.edge(n))}));var r={};function o(n){var i=e.parent(n);return void 0===i||t.hasNode(i)?(r[n]=i,i):i in r?r[i]:o(i)}return this._isCompound&&$j.each(t.nodes(),(function(n){t.setParent(n,o(n))})),t},Xj.prototype.setDefaultEdgeLabel=function(n){return $j.isFunction(n)||(n=$j.constant(n)),this._defaultEdgeLabelFn=n,this},Xj.prototype.edgeCount=function(){return this._edgeCount},Xj.prototype.edges=function(){return $j.values(this._edgeObjs)},Xj.prototype.setPath=function(n,t){var e=this,r=arguments;return $j.reduce(n,(function(n,o){return r.length>1?e.setEdge(n,o,t):e.setEdge(n,o),o})),this},Xj.prototype.setEdge=function(){var n,t,e,r,o=!1,i=arguments[0];"object"==typeof i&&null!==i&&"v"in i?(n=i.v,t=i.w,e=i.name,2===arguments.length&&(r=arguments[1],o=!0)):(n=i,t=arguments[1],e=arguments[3],arguments.length>2&&(r=arguments[2],o=!0)),n=""+n,t=""+t,$j.isUndefined(e)||(e=""+e);var a=Zj(this._isDirected,n,t,e);if($j.has(this._edgeLabels,a))return o&&(this._edgeLabels[a]=r),this;if(!$j.isUndefined(e)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(n),this.setNode(t),this._edgeLabels[a]=o?r:this._defaultEdgeLabelFn(n,t,e);var u=nk(this._isDirected,n,t,e);return n=u.v,t=u.w,Object.freeze(u),this._edgeObjs[a]=u,Qj(this._preds[t],n),Qj(this._sucs[n],t),this._in[t][a]=u,this._out[n][a]=u,this._edgeCount++,this},Xj.prototype.edge=function(n,t,e){var r=1===arguments.length?tk(this._isDirected,arguments[0]):Zj(this._isDirected,n,t,e);return this._edgeLabels[r]},Xj.prototype.hasEdge=function(n,t,e){var r=1===arguments.length?tk(this._isDirected,arguments[0]):Zj(this._isDirected,n,t,e);return $j.has(this._edgeLabels,r)},Xj.prototype.removeEdge=function(n,t,e){var r=1===arguments.length?tk(this._isDirected,arguments[0]):Zj(this._isDirected,n,t,e),o=this._edgeObjs[r];return o&&(n=o.v,t=o.w,delete this._edgeLabels[r],delete this._edgeObjs[r],Kj(this._preds[t],n),Kj(this._sucs[n],t),delete this._in[t][r],delete this._out[n][r],this._edgeCount--),this},Xj.prototype.inEdges=function(n,t){var e=this._in[n];if(e){var r=$j.values(e);return t?$j.filter(r,(function(n){return n.v===t})):r}},Xj.prototype.outEdges=function(n,t){var e=this._out[n];if(e){var r=$j.values(e);return t?$j.filter(r,(function(n){return n.w===t})):r}},Xj.prototype.nodeEdges=function(n,t){var e=this.inEdges(n,t);if(e)return e.concat(this.outEdges(n,t))};var ek={Graph:Jj,version:"2.1.8"},rk=Yj,ok=Jj,ik={write:function(n){var t={options:{directed:n.isDirected(),multigraph:n.isMultigraph(),compound:n.isCompound()},nodes:ak(n),edges:uk(n)};rk.isUndefined(n.graph())||(t.value=rk.clone(n.graph()));return t},read:function(n){var t=new ok(n.options).setGraph(n.value);return rk.each(n.nodes,(function(n){t.setNode(n.v,n.value),n.parent&&t.setParent(n.v,n.parent)})),rk.each(n.edges,(function(n){t.setEdge({v:n.v,w:n.w,name:n.name},n.value)})),t}};function ak(n){return rk.map(n.nodes(),(function(t){var e=n.node(t),r=n.parent(t),o={v:t};return rk.isUndefined(e)||(o.value=e),rk.isUndefined(r)||(o.parent=r),o}))}function uk(n){return rk.map(n.edges(),(function(t){var e=n.edge(t),r={v:t.v,w:t.w};return rk.isUndefined(t.name)||(r.name=t.name),rk.isUndefined(e)||(r.value=e),r}))}var ck=Yj,sk=function(n){var t,e={},r=[];function o(r){ck.has(e,r)||(e[r]=!0,t.push(r),ck.each(n.successors(r),o),ck.each(n.predecessors(r),o))}return ck.each(n.nodes(),(function(n){t=[],o(n),t.length&&r.push(t)})),r};var fk=Yj,lk=hk;function hk(){this._arr=[],this._keyIndices={}}hk.prototype.size=function(){return this._arr.length},hk.prototype.keys=function(){return this._arr.map((function(n){return n.key}))},hk.prototype.has=function(n){return fk.has(this._keyIndices,n)},hk.prototype.priority=function(n){var t=this._keyIndices[n];if(void 0!==t)return this._arr[t].priority},hk.prototype.min=function(){if(0===this.size())throw new Error("Queue underflow");return this._arr[0].key},hk.prototype.add=function(n,t){var e=this._keyIndices;if(n=String(n),!fk.has(e,n)){var r=this._arr,o=r.length;return e[n]=o,r.push({key:n,priority:t}),this._decrease(o),!0}return!1},hk.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var n=this._arr.pop();return delete this._keyIndices[n.key],this._heapify(0),n.key},hk.prototype.decrease=function(n,t){var e=this._keyIndices[n];if(t>this._arr[e].priority)throw new Error("New priority is greater than current priority. Key: "+n+" Old: "+this._arr[e].priority+" New: "+t);this._arr[e].priority=t,this._decrease(e)},hk.prototype._heapify=function(n){var t=this._arr,e=2*n,r=e+1,o=n;e<t.length&&(o=t[e].priority<t[o].priority?e:o,r<t.length&&(o=t[r].priority<t[o].priority?r:o),o!==n&&(this._swap(n,o),this._heapify(o)))},hk.prototype._decrease=function(n){for(var t,e=this._arr,r=e[n].priority;0!==n&&!(e[t=n>>1].priority<r);)this._swap(n,t),n=t},hk.prototype._swap=function(n,t){var e=this._arr,r=this._keyIndices,o=e[n],i=e[t];e[n]=i,e[t]=o,r[i.key]=n,r[o.key]=t};var pk=lk,vk=function(n,t,e,r){return function(n,t,e,r){var o,i,a={},u=new pk,c=function(n){var t=n.v!==o?n.v:n.w,r=a[t],c=e(n),s=i.distance+c;if(c<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+n+" Weight: "+c);s<r.distance&&(r.distance=s,r.predecessor=o,u.decrease(t,s))};n.nodes().forEach((function(n){var e=n===t?0:Number.POSITIVE_INFINITY;a[n]={distance:e},u.add(n,e)}));for(;u.size()>0&&(o=u.removeMin(),(i=a[o]).distance!==Number.POSITIVE_INFINITY);)r(o).forEach(c);return a}(n,String(t),e||dk,r||function(t){return n.outEdges(t)})},dk=Yj.constant(1);var gk=vk,yk=Yj,mk=function(n,t,e){return yk.transform(n.nodes(),(function(r,o){r[o]=gk(n,o,t,e)}),{})};var wk=Yj,_k=function(n){var t=0,e=[],r={},o=[];function i(a){var u=r[a]={onStack:!0,lowlink:t,index:t++};if(e.push(a),n.successors(a).forEach((function(n){wk.has(r,n)?r[n].onStack&&(u.lowlink=Math.min(u.lowlink,r[n].index)):(i(n),u.lowlink=Math.min(u.lowlink,r[n].lowlink))})),u.lowlink===u.index){var c,s=[];do{c=e.pop(),r[c].onStack=!1,s.push(c)}while(a!==c);o.push(s)}}return n.nodes().forEach((function(n){wk.has(r,n)||i(n)})),o};var bk=Yj,xk=_k,Ek=function(n){return bk.filter(xk(n),(function(t){return t.length>1||1===t.length&&n.hasEdge(t[0],t[0])}))};var Sk=function(n,t,e){return function(n,t,e){var r={},o=n.nodes();return o.forEach((function(n){r[n]={},r[n][n]={distance:0},o.forEach((function(t){n!==t&&(r[n][t]={distance:Number.POSITIVE_INFINITY})})),e(n).forEach((function(e){var o=e.v===n?e.w:e.v,i=t(e);r[n][o]={distance:i,predecessor:n}}))})),o.forEach((function(n){var t=r[n];o.forEach((function(e){var i=r[e];o.forEach((function(e){var r=i[n],o=t[e],a=i[e],u=r.distance+o.distance;u<a.distance&&(a.distance=u,a.predecessor=o.predecessor)}))}))})),r}(n,t||Mk,e||function(t){return n.outEdges(t)})},Mk=Yj.constant(1);var Tk=Yj,jk=kk;function kk(n){var t={},e={},r=[];if(Tk.each(n.sinks(),(function o(i){if(Tk.has(e,i))throw new Ck;Tk.has(t,i)||(e[i]=!0,t[i]=!0,Tk.each(n.predecessors(i),o),delete e[i],r.push(i))})),Tk.size(t)!==n.nodeCount())throw new Ck;return r}function Ck(){}kk.CycleException=Ck,Ck.prototype=new Error;var Pk=jk;var Ok=Yj,Ak=function(n,t,e){Ok.isArray(t)||(t=[t]);var r=(n.isDirected()?n.successors:n.neighbors).bind(n),o=[],i={};return Ok.each(t,(function(t){if(!n.hasNode(t))throw new Error("Graph does not have node: "+t);Nk(n,t,"post"===e,i,r,o)})),o};function Nk(n,t,e,r,o,i){Ok.has(r,t)||(r[t]=!0,e||i.push(t),Ok.each(o(t),(function(t){Nk(n,t,e,r,o,i)})),e&&i.push(t))}var Rk=Ak;var Ik=Ak;var Dk=Yj,Lk=Jj,Bk=lk;var zk,qk={Graph:ek.Graph,json:ik,alg:{components:sk,dijkstra:vk,dijkstraAll:mk,findCycles:Ek,floydWarshall:Sk,isAcyclic:function(n){try{Pk(n)}catch(VB){if(VB instanceof Pk.CycleException)return!1;throw VB}return!0},postorder:function(n,t){return Rk(n,t,"post")},preorder:function(n,t){return Ik(n,t,"pre")},prim:function(n,t){var e,r=new Lk,o={},i=new Bk;function a(n){var r=n.v===e?n.w:n.v,a=i.priority(r);if(void 0!==a){var u=t(n);u<a&&(o[r]=e,i.decrease(r,u))}}if(0===n.nodeCount())return r;Dk.each(n.nodes(),(function(n){i.add(n,Number.POSITIVE_INFINITY),r.setNode(n)})),i.decrease(n.nodes()[0],0);var u=!1;for(;i.size()>0;){if(e=i.removeMin(),Dk.has(o,e))r.setEdge(e,o[e]);else{if(u)throw new Error("Input graph is not connected: "+n);u=!0}n.nodeEdges(e).forEach(a)}return r},tarjan:_k,topsort:jk},version:ek.version};if("function"==typeof require)try{zk=qk}catch(VB){}zk||(zk=window.graphlib);var Fk=zk,Gk=wE;var Vk=function(n){return Gk(n,5)},Hk=Xy,Uk=J_,Wk=y_,Yk=Am;var $k=function(n,t,e){if(!Yk(e))return!1;var r=typeof t;return!!("number"==r?Uk(e)&&Wk(t,e.length):"string"==r&&t in e)&&Hk(e[t],n)},Jk=mj,Xk=Xy,Qk=$k,Kk=fb,Zk=Object.prototype,nC=Zk.hasOwnProperty,tC=Jk((function(n,t){n=Object(n);var e=-1,r=t.length,o=r>2?t[2]:void 0;for(o&&Qk(t[0],t[1],o)&&(r=1);++e<r;)for(var i=t[e],a=Kk(i),u=-1,c=a.length;++u<c;){var s=a[u],f=n[s];(void 0===f||Xk(f,Zk[s])&&!nC.call(n,s))&&(n[s]=i[s])}return n})),eC=LM,rC=J_,oC=Z_;var iC=function(n){return function(t,e,r){var o=Object(t);if(!rC(t)){var i=eC(e);t=oC(t),e=function(n){return i(o[n],n,o)}}var a=n(t,e,r);return a>-1?o[i?t[a]:a]:void 0}},aC=/\s/;var uC=function(n){for(var t=n.length;t--&&aC.test(n.charAt(t)););return t},cC=/^\s+/;var sC=function(n){return n?n.slice(0,uC(n)+1).replace(cC,""):n},fC=Am,lC=AS,hC=/^[-+]0x[0-9a-f]+$/i,pC=/^0b[01]+$/i,vC=/^0o[0-7]+$/i,dC=parseInt;var gC=function(n){if("number"==typeof n)return n;if(lC(n))return NaN;if(fC(n)){var t="function"==typeof n.valueOf?n.valueOf():n;n=fC(t)?t+"":t}if("string"!=typeof n)return 0===n?n:+n;n=sC(n);var e=pC.test(n);return e||vC.test(n)?dC(n.slice(2),e?2:8):hC.test(n)?NaN:+n};var yC=function(n){return n?Infinity===(n=gC(n))||-Infinity===n?17976931348623157e292*(n<0?-1:1):n==n?n:0:0===n?n:0},mC=yC;var wC=wj,_C=LM,bC=function(n){var t=mC(n),e=t%1;return t==t?e?t-e:t:0},xC=Math.max;var EC=iC((function(n,t,e){var r=null==n?0:n.length;if(!r)return-1;var o=null==e?0:bC(e);return o<0&&(o=xC(r+o,0)),wC(n,_C(t),o)})),SC=aj;var MC=function(n){return(null==n?0:n.length)?SC(n,1):[]},TC=EE,jC=OE,kC=fb;var CC=function(n,t){return null==n?n:TC(n,jC(t),kC)};var PC=function(n){var t=null==n?0:n.length;return t?n[t-1]:void 0},OC=Jw,AC=TE,NC=LM;var RC=function(n,t){var e={};return t=NC(t),AC(n,(function(n,r,o){OC(e,r,t(n,r,o))})),e},IC=AS;var DC=function(n,t,e){for(var r=-1,o=n.length;++r<o;){var i=n[r],a=t(i);if(null!=a&&(void 0===u?a==a&&!IC(a):e(a,u)))var u=a,c=i}return c};var LC=DC,BC=function(n,t){return n>t},zC=CE;var qC=function(n){return n&&n.length?LC(n,zC,BC):void 0},FC=Jw,GC=Xy;var VC=function(n,t,e){(void 0!==e&&!GC(n[t],e)||void 0===e&&!(t in n))&&FC(n,t,e)},HC=Om,UC=jb,WC=o_,YC=Function.prototype,$C=Object.prototype,JC=YC.toString,XC=$C.hasOwnProperty,QC=JC.call(Object);var KC=function(n,t){if(("constructor"!==t||"function"!=typeof n[t])&&"__proto__"!=t)return n[t]},ZC=e_,nP=fb;var tP=VC,eP=vb.exports,rP=xx,oP=db,iP=Ix,aP=h_,uP=p_,cP=Lj,sP=v_.exports,fP=Dm,lP=Am,hP=function(n){if(!WC(n)||"[object Object]"!=HC(n))return!1;var t=UC(n);if(null===t)return!0;var e=XC.call(t,"constructor")&&t.constructor;return"function"==typeof e&&e instanceof e&&JC.call(e)==QC},pP=P_,vP=KC,dP=function(n){return ZC(n,nP(n))};var gP=Hw,yP=VC,mP=EE,wP=function(n,t,e,r,o,i,a){var u=vP(n,e),c=vP(t,e),s=a.get(c);if(s)tP(n,e,s);else{var f=i?i(u,c,e+"",n,t,a):void 0,l=void 0===f;if(l){var h=uP(c),p=!h&&sP(c),v=!h&&!p&&pP(c);f=c,h||p||v?uP(u)?f=u:cP(u)?f=oP(u):p?(l=!1,f=eP(c,!0)):v?(l=!1,f=rP(c,!0)):f=[]:hP(c)||aP(c)?(f=u,aP(u)?f=dP(u):lP(u)&&!fP(u)||(f=iP(c))):l=!1}l&&(a.set(c,f),o(f,c,r,i,a),a.delete(c)),tP(n,e,f)}},_P=Am,bP=fb,xP=KC;var EP=mj,SP=$k;var MP=function n(t,e,r,o,i){t!==e&&mP(e,(function(a,u){if(i||(i=new gP),_P(a))wP(t,e,u,r,n,o,i);else{var c=o?o(xP(t,u),a,u+"",t,e,i):void 0;void 0===c&&(c=a),yP(t,u,c)}}),bP)},TP=function(n){return EP((function(t,e){var r=-1,o=e.length,i=o>1?e[o-1]:void 0,a=o>2?e[2]:void 0;for(i=n.length>3&&"function"==typeof i?(o--,i):void 0,a&&SP(e[0],e[1],a)&&(i=o<3?void 0:i,o=1),t=Object(t);++r<o;){var u=e[r];u&&n(t,u,r,i)}return t}))}((function(n,t,e){MP(n,t,e)}));var jP=function(n,t){return n<t},kP=DC,CP=jP,PP=CE;var OP=function(n){return n&&n.length?kP(n,PP,CP):void 0},AP=DC,NP=LM,RP=jP;var IP=function(n,t){return n&&n.length?AP(n,NP(t),RP):void 0},DP=wm,LP=function(){return DP.Date.now()},BP=Zw,zP=eM,qP=y_,FP=Am,GP=oM;var VP=uM,HP=function(n,t,e,r){if(!FP(n))return n;for(var o=-1,i=(t=zP(t,n)).length,a=i-1,u=n;null!=u&&++o<i;){var c=GP(t[o]),s=e;if("__proto__"===c||"constructor"===c||"prototype"===c)return n;if(o!=a){var f=u[c];void 0===(s=r?r(f,c,u):void 0)&&(s=FP(f)?f:qP(t[o+1])?[]:{})}BP(u,c,s),u=u[c]}return n},UP=eM;var WP=function(n,t,e){for(var r=-1,o=t.length,i={};++r<o;){var a=t[r],u=VP(n,a);e(u,a)&&HP(i,UP(a,n),u)}return i},YP=mM;var $P=MC,JP=sj,XP=vj;var QP=function(n,t){return WP(n,t,(function(t,e){return YP(n,e)}))},KP=function(n){return XP(JP(n,void 0,$P),n+"")}((function(n,t){return null==n?{}:QP(n,t)})),ZP=Math.ceil,nO=Math.max;var tO=function(n,t,e,r){for(var o=-1,i=nO(ZP((t-n)/(e||1)),0),a=Array(i);i--;)a[r?i:++o]=n,n+=e;return a},eO=$k,rO=yC;var oO=function(n){return function(t,e,r){return r&&"number"!=typeof r&&eO(t,e,r)&&(e=r=void 0),t=rO(t),void 0===e?(e=t,t=0):e=rO(e),r=void 0===r?t<e?1:-1:rO(r),tO(t,e,r,n)}}();var iO=AS;var aO=function(n,t){if(n!==t){var e=void 0!==n,r=null===n,o=n==n,i=iO(n),a=void 0!==t,u=null===t,c=t==t,s=iO(t);if(!u&&!s&&!i&&n>t||i&&a&&c&&!u&&!s||r&&a&&c||!e&&c||!o)return 1;if(!r&&!i&&!s&&n<t||s&&e&&o&&!r&&!i||u&&e&&o||!a&&o||!c)return-1}return 0};var uO=HS,cO=uM,sO=LM,fO=aT,lO=function(n,t){var e=n.length;for(n.sort(t);e--;)n[e]=n[e].value;return n},hO=S_,pO=function(n,t,e){for(var r=-1,o=n.criteria,i=t.criteria,a=o.length,u=e.length;++r<a;){var c=aO(o[r],i[r]);if(c)return r>=u?c:c*("desc"==e[r]?-1:1)}return n.index-t.index},vO=CE,dO=p_;var gO=aj,yO=function(n,t,e){t=t.length?uO(t,(function(n){return dO(n)?function(t){return cO(t,1===n.length?n[0]:n)}:n})):[vO];var r=-1;t=uO(t,hO(sO));var o=fO(n,(function(n,e,o){return{criteria:uO(t,(function(t){return t(n)})),index:++r,value:n}}));return lO(o,(function(n,t){return pO(n,t,e)}))},mO=$k,wO=mj((function(n,t){if(null==n)return[];var e=t.length;return e>1&&mO(n,t[0],t[1])?t=[]:e>2&&mO(t[0],t[1],t[2])&&(t=[t[0]]),yO(n,gO(t,1),[])})),_O=QS,bO=0;var xO=function(n){var t=++bO;return _O(n)+t};var EO=Zw,SO=function(n,t,e){for(var r=-1,o=n.length,i=t.length,a={};++r<o;){var u=r<i?t[r]:void 0;e(a,n[r],u)}return a};var MO,TO=function(n,t){return SO(n||[],t||[],EO)};if("function"==typeof require)try{MO={cloneDeep:Vk,constant:xE,defaults:tC,each:LE,filter:GM,find:EC,flatten:MC,forEach:DE,forIn:CC,has:WM,isUndefined:rT,last:PC,map:lT,mapValues:RC,max:qC,merge:TP,min:OP,minBy:IP,now:LP,pick:KP,range:oO,reduce:yT,sortBy:wO,uniqueId:xO,values:Wj,zipObject:TO}}catch(VB){}MO||(MO=window._);var jO=MO,kO=CO;function CO(){var n={};n._next=n._prev=n,this._sentinel=n}function PO(n){n._prev._next=n._next,n._next._prev=n._prev,delete n._next,delete n._prev}function OO(n,t){if("_next"!==n&&"_prev"!==n)return t}CO.prototype.dequeue=function(){var n=this._sentinel,t=n._prev;if(t!==n)return PO(t),t},CO.prototype.enqueue=function(n){var t=this._sentinel;n._prev&&n._next&&PO(n),n._next=t._next,t._next._prev=n,t._next=n,n._prev=t},CO.prototype.toString=function(){for(var n=[],t=this._sentinel,e=t._prev;e!==t;)n.push(JSON.stringify(e,OO)),e=e._prev;return"["+n.join(", ")+"]"};var AO=jO,NO=Fk.Graph,RO=kO,IO=function(n,t){if(n.nodeCount()<=1)return[];var e=function(n,t){var e=new NO,r=0,o=0;AO.forEach(n.nodes(),(function(n){e.setNode(n,{v:n,in:0,out:0})})),AO.forEach(n.edges(),(function(n){var i=e.edge(n.v,n.w)||0,a=t(n),u=i+a;e.setEdge(n.v,n.w,u),o=Math.max(o,e.node(n.v).out+=a),r=Math.max(r,e.node(n.w).in+=a)}));var i=AO.range(o+r+3).map((function(){return new RO})),a=r+1;return AO.forEach(e.nodes(),(function(n){BO(i,a,e.node(n))})),{graph:e,buckets:i,zeroIdx:a}}(n,t||DO),r=function(n,t,e){var r,o=[],i=t[t.length-1],a=t[0];for(;n.nodeCount();){for(;r=a.dequeue();)LO(n,t,e,r);for(;r=i.dequeue();)LO(n,t,e,r);if(n.nodeCount())for(var u=t.length-2;u>0;--u)if(r=t[u].dequeue()){o=o.concat(LO(n,t,e,r,!0));break}}return o}(e.graph,e.buckets,e.zeroIdx);return AO.flatten(AO.map(r,(function(t){return n.outEdges(t.v,t.w)})),!0)},DO=AO.constant(1);function LO(n,t,e,r,o){var i=o?[]:void 0;return AO.forEach(n.inEdges(r.v),(function(r){var a=n.edge(r),u=n.node(r.v);o&&i.push({v:r.v,w:r.w}),u.out-=a,BO(t,e,u)})),AO.forEach(n.outEdges(r.v),(function(r){var o=n.edge(r),i=r.w,a=n.node(i);a.in-=o,BO(t,e,a)})),n.removeNode(r.v),i}function BO(n,t,e){e.out?e.in?n[e.out-e.in+t].enqueue(e):n[n.length-1].enqueue(e):n[0].enqueue(e)}var zO=jO,qO=IO,FO={run:function(n){var t="greedy"===n.graph().acyclicer?qO(n,(e=n,function(n){return e.edge(n).weight})):function(n){var t=[],e={},r={};function o(i){zO.has(r,i)||(r[i]=!0,e[i]=!0,zO.forEach(n.outEdges(i),(function(n){zO.has(e,n.w)?t.push(n):o(n.w)})),delete e[i])}return zO.forEach(n.nodes(),o),t}(n);var e;zO.forEach(t,(function(t){var e=n.edge(t);n.removeEdge(t),e.forwardName=t.name,e.reversed=!0,n.setEdge(t.w,t.v,e,zO.uniqueId("rev"))}))},undo:function(n){zO.forEach(n.edges(),(function(t){var e=n.edge(t);if(e.reversed){n.removeEdge(t);var r=e.forwardName;delete e.reversed,delete e.forwardName,n.setEdge(t.w,t.v,e,r)}}))}};var GO=jO,VO=Fk.Graph,HO={addDummyNode:UO,simplify:function(n){var t=(new VO).setGraph(n.graph());return GO.forEach(n.nodes(),(function(e){t.setNode(e,n.node(e))})),GO.forEach(n.edges(),(function(e){var r=t.edge(e.v,e.w)||{weight:0,minlen:1},o=n.edge(e);t.setEdge(e.v,e.w,{weight:r.weight+o.weight,minlen:Math.max(r.minlen,o.minlen)})})),t},asNonCompoundGraph:function(n){var t=new VO({multigraph:n.isMultigraph()}).setGraph(n.graph());return GO.forEach(n.nodes(),(function(e){n.children(e).length||t.setNode(e,n.node(e))})),GO.forEach(n.edges(),(function(e){t.setEdge(e,n.edge(e))})),t},successorWeights:function(n){var t=GO.map(n.nodes(),(function(t){var e={};return GO.forEach(n.outEdges(t),(function(t){e[t.w]=(e[t.w]||0)+n.edge(t).weight})),e}));return GO.zipObject(n.nodes(),t)},predecessorWeights:function(n){var t=GO.map(n.nodes(),(function(t){var e={};return GO.forEach(n.inEdges(t),(function(t){e[t.v]=(e[t.v]||0)+n.edge(t).weight})),e}));return GO.zipObject(n.nodes(),t)},intersectRect:function(n,t){var e,r,o=n.x,i=n.y,a=t.x-o,u=t.y-i,c=n.width/2,s=n.height/2;if(!a&&!u)throw new Error("Not possible to find intersection inside of the rectangle");Math.abs(u)*c>Math.abs(a)*s?(u<0&&(s=-s),e=s*a/u,r=s):(a<0&&(c=-c),e=c,r=c*u/a);return{x:o+e,y:i+r}},buildLayerMatrix:function(n){var t=GO.map(GO.range(WO(n)+1),(function(){return[]}));return GO.forEach(n.nodes(),(function(e){var r=n.node(e),o=r.rank;GO.isUndefined(o)||(t[o][r.order]=e)})),t},normalizeRanks:function(n){var t=GO.min(GO.map(n.nodes(),(function(t){return n.node(t).rank})));GO.forEach(n.nodes(),(function(e){var r=n.node(e);GO.has(r,"rank")&&(r.rank-=t)}))},removeEmptyRanks:function(n){var t=GO.min(GO.map(n.nodes(),(function(t){return n.node(t).rank}))),e=[];GO.forEach(n.nodes(),(function(r){var o=n.node(r).rank-t;e[o]||(e[o]=[]),e[o].push(r)}));var r=0,o=n.graph().nodeRankFactor;GO.forEach(e,(function(t,e){GO.isUndefined(t)&&e%o!=0?--r:r&&GO.forEach(t,(function(t){n.node(t).rank+=r}))}))},addBorderNode:function(n,t,e,r){var o={width:0,height:0};arguments.length>=4&&(o.rank=e,o.order=r);return UO(n,"border",o,t)},maxRank:WO,partition:function(n,t){var e={lhs:[],rhs:[]};return GO.forEach(n,(function(n){t(n)?e.lhs.push(n):e.rhs.push(n)})),e},time:function(n,t){var e=GO.now();try{return t()}finally{console.log(n+" time: "+(GO.now()-e)+"ms")}},notime:function(n,t){return t()}};function UO(n,t,e,r){var o;do{o=GO.uniqueId(r)}while(n.hasNode(o));return e.dummy=t,n.setNode(o,e),o}function WO(n){return GO.max(GO.map(n.nodes(),(function(t){var e=n.node(t).rank;if(!GO.isUndefined(e))return e})))}var YO=jO,$O=HO,JO={run:function(n){n.graph().dummyChains=[],YO.forEach(n.edges(),(function(t){!function(n,t){var e,r,o,i=t.v,a=n.node(i).rank,u=t.w,c=n.node(u).rank,s=t.name,f=n.edge(t),l=f.labelRank;if(c===a+1)return;for(n.removeEdge(t),o=0,++a;a<c;++o,++a)f.points=[],r={width:0,height:0,edgeLabel:f,edgeObj:t,rank:a},e=$O.addDummyNode(n,"edge",r,"_d"),a===l&&(r.width=f.width,r.height=f.height,r.dummy="edge-label",r.labelpos=f.labelpos),n.setEdge(i,e,{weight:f.weight},s),0===o&&n.graph().dummyChains.push(e),i=e;n.setEdge(i,u,{weight:f.weight},s)}(n,t)}))},undo:function(n){YO.forEach(n.graph().dummyChains,(function(t){var e,r=n.node(t),o=r.edgeLabel;for(n.setEdge(r.edgeObj,o);r.dummy;)e=n.successors(t)[0],n.removeNode(t),o.points.push({x:r.x,y:r.y}),"edge-label"===r.dummy&&(o.x=r.x,o.y=r.y,o.width=r.width,o.height=r.height),t=e,r=n.node(t)}))}};var XO=jO,QO={longestPath:function(n){var t={};XO.forEach(n.sources(),(function e(r){var o=n.node(r);if(XO.has(t,r))return o.rank;t[r]=!0;var i=XO.min(XO.map(n.outEdges(r),(function(t){return e(t.w)-n.edge(t).minlen})));return i!==Number.POSITIVE_INFINITY&&null!=i||(i=0),o.rank=i}))},slack:function(n,t){return n.node(t.w).rank-n.node(t.v).rank-n.edge(t).minlen}};var KO=jO,ZO=Fk.Graph,nA=QO.slack,tA=function(n){var t,e,r=new ZO({directed:!1}),o=n.nodes()[0],i=n.nodeCount();r.setNode(o,{});for(;eA(r,n)<i;)t=rA(r,n),e=r.hasNode(t.v)?nA(n,t):-nA(n,t),oA(r,n,e);return r};function eA(n,t){return KO.forEach(n.nodes(),(function e(r){KO.forEach(t.nodeEdges(r),(function(o){var i=o.v,a=r===i?o.w:i;n.hasNode(a)||nA(t,o)||(n.setNode(a,{}),n.setEdge(r,a,{}),e(a))}))})),n.nodeCount()}function rA(n,t){return KO.minBy(t.edges(),(function(e){if(n.hasNode(e.v)!==n.hasNode(e.w))return nA(t,e)}))}function oA(n,t,e){KO.forEach(n.nodes(),(function(n){t.node(n).rank+=e}))}var iA=jO,aA=tA,uA=QO.slack,cA=QO.longestPath,sA=Fk.alg.preorder,fA=Fk.alg.postorder,lA=HO.simplify,hA=pA;function pA(n){n=lA(n),cA(n);var t,e=aA(n);for(gA(e),vA(e,n);t=mA(e);)_A(e,n,t,wA(e,n,t))}function vA(n,t){var e=fA(n,n.nodes());e=e.slice(0,e.length-1),iA.forEach(e,(function(e){!function(n,t,e){var r=n.node(e).parent;n.edge(e,r).cutvalue=dA(n,t,e)}(n,t,e)}))}function dA(n,t,e){var r=n.node(e).parent,o=!0,i=t.edge(e,r),a=0;return i||(o=!1,i=t.edge(r,e)),a=i.weight,iA.forEach(t.nodeEdges(e),(function(i){var u,c,s=i.v===e,f=s?i.w:i.v;if(f!==r){var l=s===o,h=t.edge(i).weight;if(a+=l?h:-h,u=e,c=f,n.hasEdge(u,c)){var p=n.edge(e,f).cutvalue;a+=l?-p:p}}})),a}function gA(n,t){arguments.length<2&&(t=n.nodes()[0]),yA(n,{},1,t)}function yA(n,t,e,r,o){var i=e,a=n.node(r);return t[r]=!0,iA.forEach(n.neighbors(r),(function(o){iA.has(t,o)||(e=yA(n,t,e,o,r))})),a.low=i,a.lim=e++,o?a.parent=o:delete a.parent,e}function mA(n){return iA.find(n.edges(),(function(t){return n.edge(t).cutvalue<0}))}function wA(n,t,e){var r=e.v,o=e.w;t.hasEdge(r,o)||(r=e.w,o=e.v);var i=n.node(r),a=n.node(o),u=i,c=!1;i.lim>a.lim&&(u=a,c=!0);var s=iA.filter(t.edges(),(function(t){return c===bA(n,n.node(t.v),u)&&c!==bA(n,n.node(t.w),u)}));return iA.minBy(s,(function(n){return uA(t,n)}))}function _A(n,t,e,r){var o=e.v,i=e.w;n.removeEdge(o,i),n.setEdge(r.v,r.w,{}),gA(n),vA(n,t),function(n,t){var e=iA.find(n.nodes(),(function(n){return!t.node(n).parent})),r=sA(n,e);r=r.slice(1),iA.forEach(r,(function(e){var r=n.node(e).parent,o=t.edge(e,r),i=!1;o||(o=t.edge(r,e),i=!0),t.node(e).rank=t.node(r).rank+(i?o.minlen:-o.minlen)}))}(n,t)}function bA(n,t,e){return e.low<=t.lim&&t.lim<=e.lim}pA.initLowLimValues=gA,pA.initCutValues=vA,pA.calcCutValue=dA,pA.leaveEdge=mA,pA.enterEdge=wA,pA.exchangeEdges=_A;var xA=QO.longestPath,EA=tA,SA=hA,MA=function(n){switch(n.graph().ranker){case"network-simplex":jA(n);break;case"tight-tree":!function(n){xA(n),EA(n)}(n);break;case"longest-path":TA(n);break;default:jA(n)}};var TA=xA;function jA(n){SA(n)}var kA=jO,CA=function(n){var t=function(n){var t={},e=0;function r(o){var i=e;kA.forEach(n.children(o),r),t[o]={low:i,lim:e++}}return kA.forEach(n.children(),r),t}(n);kA.forEach(n.graph().dummyChains,(function(e){for(var r=n.node(e),o=r.edgeObj,i=function(n,t,e,r){var o,i,a=[],u=[],c=Math.min(t[e].low,t[r].low),s=Math.max(t[e].lim,t[r].lim);o=e;do{o=n.parent(o),a.push(o)}while(o&&(t[o].low>c||s>t[o].lim));i=o,o=r;for(;(o=n.parent(o))!==i;)u.push(o);return{path:a.concat(u.reverse()),lca:i}}(n,t,o.v,o.w),a=i.path,u=i.lca,c=0,s=a[c],f=!0;e!==o.w;){if(r=n.node(e),f){for(;(s=a[c])!==u&&n.node(s).maxRank<r.rank;)c++;s===u&&(f=!1)}if(!f){for(;c<a.length-1&&n.node(s=a[c+1]).minRank<=r.rank;)c++;s=a[c]}n.setParent(e,s),e=n.successors(e)[0]}}))};var PA=jO,OA=HO,AA={run:function(n){var t=OA.addDummyNode(n,"root",{},"_root"),e=function(n){var t={};function e(r,o){var i=n.children(r);i&&i.length&&PA.forEach(i,(function(n){e(n,o+1)})),t[r]=o}return PA.forEach(n.children(),(function(n){e(n,1)})),t}(n),r=PA.max(PA.values(e))-1,o=2*r+1;n.graph().nestingRoot=t,PA.forEach(n.edges(),(function(t){n.edge(t).minlen*=o}));var i=function(n){return PA.reduce(n.edges(),(function(t,e){return t+n.edge(e).weight}),0)}(n)+1;PA.forEach(n.children(),(function(a){NA(n,t,o,i,r,e,a)})),n.graph().nodeRankFactor=o},cleanup:function(n){var t=n.graph();n.removeNode(t.nestingRoot),delete t.nestingRoot,PA.forEach(n.edges(),(function(t){n.edge(t).nestingEdge&&n.removeEdge(t)}))}};function NA(n,t,e,r,o,i,a){var u=n.children(a);if(u.length){var c=OA.addBorderNode(n,"_bt"),s=OA.addBorderNode(n,"_bb"),f=n.node(a);n.setParent(c,a),f.borderTop=c,n.setParent(s,a),f.borderBottom=s,PA.forEach(u,(function(u){NA(n,t,e,r,o,i,u);var f=n.node(u),l=f.borderTop?f.borderTop:u,h=f.borderBottom?f.borderBottom:u,p=f.borderTop?r:2*r,v=l!==h?1:o-i[a]+1;n.setEdge(c,l,{weight:p,minlen:v,nestingEdge:!0}),n.setEdge(h,s,{weight:p,minlen:v,nestingEdge:!0})})),n.parent(a)||n.setEdge(t,c,{weight:0,minlen:o+i[a]})}else a!==t&&n.setEdge(t,a,{weight:0,minlen:e})}var RA=jO,IA=HO,DA=function(n){RA.forEach(n.children(),(function t(e){var r=n.children(e),o=n.node(e);if(r.length&&RA.forEach(r,t),RA.has(o,"minRank")){o.borderLeft=[],o.borderRight=[];for(var i=o.minRank,a=o.maxRank+1;i<a;++i)LA(n,"borderLeft","_bl",e,o,i),LA(n,"borderRight","_br",e,o,i)}}))};function LA(n,t,e,r,o,i){var a={width:0,height:0,rank:i,borderType:t},u=o[t][i-1],c=IA.addDummyNode(n,"border",a,e);o[t][i]=c,n.setParent(c,r),u&&n.setEdge(u,c,{weight:1})}var BA=jO,zA={adjust:function(n){var t=n.graph().rankdir.toLowerCase();"lr"!==t&&"rl"!==t||qA(n)},undo:function(n){var t=n.graph().rankdir.toLowerCase();"bt"!==t&&"rl"!==t||function(n){BA.forEach(n.nodes(),(function(t){GA(n.node(t))})),BA.forEach(n.edges(),(function(t){var e=n.edge(t);BA.forEach(e.points,GA),BA.has(e,"y")&&GA(e)}))}(n);"lr"!==t&&"rl"!==t||(!function(n){BA.forEach(n.nodes(),(function(t){VA(n.node(t))})),BA.forEach(n.edges(),(function(t){var e=n.edge(t);BA.forEach(e.points,VA),BA.has(e,"x")&&VA(e)}))}(n),qA(n))}};function qA(n){BA.forEach(n.nodes(),(function(t){FA(n.node(t))})),BA.forEach(n.edges(),(function(t){FA(n.edge(t))}))}function FA(n){var t=n.width;n.width=n.height,n.height=t}function GA(n){n.y=-n.y}function VA(n){var t=n.x;n.x=n.y,n.y=t}var HA=jO,UA=function(n){var t={},e=HA.filter(n.nodes(),(function(t){return!n.children(t).length})),r=HA.max(HA.map(e,(function(t){return n.node(t).rank}))),o=HA.map(HA.range(r+1),(function(){return[]}));var i=HA.sortBy(e,(function(t){return n.node(t).rank}));return HA.forEach(i,(function e(r){if(HA.has(t,r))return;t[r]=!0;var i=n.node(r);o[i.rank].push(r),HA.forEach(n.successors(r),e)})),o};var WA=jO,YA=function(n,t){for(var e=0,r=1;r<t.length;++r)e+=$A(n,t[r-1],t[r]);return e};function $A(n,t,e){for(var r=WA.zipObject(e,WA.map(e,(function(n,t){return t}))),o=WA.flatten(WA.map(t,(function(t){return WA.sortBy(WA.map(n.outEdges(t),(function(t){return{pos:r[t.w],weight:n.edge(t).weight}})),"pos")})),!0),i=1;i<e.length;)i<<=1;var a=2*i-1;i-=1;var u=WA.map(new Array(a),(function(){return 0})),c=0;return WA.forEach(o.forEach((function(n){var t=n.pos+i;u[t]+=n.weight;for(var e=0;t>0;)t%2&&(e+=u[t+1]),u[t=t-1>>1]+=n.weight;c+=n.weight*e}))),c}var JA=jO;var XA=jO;var QA=jO,KA=HO;function ZA(n,t,e){for(var r;t.length&&(r=QA.last(t)).i<=e;)t.pop(),n.push(r.vs),e++;return e}var nN=jO,tN=function(n,t){return JA.map(t,(function(t){var e=n.inEdges(t);if(e.length){var r=JA.reduce(e,(function(t,e){var r=n.edge(e),o=n.node(e.v);return{sum:t.sum+r.weight*o.order,weight:t.weight+r.weight}}),{sum:0,weight:0});return{v:t,barycenter:r.sum/r.weight,weight:r.weight}}return{v:t}}))},eN=function(n,t){var e={};return XA.forEach(n,(function(n,t){var r=e[n.v]={indegree:0,in:[],out:[],vs:[n.v],i:t};XA.isUndefined(n.barycenter)||(r.barycenter=n.barycenter,r.weight=n.weight)})),XA.forEach(t.edges(),(function(n){var t=e[n.v],r=e[n.w];XA.isUndefined(t)||XA.isUndefined(r)||(r.indegree++,t.out.push(e[n.w]))})),function(n){var t=[];function e(n){return function(t){t.merged||(XA.isUndefined(t.barycenter)||XA.isUndefined(n.barycenter)||t.barycenter>=n.barycenter)&&function(n,t){var e=0,r=0;n.weight&&(e+=n.barycenter*n.weight,r+=n.weight);t.weight&&(e+=t.barycenter*t.weight,r+=t.weight);n.vs=t.vs.concat(n.vs),n.barycenter=e/r,n.weight=r,n.i=Math.min(t.i,n.i),t.merged=!0}(n,t)}}function r(t){return function(e){e.in.push(t),0==--e.indegree&&n.push(e)}}for(;n.length;){var o=n.pop();t.push(o),XA.forEach(o.in.reverse(),e(o)),XA.forEach(o.out,r(o))}return XA.map(XA.filter(t,(function(n){return!n.merged})),(function(n){return XA.pick(n,["vs","i","barycenter","weight"])}))}(XA.filter(e,(function(n){return!n.indegree})))},rN=function(n,t){var e=KA.partition(n,(function(n){return QA.has(n,"barycenter")})),r=e.lhs,o=QA.sortBy(e.rhs,(function(n){return-n.i})),i=[],a=0,u=0,c=0;r.sort((s=!!t,function(n,t){return n.barycenter<t.barycenter?-1:n.barycenter>t.barycenter?1:s?t.i-n.i:n.i-t.i})),c=ZA(i,o,c),QA.forEach(r,(function(n){c+=n.vs.length,i.push(n.vs),a+=n.barycenter*n.weight,u+=n.weight,c=ZA(i,o,c)}));var s;var f={vs:QA.flatten(i,!0)};u&&(f.barycenter=a/u,f.weight=u);return f},oN=function n(t,e,r,o){var i=t.children(e),a=t.node(e),u=a?a.borderLeft:void 0,c=a?a.borderRight:void 0,s={};u&&(i=nN.filter(i,(function(n){return n!==u&&n!==c})));var f=tN(t,i);nN.forEach(f,(function(e){if(t.children(e.v).length){var i=n(t,e.v,r,o);s[e.v]=i,nN.has(i,"barycenter")&&(a=e,u=i,nN.isUndefined(a.barycenter)?(a.barycenter=u.barycenter,a.weight=u.weight):(a.barycenter=(a.barycenter*a.weight+u.barycenter*u.weight)/(a.weight+u.weight),a.weight+=u.weight))}var a,u}));var l=eN(f,r);!function(n,t){nN.forEach(n,(function(n){n.vs=nN.flatten(n.vs.map((function(n){return t[n]?t[n].vs:n})),!0)}))}(l,s);var h=rN(l,o);if(u&&(h.vs=nN.flatten([u,h.vs,c],!0),t.predecessors(u).length)){var p=t.node(t.predecessors(u)[0]),v=t.node(t.predecessors(c)[0]);nN.has(h,"barycenter")||(h.barycenter=0,h.weight=0),h.barycenter=(h.barycenter*h.weight+p.order+v.order)/(h.weight+2),h.weight+=2}return h};var iN=jO,aN=Fk.Graph;var uN=jO;var cN=jO,sN=UA,fN=YA,lN=oN,hN=function(n,t,e){var r=function(n){var t;for(;n.hasNode(t=iN.uniqueId("_root")););return t}(n),o=new aN({compound:!0}).setGraph({root:r}).setDefaultNodeLabel((function(t){return n.node(t)}));return iN.forEach(n.nodes(),(function(i){var a=n.node(i),u=n.parent(i);(a.rank===t||a.minRank<=t&&t<=a.maxRank)&&(o.setNode(i),o.setParent(i,u||r),iN.forEach(n[e](i),(function(t){var e=t.v===i?t.w:t.v,r=o.edge(e,i),a=iN.isUndefined(r)?0:r.weight;o.setEdge(e,i,{weight:n.edge(t).weight+a})})),iN.has(a,"minRank")&&o.setNode(i,{borderLeft:a.borderLeft[t],borderRight:a.borderRight[t]}))})),o},pN=function(n,t,e){var r,o={};uN.forEach(e,(function(e){for(var i,a,u=n.parent(e);u;){if((i=n.parent(u))?(a=o[i],o[i]=u):(a=r,r=u),a&&a!==u)return void t.setEdge(a,u);u=i}}))},vN=Fk.Graph,dN=HO,gN=function(n){var t=dN.maxRank(n),e=yN(n,cN.range(1,t+1),"inEdges"),r=yN(n,cN.range(t-1,-1,-1),"outEdges"),o=sN(n);wN(n,o);for(var i,a=Number.POSITIVE_INFINITY,u=0,c=0;c<4;++u,++c){mN(u%2?e:r,u%4>=2),o=dN.buildLayerMatrix(n);var s=fN(n,o);s<a&&(c=0,i=cN.cloneDeep(o),a=s)}wN(n,i)};function yN(n,t,e){return cN.map(t,(function(t){return hN(n,t,e)}))}function mN(n,t){var e=new vN;cN.forEach(n,(function(n){var r=n.graph().root,o=lN(n,r,e,t);cN.forEach(o.vs,(function(t,e){n.node(t).order=e})),pN(n,e,o.vs)}))}function wN(n,t){cN.forEach(t,(function(t){cN.forEach(t,(function(t,e){n.node(t).order=e}))}))}var _N=jO,bN=Fk.Graph,xN=HO,EN=function(n){var t,e=xN.buildLayerMatrix(n),r=_N.merge(SN(n,e),MN(n,e)),o={};_N.forEach(["u","d"],(function(i){t="u"===i?e:_N.values(e).reverse(),_N.forEach(["l","r"],(function(e){"r"===e&&(t=_N.map(t,(function(n){return _N.values(n).reverse()})));var a=("u"===i?n.predecessors:n.successors).bind(n),u=kN(n,t,r,a),c=CN(n,t,u.root,u.align,"r"===e);"r"===e&&(c=_N.mapValues(c,(function(n){return-n}))),o[i+e]=c}))}));var i=PN(n,o);return ON(o,i),AN(o,n.graph().align)};function SN(n,t){var e={};return _N.reduce(t,(function(t,r){var o=0,i=0,a=t.length,u=_N.last(r);return _N.forEach(r,(function(t,c){var s=function(n,t){if(n.node(t).dummy)return _N.find(n.predecessors(t),(function(t){return n.node(t).dummy}))}(n,t),f=s?n.node(s).order:a;(s||t===u)&&(_N.forEach(r.slice(i,c+1),(function(t){_N.forEach(n.predecessors(t),(function(r){var i=n.node(r),a=i.order;!(a<o||f<a)||i.dummy&&n.node(t).dummy||TN(e,r,t)}))})),i=c+1,o=f)})),r})),e}function MN(n,t){var e={};function r(t,r,o,i,a){var u;_N.forEach(_N.range(r,o),(function(r){u=t[r],n.node(u).dummy&&_N.forEach(n.predecessors(u),(function(t){var r=n.node(t);r.dummy&&(r.order<i||r.order>a)&&TN(e,t,u)}))}))}return _N.reduce(t,(function(t,e){var o,i=-1,a=0;return _N.forEach(e,(function(u,c){if("border"===n.node(u).dummy){var s=n.predecessors(u);s.length&&(o=n.node(s[0]).order,r(e,a,c,i,o),a=c,i=o)}r(e,a,e.length,o,t.length)})),e})),e}function TN(n,t,e){if(t>e){var r=t;t=e,e=r}var o=n[t];o||(n[t]=o={}),o[e]=!0}function jN(n,t,e){if(t>e){var r=t;t=e,e=r}return _N.has(n[t],e)}function kN(n,t,e,r){var o={},i={},a={};return _N.forEach(t,(function(n){_N.forEach(n,(function(n,t){o[n]=n,i[n]=n,a[n]=t}))})),_N.forEach(t,(function(n){var t=-1;_N.forEach(n,(function(n){var u=r(n);if(u.length)for(var c=((u=_N.sortBy(u,(function(n){return a[n]}))).length-1)/2,s=Math.floor(c),f=Math.ceil(c);s<=f;++s){var l=u[s];i[n]===n&&t<a[l]&&!jN(e,n,l)&&(i[l]=n,i[n]=o[n]=o[l],t=a[l])}}))})),{root:o,align:i}}function CN(n,t,e,r,o){var i={},a=function(n,t,e,r){var o=new bN,i=n.graph(),a=function(n,t,e){return function(r,o,i){var a,u=r.node(o),c=r.node(i),s=0;if(s+=u.width/2,_N.has(u,"labelpos"))switch(u.labelpos.toLowerCase()){case"l":a=-u.width/2;break;case"r":a=u.width/2}if(a&&(s+=e?a:-a),a=0,s+=(u.dummy?t:n)/2,s+=(c.dummy?t:n)/2,s+=c.width/2,_N.has(c,"labelpos"))switch(c.labelpos.toLowerCase()){case"l":a=c.width/2;break;case"r":a=-c.width/2}return a&&(s+=e?a:-a),a=0,s}}(i.nodesep,i.edgesep,r);return _N.forEach(t,(function(t){var r;_N.forEach(t,(function(t){var i=e[t];if(o.setNode(i),r){var u=e[r],c=o.edge(u,i);o.setEdge(u,i,Math.max(a(n,t,r),c||0))}r=t}))})),o}(n,t,e,o),u=o?"borderLeft":"borderRight";function c(n,t){for(var e=a.nodes(),r=e.pop(),o={};r;)o[r]?n(r):(o[r]=!0,e.push(r),e=e.concat(t(r))),r=e.pop()}return c((function(n){i[n]=a.inEdges(n).reduce((function(n,t){return Math.max(n,i[t.v]+a.edge(t))}),0)}),a.predecessors.bind(a)),c((function(t){var e=a.outEdges(t).reduce((function(n,t){return Math.min(n,i[t.w]-a.edge(t))}),Number.POSITIVE_INFINITY),r=n.node(t);e!==Number.POSITIVE_INFINITY&&r.borderType!==u&&(i[t]=Math.max(i[t],e))}),a.successors.bind(a)),_N.forEach(r,(function(n){i[n]=i[e[n]]})),i}function PN(n,t){return _N.minBy(_N.values(t),(function(t){var e=Number.NEGATIVE_INFINITY,r=Number.POSITIVE_INFINITY;return _N.forIn(t,(function(t,o){var i=function(n,t){return n.node(t).width}(n,o)/2;e=Math.max(t+i,e),r=Math.min(t-i,r)})),e-r}))}function ON(n,t){var e=_N.values(t),r=_N.min(e),o=_N.max(e);_N.forEach(["u","d"],(function(e){_N.forEach(["l","r"],(function(i){var a,u=e+i,c=n[u];if(c!==t){var s=_N.values(c);(a="l"===i?r-_N.min(s):o-_N.max(s))&&(n[u]=_N.mapValues(c,(function(n){return n+a})))}}))}))}function AN(n,t){return _N.mapValues(n.ul,(function(e,r){if(t)return n[t.toLowerCase()][r];var o=_N.sortBy(_N.map(n,r));return(o[1]+o[2])/2}))}var NN=jO,RN=HO,IN=EN;var DN=jO,LN=FO,BN=JO,zN=MA,qN=HO.normalizeRanks,FN=CA,GN=HO.removeEmptyRanks,VN=AA,HN=DA,UN=zA,WN=gN,YN=function(n){(function(n){var t=RN.buildLayerMatrix(n),e=n.graph().ranksep,r=0;NN.forEach(t,(function(t){var o=NN.max(NN.map(t,(function(t){return n.node(t).height})));NN.forEach(t,(function(t){n.node(t).y=r+o/2})),r+=o+e}))})(n=RN.asNonCompoundGraph(n)),NN.forEach(IN(n),(function(t,e){n.node(e).x=t}))},$N=HO,JN=Fk.Graph,XN=function(n,t){var e=t&&t.debugTiming?$N.time:$N.notime;e("layout",(function(){var t=e("  buildLayoutGraph",(function(){return function(n){var t=new JN({multigraph:!0,compound:!0}),e=aR(n.graph());return t.setGraph(DN.merge({},KN,iR(e,QN),DN.pick(e,ZN))),DN.forEach(n.nodes(),(function(e){var r=aR(n.node(e));t.setNode(e,DN.defaults(iR(r,nR),tR)),t.setParent(e,n.parent(e))})),DN.forEach(n.edges(),(function(e){var r=aR(n.edge(e));t.setEdge(e,DN.merge({},rR,iR(r,eR),DN.pick(r,oR)))})),t}(n)}));e("  runLayout",(function(){!function(n,t){t("    makeSpaceForEdgeLabels",(function(){!function(n){var t=n.graph();t.ranksep/=2,DN.forEach(n.edges(),(function(e){var r=n.edge(e);r.minlen*=2,"c"!==r.labelpos.toLowerCase()&&("TB"===t.rankdir||"BT"===t.rankdir?r.width+=r.labeloffset:r.height+=r.labeloffset)}))}(n)})),t("    removeSelfEdges",(function(){!function(n){DN.forEach(n.edges(),(function(t){if(t.v===t.w){var e=n.node(t.v);e.selfEdges||(e.selfEdges=[]),e.selfEdges.push({e:t,label:n.edge(t)}),n.removeEdge(t)}}))}(n)})),t("    acyclic",(function(){LN.run(n)})),t("    nestingGraph.run",(function(){VN.run(n)})),t("    rank",(function(){zN($N.asNonCompoundGraph(n))})),t("    injectEdgeLabelProxies",(function(){!function(n){DN.forEach(n.edges(),(function(t){var e=n.edge(t);if(e.width&&e.height){var r=n.node(t.v),o={rank:(n.node(t.w).rank-r.rank)/2+r.rank,e:t};$N.addDummyNode(n,"edge-proxy",o,"_ep")}}))}(n)})),t("    removeEmptyRanks",(function(){GN(n)})),t("    nestingGraph.cleanup",(function(){VN.cleanup(n)})),t("    normalizeRanks",(function(){qN(n)})),t("    assignRankMinMax",(function(){!function(n){var t=0;DN.forEach(n.nodes(),(function(e){var r=n.node(e);r.borderTop&&(r.minRank=n.node(r.borderTop).rank,r.maxRank=n.node(r.borderBottom).rank,t=DN.max(t,r.maxRank))})),n.graph().maxRank=t}(n)})),t("    removeEdgeLabelProxies",(function(){!function(n){DN.forEach(n.nodes(),(function(t){var e=n.node(t);"edge-proxy"===e.dummy&&(n.edge(e.e).labelRank=e.rank,n.removeNode(t))}))}(n)})),t("    normalize.run",(function(){BN.run(n)})),t("    parentDummyChains",(function(){FN(n)})),t("    addBorderSegments",(function(){HN(n)})),t("    order",(function(){WN(n)})),t("    insertSelfEdges",(function(){!function(n){var t=$N.buildLayerMatrix(n);DN.forEach(t,(function(t){var e=0;DN.forEach(t,(function(t,r){var o=n.node(t);o.order=r+e,DN.forEach(o.selfEdges,(function(t){$N.addDummyNode(n,"selfedge",{width:t.label.width,height:t.label.height,rank:o.rank,order:r+ ++e,e:t.e,label:t.label},"_se")})),delete o.selfEdges}))}))}(n)})),t("    adjustCoordinateSystem",(function(){UN.adjust(n)})),t("    position",(function(){YN(n)})),t("    positionSelfEdges",(function(){!function(n){DN.forEach(n.nodes(),(function(t){var e=n.node(t);if("selfedge"===e.dummy){var r=n.node(e.e.v),o=r.x+r.width/2,i=r.y,a=e.x-o,u=r.height/2;n.setEdge(e.e,e.label),n.removeNode(t),e.label.points=[{x:o+2*a/3,y:i-u},{x:o+5*a/6,y:i-u},{x:o+a,y:i},{x:o+5*a/6,y:i+u},{x:o+2*a/3,y:i+u}],e.label.x=e.x,e.label.y=e.y}}))}(n)})),t("    removeBorderNodes",(function(){!function(n){DN.forEach(n.nodes(),(function(t){if(n.children(t).length){var e=n.node(t),r=n.node(e.borderTop),o=n.node(e.borderBottom),i=n.node(DN.last(e.borderLeft)),a=n.node(DN.last(e.borderRight));e.width=Math.abs(a.x-i.x),e.height=Math.abs(o.y-r.y),e.x=i.x+e.width/2,e.y=r.y+e.height/2}})),DN.forEach(n.nodes(),(function(t){"border"===n.node(t).dummy&&n.removeNode(t)}))}(n)})),t("    normalize.undo",(function(){BN.undo(n)})),t("    fixupEdgeLabelCoords",(function(){!function(n){DN.forEach(n.edges(),(function(t){var e=n.edge(t);if(DN.has(e,"x"))switch("l"!==e.labelpos&&"r"!==e.labelpos||(e.width-=e.labeloffset),e.labelpos){case"l":e.x-=e.width/2+e.labeloffset;break;case"r":e.x+=e.width/2+e.labeloffset}}))}(n)})),t("    undoCoordinateSystem",(function(){UN.undo(n)})),t("    translateGraph",(function(){!function(n){var t=Number.POSITIVE_INFINITY,e=0,r=Number.POSITIVE_INFINITY,o=0,i=n.graph(),a=i.marginx||0,u=i.marginy||0;function c(n){var i=n.x,a=n.y,u=n.width,c=n.height;t=Math.min(t,i-u/2),e=Math.max(e,i+u/2),r=Math.min(r,a-c/2),o=Math.max(o,a+c/2)}DN.forEach(n.nodes(),(function(t){c(n.node(t))})),DN.forEach(n.edges(),(function(t){var e=n.edge(t);DN.has(e,"x")&&c(e)})),t-=a,r-=u,DN.forEach(n.nodes(),(function(e){var o=n.node(e);o.x-=t,o.y-=r})),DN.forEach(n.edges(),(function(e){var o=n.edge(e);DN.forEach(o.points,(function(n){n.x-=t,n.y-=r})),DN.has(o,"x")&&(o.x-=t),DN.has(o,"y")&&(o.y-=r)})),i.width=e-t+a,i.height=o-r+u}(n)})),t("    assignNodeIntersects",(function(){!function(n){DN.forEach(n.edges(),(function(t){var e,r,o=n.edge(t),i=n.node(t.v),a=n.node(t.w);o.points?(e=o.points[0],r=o.points[o.points.length-1]):(o.points=[],e=a,r=i),o.points.unshift($N.intersectRect(i,e)),o.points.push($N.intersectRect(a,r))}))}(n)})),t("    reversePoints",(function(){!function(n){DN.forEach(n.edges(),(function(t){var e=n.edge(t);e.reversed&&e.points.reverse()}))}(n)})),t("    acyclic.undo",(function(){LN.undo(n)}))}(t,e)})),e("  updateInputGraph",(function(){!function(n,t){DN.forEach(n.nodes(),(function(e){var r=n.node(e),o=t.node(e);r&&(r.x=o.x,r.y=o.y,t.children(e).length&&(r.width=o.width,r.height=o.height))})),DN.forEach(n.edges(),(function(e){var r=n.edge(e),o=t.edge(e);r.points=o.points,DN.has(o,"x")&&(r.x=o.x,r.y=o.y)})),n.graph().width=t.graph().width,n.graph().height=t.graph().height}(n,t)}))}))};var QN=["nodesep","edgesep","ranksep","marginx","marginy"],KN={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},ZN=["acyclicer","ranker","rankdir","align"],nR=["width","height"],tR={width:0,height:0},eR=["minlen","weight","width","height","labeloffset"],rR={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},oR=["labelpos"];function iR(n,t){return DN.mapValues(DN.pick(n,t),Number)}function aR(n){var t={};return DN.forEach(n,(function(n,e){t[e.toLowerCase()]=n})),t}var uR=jO,cR=HO,sR=Fk.Graph;var fR={graphlib:Fk,layout:XN,debug:{debugOrdering:function(n){var t=cR.buildLayerMatrix(n),e=new sR({compound:!0,multigraph:!0}).setGraph({});return uR.forEach(n.nodes(),(function(t){e.setNode(t,{label:t}),e.setParent(t,"layer"+n.node(t).rank)})),uR.forEach(n.edges(),(function(n){e.setEdge(n.v,n.w,{},n.name)})),uR.forEach(t,(function(n,t){var r="layer"+t;e.setNode(r,{rank:"same"}),uR.reduce(n,(function(n,t){return e.setEdge(n,t,{style:"invis"}),t}))})),e}},util:{time:HO.time,notime:HO.notime},version:"0.8.5"};Object.defineProperty({},"__esModule",{value:!0});var lR=ct,hR=ut.exports.__importDefault(fR),pR=Nh,vR={rankdir:"TB",align:"TB",nodesep:50,edgesep:10,ranksep:50,source:function(n){return n.source},target:function(n){return n.target}};function dR(n,t){t=lR.assign({},vR,t);var e=new hR.default.graphlib.Graph;e.setGraph({}),e.setDefaultEdgeLabel((function(){return{}})),n.nodes.forEach((function(n){var r=t.nodeId?t.nodeId(n):n.id;n.height||n.width||(n.height=n.width=t.edgesep),e.setNode(r,n)})),n.edges.forEach((function(n){e.setEdge(t.source(n),t.target(n))})),hR.default.layout(e);var r=[],o=[];e.nodes().forEach((function(n){var t=e.node(n),o=t.x,i=t.y,a=t.height,u=t.width;t.x=[o-u/2,o+u/2,o+u/2,o-u/2],t.y=[i+a/2,i+a/2,i-a/2,i-a/2],r.push(t)})),e.edges().forEach((function(n){var t=e.edge(n).points,r={};r.x=t.map((function(n){return n.x})),r.y=t.map((function(n){return n.y})),o.push(r)})),n.nodes=r,n.edges=o}pR.DataSet.registerTransform("diagram.dagre",dR),pR.DataSet.registerTransform("dagre",dR);function gR(n,t){return n<t?-1:n>t?1:n>=t?0:NaN}function yR(n,t){var e,r,o=n.length,i=-1;if(null==t){for(;++i<o;)if(null!=(e=n[i])&&e>=e)for(r=e;++i<o;)null!=(e=n[i])&&r>e&&(r=e)}else for(;++i<o;)if(null!=(e=t(n[i],i,n))&&e>=e)for(r=e;++i<o;)null!=(e=t(n[i],i,n))&&r>e&&(r=e);return r}function mR(n,t){var e,r=n.length,o=-1,i=0;if(null==t)for(;++o<r;)(e=+n[o])&&(i+=e);else for(;++o<r;)(e=+t(n[o],o,n))&&(i+=e);return i}!function(n){1===n.length&&(n=function(n){return function(t,e){return gR(n(t),e)}}(n))}(gR);function wR(){}function _R(n,t){var e=new wR;if(n instanceof wR)n.each((function(n,t){e.set(t,n)}));else if(Array.isArray(n)){var r,o=-1,i=n.length;if(null==t)for(;++o<i;)e.set(o,n[o]);else for(;++o<i;)e.set(t(r=n[o],o,n),r)}else if(n)for(var a in n)e.set(a,n[a]);return e}function bR(){var n,t,e,r=[],o=[];function i(e,o,a,u){if(o>=r.length)return null!=n&&e.sort(n),null!=t?t(e):e;for(var c,s,f,l=-1,h=e.length,p=r[o++],v=_R(),d=a();++l<h;)(f=v.get(c=p(s=e[l])+""))?f.push(s):v.set(c,[s]);return v.each((function(n,t){u(d,t,i(n,o,a,u))})),d}function a(n,e){if(++e>r.length)return n;var i,u=o[e-1];return null!=t&&e>=r.length?i=n.entries():(i=[],n.each((function(n,t){i.push({key:t,values:a(n,e)})}))),null!=u?i.sort((function(n,t){return u(n.key,t.key)})):i}return e={object:function(n){return i(n,0,xR,ER)},map:function(n){return i(n,0,SR,MR)},entries:function(n){return a(i(n,0,SR,MR),0)},key:function(n){return r.push(n),e},sortKeys:function(n){return o[r.length-1]=n,e},sortValues:function(t){return n=t,e},rollup:function(n){return t=n,e}}}function xR(){return{}}function ER(n,t,e){n[t]=e}function SR(){return _R()}function MR(n,t,e){n.set(t,e)}function TR(){}wR.prototype=_R.prototype={constructor:wR,has:function(n){return"$"+n in this},get:function(n){return this["$"+n]},set:function(n,t){return this["$"+n]=t,this},remove:function(n){var t="$"+n;return t in this&&delete this[t]},clear:function(){for(var n in this)"$"===n[0]&&delete this[n]},keys:function(){var n=[];for(var t in this)"$"===t[0]&&n.push(t.slice(1));return n},values:function(){var n=[];for(var t in this)"$"===t[0]&&n.push(this[t]);return n},entries:function(){var n=[];for(var t in this)"$"===t[0]&&n.push({key:t.slice(1),value:this[t]});return n},size:function(){var n=0;for(var t in this)"$"===t[0]&&++n;return n},empty:function(){for(var n in this)if("$"===n[0])return!1;return!0},each:function(n){for(var t in this)"$"===t[0]&&n(this[t],t.slice(1),this)}};var jR=_R.prototype;function kR(n){return n.target.depth}function CR(n,t){return n.sourceLinks.length?n.depth:t-1}function PR(n){return function(){return n}}function OR(n,t){return NR(n.source,t.source)||n.index-t.index}function AR(n,t){return NR(n.target,t.target)||n.index-t.index}function NR(n,t){return n.y0-t.y0}function RR(n){return n.value}function IR(n){return n.index}function DR(n){return n.nodes}function LR(n){return n.links}function BR(n,t){var e=n.get(t);if(!e)throw new Error("missing: "+t);return e}TR.prototype={constructor:TR,has:jR.has,add:function(n){return this["$"+(n+="")]=n,this},remove:jR.remove,clear:jR.clear,values:jR.keys,size:jR.size,empty:jR.empty,each:jR.each};var zR=Math.PI,qR=2*zR,FR=qR-1e-6;function GR(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function VR(){return new GR}function HR(n){return function(){return n}}function UR(n){return n[0]}function WR(n){return n[1]}GR.prototype=VR.prototype={constructor:GR,moveTo:function(n,t){this._+="M"+(this._x0=this._x1=+n)+","+(this._y0=this._y1=+t)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(n,t){this._+="L"+(this._x1=+n)+","+(this._y1=+t)},quadraticCurveTo:function(n,t,e,r){this._+="Q"+ +n+","+ +t+","+(this._x1=+e)+","+(this._y1=+r)},bezierCurveTo:function(n,t,e,r,o,i){this._+="C"+ +n+","+ +t+","+ +e+","+ +r+","+(this._x1=+o)+","+(this._y1=+i)},arcTo:function(n,t,e,r,o){n=+n,t=+t,e=+e,r=+r,o=+o;var i=this._x1,a=this._y1,u=e-n,c=r-t,s=i-n,f=a-t,l=s*s+f*f;if(o<0)throw new Error("negative radius: "+o);if(null===this._x1)this._+="M"+(this._x1=n)+","+(this._y1=t);else if(l>1e-6)if(Math.abs(f*u-c*s)>1e-6&&o){var h=e-i,p=r-a,v=u*u+c*c,d=h*h+p*p,g=Math.sqrt(v),y=Math.sqrt(l),m=o*Math.tan((zR-Math.acos((v+l-d)/(2*g*y)))/2),w=m/y,_=m/g;Math.abs(w-1)>1e-6&&(this._+="L"+(n+w*s)+","+(t+w*f)),this._+="A"+o+","+o+",0,0,"+ +(f*h>s*p)+","+(this._x1=n+_*u)+","+(this._y1=t+_*c)}else this._+="L"+(this._x1=n)+","+(this._y1=t);else;},arc:function(n,t,e,r,o,i){n=+n,t=+t,i=!!i;var a=(e=+e)*Math.cos(r),u=e*Math.sin(r),c=n+a,s=t+u,f=1^i,l=i?r-o:o-r;if(e<0)throw new Error("negative radius: "+e);null===this._x1?this._+="M"+c+","+s:(Math.abs(this._x1-c)>1e-6||Math.abs(this._y1-s)>1e-6)&&(this._+="L"+c+","+s),e&&(l<0&&(l=l%qR+qR),l>FR?this._+="A"+e+","+e+",0,1,"+f+","+(n-a)+","+(t-u)+"A"+e+","+e+",0,1,"+f+","+(this._x1=c)+","+(this._y1=s):l>1e-6&&(this._+="A"+e+","+e+",0,"+ +(l>=zR)+","+f+","+(this._x1=n+e*Math.cos(o))+","+(this._y1=t+e*Math.sin(o))))},rect:function(n,t,e,r){this._+="M"+(this._x0=this._x1=+n)+","+(this._y0=this._y1=+t)+"h"+ +e+"v"+ +r+"h"+-e+"Z"},toString:function(){return this._}};var YR=Array.prototype.slice;function $R(n){return n.source}function JR(n){return n.target}function XR(n,t,e,r,o){n.moveTo(t,e),n.bezierCurveTo(t=(t+r)/2,e,t,o,r,o)}function QR(){return function(n){var t=$R,e=JR,r=UR,o=WR,i=null;function a(){var a,u=YR.call(arguments),c=t.apply(this,u),s=e.apply(this,u);if(i||(i=a=VR()),n(i,+r.apply(this,(u[0]=c,u)),+o.apply(this,u),+r.apply(this,(u[0]=s,u)),+o.apply(this,u)),a)return i=null,a+""||null}return a.source=function(n){return arguments.length?(t=n,a):t},a.target=function(n){return arguments.length?(e=n,a):e},a.x=function(n){return arguments.length?(r="function"==typeof n?n:HR(+n),a):r},a.y=function(n){return arguments.length?(o="function"==typeof n?n:HR(+n),a):o},a.context=function(n){return arguments.length?(i=null==n?null:n,a):i},a}(XR)}function KR(n){return[n.source.x1,n.y0]}function ZR(n){return[n.target.x0,n.y1]}var nI=t(Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",sankey:function(){var n,t=0,e=0,r=1,o=1,i=24,a=8,u=IR,c=CR,s=DR,f=LR,l=6;function h(){var n={nodes:s.apply(null,arguments),links:f.apply(null,arguments)};return p(n),v(n),d(n),g(n),y(n),n}function p(n){n.nodes.forEach((function(n,t){n.index=t,n.sourceLinks=[],n.targetLinks=[]}));var t=_R(n.nodes,u);n.links.forEach((function(n,e){n.index=e;var r=n.source,o=n.target;"object"!=typeof r&&(r=n.source=BR(t,r)),"object"!=typeof o&&(o=n.target=BR(t,o)),r.sourceLinks.push(n),o.targetLinks.push(n)}))}function v(n){n.nodes.forEach((function(n){n.value=Math.max(mR(n.sourceLinks,RR),mR(n.targetLinks,RR))}))}function d(n){var e,o,a,u=n.nodes.length;for(e=n.nodes,o=[],a=0;e.length;++a,e=o,o=[]){if(a>u)throw new Error("circular link");e.forEach((function(n){n.depth=a,n.sourceLinks.forEach((function(n){o.indexOf(n.target)<0&&o.push(n.target)}))}))}for(e=n.nodes,o=[],a=0;e.length;++a,e=o,o=[]){if(a>u)throw new Error("circular link");e.forEach((function(n){n.height=a,n.targetLinks.forEach((function(n){o.indexOf(n.source)<0&&o.push(n.source)}))}))}var s=(r-t-i)/(a-1);n.nodes.forEach((function(n){n.x1=(n.x0=t+Math.max(0,Math.min(a-1,Math.floor(c.call(null,n,a))))*s)+i}))}function g(t){var r,i=bR().key((function(n){return n.x0})).sortKeys(gR).entries(t.nodes).map((function(n){return n.values}));r=yR(i,(function(n){return(o-e-(n.length-1)*a)/mR(n,RR)})),i.forEach((function(t){null!=n&&t.sort(n),t.forEach((function(n,t){n.y1=(n.y0=t)+n.value*r}))})),t.links.forEach((function(n){n.width=n.value*r})),h();for(var u=.9,c=l;c>0;--c,u*=.9)f(u),h(),s(u),h();function s(n){i.forEach((function(t){t.forEach((function(t){let e=t.y0;for(const{target:r,width:o,value:i}of t.sourceLinks.sort(AR)){if(i>0){let o=0;for(const{source:n,width:e}of r.targetLinks){if(n===t)break;o+=e+a/2}o=(e-o-r.y0)*n*(i/Math.min(t.value,r.value)),r.y0+=o,r.y1+=o}e+=o+a/2}}))}))}function f(n){i.slice().reverse().forEach((function(t){t.forEach((function(t){let e=t.y0;for(const{source:r,width:o,value:i}of t.targetLinks.sort(OR)){if(i>0){let o=0;for(const{target:n,width:e}of r.sourceLinks){if(n===t)break;o+=e+a/2}o=(e-o-r.y0)*n*(i/Math.min(t.value,r.value)),r.y0+=o,r.y1+=o}e+=o+a/2}}))}))}function h(){i.forEach((function(t){var r,i,u,c=e,s=t.length;for(void 0===n&&t.sort(NR),u=0;u<s;++u)(i=c-(r=t[u]).y0)>0&&(r.y0+=i,r.y1+=i),c=r.y1+a;if((i=c-a-o)>0)for(c=r.y0-=i,r.y1-=i,u=s-2;u>=0;--u)(i=(r=t[u]).y1+a-c)>0&&(r.y0-=i,r.y1-=i),c=r.y0}))}}function y(n){n.nodes.forEach((function(n){n.sourceLinks.sort(AR),n.targetLinks.sort(OR)})),n.nodes.forEach((function(n){var t=n.y0,e=t;n.sourceLinks.forEach((function(n){n.y0=t+n.width/2,t+=n.width})),n.targetLinks.forEach((function(n){n.y1=e+n.width/2,e+=n.width}))}))}return h.update=function(n){return y(n),n},h.nodeId=function(n){return arguments.length?(u="function"==typeof n?n:PR(n),h):u},h.nodeAlign=function(n){return arguments.length?(c="function"==typeof n?n:PR(n),h):c},h.nodeSort=function(t){return arguments.length?(n=t,h):n},h.nodeWidth=function(n){return arguments.length?(i=+n,h):i},h.nodePadding=function(n){return arguments.length?(a=+n,h):a},h.nodes=function(n){return arguments.length?(s="function"==typeof n?n:PR(n),h):s},h.links=function(n){return arguments.length?(f="function"==typeof n?n:PR(n),h):f},h.size=function(n){return arguments.length?(t=e=0,r=+n[0],o=+n[1],h):[r-t,o-e]},h.extent=function(n){return arguments.length?(t=+n[0][0],r=+n[1][0],e=+n[0][1],o=+n[1][1],h):[[t,e],[r,o]]},h.iterations=function(n){return arguments.length?(l=+n,h):l},h},sankeyCenter:function(n){return n.targetLinks.length?n.depth:n.sourceLinks.length?yR(n.sourceLinks,kR)-1:0},sankeyLeft:function(n){return n.depth},sankeyRight:function(n,t){return t-1-n.height},sankeyJustify:CR,sankeyLinkHorizontal:function(){return QR().source(KR).target(ZR)}}));Object.defineProperty({},"__esModule",{value:!0});var tI=ct,eI=nI,rI=Nh,oI={sankeyLeft:eI.sankeyLeft,sankeyRight:eI.sankeyRight,sankeyCenter:eI.sankeyCenter,sankeyJustify:eI.sankeyJustify},iI={value:function(n){return n.value},source:function(n){return n.source},target:function(n){return n.target},nodeAlign:"sankeyJustify",nodeWidth:.02,nodePadding:.02,sort:void 0};function aI(n,t){t=tI.assign({},iI,t);var e=null;tI.isString(t.nodeAlign)?e=oI[t.nodeAlign]:tI.isFunction(t.nodeAlign)&&(e=t.nodeAlign);var r=eI.sankey().nodeSort(t.sort).links((function(n){return n.edges})).nodeWidth(t.nodeWidth).nodePadding(t.nodePadding).extent([[0,0],[1,1]]);tI.isFunction(t.nodeId)&&r.nodeId(t.nodeId),e&&r.nodeAlign(e),r(n),n.nodes.forEach((function(n){var t=n.x0,e=n.x1,r=n.y0,o=n.y1;n.x=[t,e,e,t],n.y=[r,r,o,o]})),n.edges.forEach((function(n){var t=n.source,e=n.target,r=t.x1,o=e.x0;n.x=[r,r,o,o];var i=n.width/2;n.y=[n.y0+i,n.y0-i,n.y1+i,n.y1-i]}))}rI.DataSet.registerTransform("diagram.sankey",aI),rI.DataSet.registerTransform("sankey",aI);function uI(n){return function(){return n}}function cI(n){return n[0]}function sI(n){return n[1]}function fI(){this._=null}function lI(n){n.U=n.C=n.L=n.R=n.P=n.N=null}function hI(n,t){var e=t,r=t.R,o=e.U;o?o.L===e?o.L=r:o.R=r:n._=r,r.U=o,e.U=r,e.R=r.L,e.R&&(e.R.U=e),r.L=e}function pI(n,t){var e=t,r=t.L,o=e.U;o?o.L===e?o.L=r:o.R=r:n._=r,r.U=o,e.U=r,e.L=r.R,e.L&&(e.L.U=e),r.R=e}function vI(n){for(;n.L;)n=n.L;return n}function dI(n,t,e,r){var o=[null,null],i=zI.push(o)-1;return o.left=n,o.right=t,e&&yI(o,n,t,e),r&&yI(o,t,n,r),LI[n.index].halfedges.push(i),LI[t.index].halfedges.push(i),o}function gI(n,t,e){var r=[t,e];return r.left=n,r}function yI(n,t,e,r){n[0]||n[1]?n.left===e?n[1]=r:n[0]=r:(n[0]=r,n.left=t,n.right=e)}function mI(n,t,e,r,o){var i,a=n[0],u=n[1],c=a[0],s=a[1],f=0,l=1,h=u[0]-c,p=u[1]-s;if(i=t-c,h||!(i>0)){if(i/=h,h<0){if(i<f)return;i<l&&(l=i)}else if(h>0){if(i>l)return;i>f&&(f=i)}if(i=r-c,h||!(i<0)){if(i/=h,h<0){if(i>l)return;i>f&&(f=i)}else if(h>0){if(i<f)return;i<l&&(l=i)}if(i=e-s,p||!(i>0)){if(i/=p,p<0){if(i<f)return;i<l&&(l=i)}else if(p>0){if(i>l)return;i>f&&(f=i)}if(i=o-s,p||!(i<0)){if(i/=p,p<0){if(i>l)return;i>f&&(f=i)}else if(p>0){if(i<f)return;i<l&&(l=i)}return!(f>0||l<1)||(f>0&&(n[0]=[c+f*h,s+f*p]),l<1&&(n[1]=[c+l*h,s+l*p]),!0)}}}}}function wI(n,t,e,r,o){var i=n[1];if(i)return!0;var a,u,c=n[0],s=n.left,f=n.right,l=s[0],h=s[1],p=f[0],v=f[1],d=(l+p)/2,g=(h+v)/2;if(v===h){if(d<t||d>=r)return;if(l>p){if(c){if(c[1]>=o)return}else c=[d,e];i=[d,o]}else{if(c){if(c[1]<e)return}else c=[d,o];i=[d,e]}}else if(u=g-(a=(l-p)/(v-h))*d,a<-1||a>1)if(l>p){if(c){if(c[1]>=o)return}else c=[(e-u)/a,e];i=[(o-u)/a,o]}else{if(c){if(c[1]<e)return}else c=[(o-u)/a,o];i=[(e-u)/a,e]}else if(h<v){if(c){if(c[0]>=r)return}else c=[t,a*t+u];i=[r,a*r+u]}else{if(c){if(c[0]<t)return}else c=[r,a*r+u];i=[t,a*t+u]}return n[0]=c,n[1]=i,!0}function _I(n,t){var e=n.site,r=t.left,o=t.right;return e===o&&(o=r,r=e),o?Math.atan2(o[1]-r[1],o[0]-r[0]):(e===r?(r=t[1],o=t[0]):(r=t[0],o=t[1]),Math.atan2(r[0]-o[0],o[1]-r[1]))}function bI(n,t){return t[+(t.left!==n.site)]}function xI(n,t){return t[+(t.left===n.site)]}fI.prototype={constructor:fI,insert:function(n,t){var e,r,o;if(n){if(t.P=n,t.N=n.N,n.N&&(n.N.P=t),n.N=t,n.R){for(n=n.R;n.L;)n=n.L;n.L=t}else n.R=t;e=n}else this._?(n=vI(this._),t.P=null,t.N=n,n.P=n.L=t,e=n):(t.P=t.N=null,this._=t,e=null);for(t.L=t.R=null,t.U=e,t.C=!0,n=t;e&&e.C;)e===(r=e.U).L?(o=r.R)&&o.C?(e.C=o.C=!1,r.C=!0,n=r):(n===e.R&&(hI(this,e),e=(n=e).U),e.C=!1,r.C=!0,pI(this,r)):(o=r.L)&&o.C?(e.C=o.C=!1,r.C=!0,n=r):(n===e.L&&(pI(this,e),e=(n=e).U),e.C=!1,r.C=!0,hI(this,r)),e=n.U;this._.C=!1},remove:function(n){n.N&&(n.N.P=n.P),n.P&&(n.P.N=n.N),n.N=n.P=null;var t,e,r,o=n.U,i=n.L,a=n.R;if(e=i?a?vI(a):i:a,o?o.L===n?o.L=e:o.R=e:this._=e,i&&a?(r=e.C,e.C=n.C,e.L=i,i.U=e,e!==a?(o=e.U,e.U=n.U,n=e.R,o.L=n,e.R=a,a.U=e):(e.U=o,o=e,n=e.R)):(r=n.C,n=e),n&&(n.U=o),!r)if(n&&n.C)n.C=!1;else{do{if(n===this._)break;if(n===o.L){if((t=o.R).C&&(t.C=!1,o.C=!0,hI(this,o),t=o.R),t.L&&t.L.C||t.R&&t.R.C){t.R&&t.R.C||(t.L.C=!1,t.C=!0,pI(this,t),t=o.R),t.C=o.C,o.C=t.R.C=!1,hI(this,o),n=this._;break}}else if((t=o.L).C&&(t.C=!1,o.C=!0,pI(this,o),t=o.L),t.L&&t.L.C||t.R&&t.R.C){t.L&&t.L.C||(t.R.C=!1,t.C=!0,hI(this,t),t=o.L),t.C=o.C,o.C=t.L.C=!1,pI(this,o),n=this._;break}t.C=!0,n=o,o=o.U}while(!n.C);n&&(n.C=!1)}}};var EI,SI=[];function MI(){lI(this),this.x=this.y=this.arc=this.site=this.cy=null}function TI(n){var t=n.P,e=n.N;if(t&&e){var r=t.site,o=n.site,i=e.site;if(r!==i){var a=o[0],u=o[1],c=r[0]-a,s=r[1]-u,f=i[0]-a,l=i[1]-u,h=2*(c*l-s*f);if(!(h>=-FI)){var p=c*c+s*s,v=f*f+l*l,d=(l*p-s*v)/h,g=(c*v-f*p)/h,y=SI.pop()||new MI;y.arc=n,y.site=o,y.x=d+a,y.y=(y.cy=g+u)+Math.sqrt(d*d+g*g),n.circle=y;for(var m=null,w=BI._;w;)if(y.y<w.y||y.y===w.y&&y.x<=w.x){if(!w.L){m=w.P;break}w=w.L}else{if(!w.R){m=w;break}w=w.R}BI.insert(m,y),m||(EI=y)}}}}function jI(n){var t=n.circle;t&&(t.P||(EI=t.N),BI.remove(t),SI.push(t),lI(t),n.circle=null)}var kI=[];function CI(){lI(this),this.edge=this.site=this.circle=null}function PI(n){var t=kI.pop()||new CI;return t.site=n,t}function OI(n){jI(n),DI.remove(n),kI.push(n),lI(n)}function AI(n){var t=n.circle,e=t.x,r=t.cy,o=[e,r],i=n.P,a=n.N,u=[n];OI(n);for(var c=i;c.circle&&Math.abs(e-c.circle.x)<qI&&Math.abs(r-c.circle.cy)<qI;)i=c.P,u.unshift(c),OI(c),c=i;u.unshift(c),jI(c);for(var s=a;s.circle&&Math.abs(e-s.circle.x)<qI&&Math.abs(r-s.circle.cy)<qI;)a=s.N,u.push(s),OI(s),s=a;u.push(s),jI(s);var f,l=u.length;for(f=1;f<l;++f)s=u[f],c=u[f-1],yI(s.edge,c.site,s.site,o);c=u[0],(s=u[l-1]).edge=dI(c.site,s.site,null,o),TI(c),TI(s)}function NI(n){for(var t,e,r,o,i=n[0],a=n[1],u=DI._;u;)if((r=RI(u,a)-i)>qI)u=u.L;else{if(!((o=i-II(u,a))>qI)){r>-qI?(t=u.P,e=u):o>-qI?(t=u,e=u.N):t=e=u;break}if(!u.R){t=u;break}u=u.R}!function(n){LI[n.index]={site:n,halfedges:[]}}(n);var c=PI(n);if(DI.insert(t,c),t||e){if(t===e)return jI(t),e=PI(t.site),DI.insert(c,e),c.edge=e.edge=dI(t.site,c.site),TI(t),void TI(e);if(e){jI(t),jI(e);var s=t.site,f=s[0],l=s[1],h=n[0]-f,p=n[1]-l,v=e.site,d=v[0]-f,g=v[1]-l,y=2*(h*g-p*d),m=h*h+p*p,w=d*d+g*g,_=[(g*m-p*w)/y+f,(h*w-d*m)/y+l];yI(e.edge,s,v,_),c.edge=dI(s,n,null,_),e.edge=dI(n,v,null,_),TI(t),TI(e)}else c.edge=dI(t.site,c.site)}}function RI(n,t){var e=n.site,r=e[0],o=e[1],i=o-t;if(!i)return r;var a=n.P;if(!a)return-1/0;var u=(e=a.site)[0],c=e[1],s=c-t;if(!s)return u;var f=u-r,l=1/i-1/s,h=f/s;return l?(-h+Math.sqrt(h*h-2*l*(f*f/(-2*s)-c+s/2+o-i/2)))/l+r:(r+u)/2}function II(n,t){var e=n.N;if(e)return RI(e,t);var r=n.site;return r[1]===t?r[0]:1/0}var DI,LI,BI,zI,qI=1e-6,FI=1e-12;function GI(n,t){return t[1]-n[1]||t[0]-n[0]}function VI(n,t){var e,r,o,i=n.sort(GI).pop();for(zI=[],LI=new Array(n.length),DI=new fI,BI=new fI;;)if(o=EI,i&&(!o||i[1]<o.y||i[1]===o.y&&i[0]<o.x))i[0]===e&&i[1]===r||(NI(i),e=i[0],r=i[1]),i=n.pop();else{if(!o)break;AI(o.arc)}if(function(){for(var n,t,e,r,o=0,i=LI.length;o<i;++o)if((n=LI[o])&&(r=(t=n.halfedges).length)){var a=new Array(r),u=new Array(r);for(e=0;e<r;++e)a[e]=e,u[e]=_I(n,zI[t[e]]);for(a.sort((function(n,t){return u[t]-u[n]})),e=0;e<r;++e)u[e]=t[a[e]];for(e=0;e<r;++e)t[e]=u[e]}}(),t){var a=+t[0][0],u=+t[0][1],c=+t[1][0],s=+t[1][1];!function(n,t,e,r){for(var o,i=zI.length;i--;)wI(o=zI[i],n,t,e,r)&&mI(o,n,t,e,r)&&(Math.abs(o[0][0]-o[1][0])>qI||Math.abs(o[0][1]-o[1][1])>qI)||delete zI[i]}(a,u,c,s),function(n,t,e,r){var o,i,a,u,c,s,f,l,h,p,v,d,g=LI.length,y=!0;for(o=0;o<g;++o)if(i=LI[o]){for(a=i.site,u=(c=i.halfedges).length;u--;)zI[c[u]]||c.splice(u,1);for(u=0,s=c.length;u<s;)v=(p=xI(i,zI[c[u]]))[0],d=p[1],l=(f=bI(i,zI[c[++u%s]]))[0],h=f[1],(Math.abs(v-l)>qI||Math.abs(d-h)>qI)&&(c.splice(u,0,zI.push(gI(a,p,Math.abs(v-n)<qI&&r-d>qI?[n,Math.abs(l-n)<qI?h:r]:Math.abs(d-r)<qI&&e-v>qI?[Math.abs(h-r)<qI?l:e,r]:Math.abs(v-e)<qI&&d-t>qI?[e,Math.abs(l-e)<qI?h:t]:Math.abs(d-t)<qI&&v-n>qI?[Math.abs(h-t)<qI?l:n,t]:null))-1),++s);s&&(y=!1)}if(y){var m,w,_,b=1/0;for(o=0,y=null;o<g;++o)(i=LI[o])&&(_=(m=(a=i.site)[0]-n)*m+(w=a[1]-t)*w)<b&&(b=_,y=i);if(y){var x=[n,t],E=[n,r],S=[e,r],M=[e,t];y.halfedges.push(zI.push(gI(a=y.site,x,E))-1,zI.push(gI(a,E,S))-1,zI.push(gI(a,S,M))-1,zI.push(gI(a,M,x))-1)}}for(o=0;o<g;++o)(i=LI[o])&&(i.halfedges.length||delete LI[o])}(a,u,c,s)}this.edges=zI,this.cells=LI,DI=BI=zI=LI=null}VI.prototype={constructor:VI,polygons:function(){var n=this.edges;return this.cells.map((function(t){var e=t.halfedges.map((function(e){return bI(t,n[e])}));return e.data=t.site.data,e}))},triangles:function(){var n=[],t=this.edges;return this.cells.forEach((function(e,r){if(i=(o=e.halfedges).length)for(var o,i,a,u,c,s,f=e.site,l=-1,h=t[o[i-1]],p=h.left===f?h.right:h.left;++l<i;)a=p,p=(h=t[o[l]]).left===f?h.right:h.left,a&&p&&r<a.index&&r<p.index&&(c=a,s=p,((u=f)[0]-s[0])*(c[1]-u[1])-(u[0]-c[0])*(s[1]-u[1])<0)&&n.push([f.data,a.data,p.data])})),n},links:function(){return this.edges.filter((function(n){return n.right})).map((function(n){return{source:n.left.data,target:n.right.data}}))},find:function(n,t,e){for(var r,o,i=this,a=i._found||0,u=i.cells.length;!(o=i.cells[a]);)if(++a>=u)return null;var c=n-o.site[0],s=t-o.site[1],f=c*c+s*s;do{o=i.cells[r=a],a=null,o.halfedges.forEach((function(e){var r=i.edges[e],u=r.left;if(u!==o.site&&u||(u=r.right)){var c=n-u[0],s=t-u[1],l=c*c+s*s;l<f&&(f=l,a=u.index)}}))}while(null!==a);return i._found=r,null==e||f<=e*e?o.site:null}};var HI=t(Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",voronoi:function(){var n=cI,t=sI,e=null;function r(r){return new VI(r.map((function(e,o){var i=[Math.round(n(e,o,r)/qI)*qI,Math.round(t(e,o,r)/qI)*qI];return i.index=o,i.data=e,i})),e)}return r.polygons=function(n){return r(n).polygons()},r.links=function(n){return r(n).links()},r.triangles=function(n){return r(n).triangles()},r.x=function(t){return arguments.length?(n="function"==typeof t?t:uI(+t),r):n},r.y=function(n){return arguments.length?(t="function"==typeof n?n:uI(+n),r):t},r.extent=function(n){return arguments.length?(e=null==n?null:[[+n[0][0],+n[0][1]],[+n[1][0],+n[1][1]]],r):e&&[[e[0][0],e[0][1]],[e[1][0],e[1][1]]]},r.size=function(n){return arguments.length?(e=null==n?null:[[0,0],[+n[0],+n[1]]],r):e&&[e[1][0]-e[0][0],e[1][1]-e[0][1]]},r}}));Object.defineProperty({},"__esModule",{value:!0});var UI=ut.exports.__importStar(HI),WI=ct,YI=Nh.DataSet.registerTransform,$I=gd,JI={as:["_x","_y"]};function XI(n,t){var e=(t=WI.assign({},JI,t)).as;if(!WI.isArray(e)||2!==e.length)throw new TypeError("Invalid as: must be an array with two strings!");var r=e[0],o=e[1],i=$I.getFields(t);if(!WI.isArray(i)||2!==i.length)throw new TypeError("Invalid fields: must be an array with two strings!");var a=i[0],u=i[1],c=n.rows,s=c.map((function(n){return[n[a],n[u]]})),f=UI.voronoi();t.extend&&f.extent(t.extend),t.size&&f.size(t.size);var l=f(s).polygons();c.forEach((function(n,t){var e=l[t].filter((function(n){return!!n}));n[r]=e.map((function(n){return n[0]})),n[o]=e.map((function(n){return n[1]}))}))}YI("diagram.voronoi",XI),YI("voronoi",XI);Object.defineProperty({},"__esModule",{value:!0});var QI=ut.exports.__importStar(Yv),KI=ct,ZI=Nh,nD=gd,tD={field:"value",size:[1,1],nodeSize:null,separation:null,as:["x","y"]};function eD(n,t){if(n.dataType!==ZI.DataSet.CONSTANTS.HIERARCHY||!n.root)throw new TypeError("Invalid DataView: This transform is for Hierarchy data only!");var e=n.root,r=(t=KI.assign({},tD,t)).as;if(!KI.isArray(r)||2!==r.length)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "x", "y" ])!');var o=void 0;try{o=nD.getField(t)}catch(VB){console.warn(VB)}o&&e.sum((function(n){return n[o]}));var i=QI.cluster();i.size(t.size),t.nodeSize&&i.nodeSize(t.nodeSize),t.separation&&i.separation(t.separation),i(e);var a=r[0],u=r[1];e.each((function(n){n[a]=n.x,n[u]=n.y}))}ZI.DataSet.registerTransform("hierarchy.cluster",eD),ZI.DataSet.registerTransform("dendrogram",eD);var rD={assign:ct.mix},oD=rD,iD={getId:function(n){return n.id||n.name},getHGap:function(n){return n.hgap||18},getVGap:function(n){return n.vgap||18},getChildren:function(n){return n.children},getHeight:function(n){return n.height||36},getWidth:function(n){var t=n.label||" ";return n.width||18*t.split("").length}};function aD(n,t){var e=this;if(e.vgap=e.hgap=0,n instanceof aD)return n;e.data=n;var r=t.getHGap(n),o=t.getVGap(n);return e.width=t.getWidth(n),e.height=t.getHeight(n),e.id=t.getId(n),e.x=e.y=0,e.depth=0,e.children||(e.children=[]),e.addGap(r,o),e}oD.assign(aD.prototype,{isRoot:function(){return 0===this.depth},isLeaf:function(){return 0===this.children.length},addGap:function(n,t){var e=this;e.hgap+=n,e.vgap+=t,e.width+=2*n,e.height+=2*t},eachNode:function(n){for(var t,e=[this];t=e.shift();)n(t),e=t.children.concat(e)},DFTraverse:function(n){this.eachNode(n)},BFTraverse:function(n){for(var t,e=[this];t=e.shift();)n(t),e=e.concat(t.children)},getBoundingBox:function(){var n={left:Number.MAX_VALUE,top:Number.MAX_VALUE,width:0,height:0};return this.eachNode((function(t){n.left=Math.min(n.left,t.x),n.top=Math.min(n.top,t.y),n.width=Math.max(n.width,t.x+t.width),n.height=Math.max(n.height,t.y+t.height)})),n},translate:function(n,t){void 0===n&&(n=0),void 0===t&&(t=0),this.eachNode((function(e){e.x+=n,e.y+=t}))},right2left:function(){var n=this,t=n.getBoundingBox();n.eachNode((function(n){n.x=n.x-2*(n.x-t.left)-n.width})),n.translate(t.width,0)},bottom2top:function(){var n=this,t=n.getBoundingBox();n.eachNode((function(n){n.y=n.y-2*(n.y-t.top)-n.height})),n.translate(0,t.height)}});var uD=function(n,t,e){void 0===t&&(t={});var r,o=new aD(n,t=oD.assign({},iD,t)),i=[o];if(!e&&!n.collapsed)for(;r=i.shift();)if(!r.data.collapsed){var a=t.getChildren(r.data),u=a?a.length:0;if(r.children=new Array(u),a&&u)for(var c=0;c<u;c++){var s=new aD(a[c],t);r.children[c]=s,i.push(s),s.parent=r,s.depth=r.depth+1}}return o},cD=uD,sD=function(){function n(n,t){void 0===t&&(t={});this.options=t,this.rootNode=cD(n,t)}return n.prototype.execute=function(){throw new Error("please override this method")},n}();function fD(n,t,e,r){void 0===r&&(r=[]);var o=this;o.w=n||0,o.h=t||0,o.y=e||0,o.x=0,o.c=r||[],o.cs=r.length,o.prelim=0,o.mod=0,o.shift=0,o.change=0,o.tl=null,o.tr=null,o.el=null,o.er=null,o.msel=0,o.mser=0}function lD(n,t,e){e?n.y+=t:n.x+=t,n.children.forEach((function(n){lD(n,t,e)}))}function hD(n,t){var e=t?n.y:n.x;return n.children.forEach((function(n){e=Math.min(hD(n,t),e)})),e}function pD(n,t){lD(n,-hD(n,t),t)}function vD(n,t,e){e?t.y=n.x:t.x=n.x,n.c.forEach((function(n,r){vD(n,t.children[r],e)}))}function dD(n,t,e){void 0===e&&(e=0),t?(n.x=e,e+=n.width):(n.y=e,e+=n.height),n.children.forEach((function(n){dD(n,t,e)}))}fD.fromNode=function(n,t){if(!n)return null;var e=[];return n.children.forEach((function(n){e.push(fD.fromNode(n,t))})),t?new fD(n.height,n.width,n.x,e):new fD(n.width,n.height,n.y,e)};var gD=uD,yD=function(n,t){for(var e=gD(n.data,t,!0),r=gD(n.data,t,!0),o=n.children.length,i=Math.round(o/2),a=t.getSide||function(n,t){return t<i?"right":"left"},u=0;u<o;u++){var c=n.children[u];"right"===a(c,u)?r.children.push(c):e.children.push(c)}return e.eachNode((function(n){n.isRoot()||(n.side="left")})),r.eachNode((function(n){n.isRoot()||(n.side="right")})),{left:e,right:r}},mD=yD,wD=["LR","RL","TB","BT","H","V"],_D=["LR","RL","H"],bD=wD[0],xD=function(n,t,e){var r=t.direction||bD;if(t.isHorizontal=function(n){return _D.indexOf(n)>-1}(r),r&&-1===wD.indexOf(r))throw new TypeError("Invalid direction: "+r);if(r===wD[0])e(n,t);else if(r===wD[1])e(n,t),n.right2left();else if(r===wD[2])e(n,t);else if(r===wD[3])e(n,t),n.bottom2top();else if(r===wD[4]||r===wD[5]){var o=mD(n,t),i=o.left,a=o.right;e(i,t),e(a,t),t.isHorizontal?i.right2left():i.bottom2top(),a.translate(i.x-a.x,i.y-a.y),n.x=i.x,n.y=a.y;var u=n.getBoundingBox();t.isHorizontal?u.top<0&&n.translate(0,-u.top):u.left<0&&n.translate(-u.left,0)}var c=t.fixedRoot;return void 0===c&&(c=!0),c&&n.translate(-(n.x+n.width/2+n.hgap),-(n.y+n.height/2+n.vgap)),n};var ED=function(n,t){void 0===t&&(t={});var e=t.isHorizontal;function r(n){0===n.cs?(n.el=n,n.er=n,n.msel=n.mser=0):(n.el=n.c[0].el,n.msel=n.c[0].msel,n.er=n.c[n.cs-1].er,n.mser=n.c[n.cs-1].mser)}function o(n,t,e){for(var r=n.c[t-1],o=r.mod,s=n.c[t],f=s.mod;null!==r&&null!==s;){c(r)>e.low&&(e=e.nxt);var l=o+r.prelim+r.w-(f+s.prelim);l>0&&(f+=l,i(n,t,e.index,l));var h=c(r),p=c(s);h<=p&&null!==(r=u(r))&&(o+=r.mod),h>=p&&null!==(s=a(s))&&(f+=s.mod)}!r&&s?function(n,t,e,r){var o=n.c[0].el;o.tl=e;var i=r-e.mod-n.c[0].msel;o.mod+=i,o.prelim-=i,n.c[0].el=n.c[t].el,n.c[0].msel=n.c[t].msel}(n,t,s,f):r&&!s&&function(n,t,e,r){var o=n.c[t].er;o.tr=e;var i=r-e.mod-n.c[t].mser;o.mod+=i,o.prelim-=i,n.c[t].er=n.c[t-1].er,n.c[t].mser=n.c[t-1].mser}(n,t,r,o)}function i(n,t,e,r){n.c[t].mod+=r,n.c[t].msel+=r,n.c[t].mser+=r,function(n,t,e,r){if(e!==t-1){var o=t-e;n.c[e+1].shift+=r/o,n.c[t].shift-=r/o,n.c[t].change-=r-r/o}}(n,t,e,r)}function a(n){return 0===n.cs?n.tl:n.c[0]}function u(n){return 0===n.cs?n.tr:n.c[n.cs-1]}function c(n){return n.y+n.h}function s(n,t,e){for(;null!==e&&n>=e.low;)e=e.nxt;return{low:n,index:t,nxt:e}}dD(n,e);var f=fD.fromNode(n,e);return function n(t){if(0!==t.cs){n(t.c[0]);for(var e=s(c(t.c[0].el),0,null),i=1;i<t.cs;++i){n(t.c[i]);var a=c(t.c[i].er);o(t,i,e),e=s(a,i,e)}!function(n){n.prelim=(n.c[0].prelim+n.c[0].mod+n.c[n.cs-1].mod+n.c[n.cs-1].prelim+n.c[n.cs-1].w)/2-n.w/2}(t),r(t)}else r(t)}(f),function n(t,e){e+=t.mod,t.x=t.prelim+e,function(n){for(var t=0,e=0,r=0;r<n.cs;r++)e+=(t+=n.c[r].shift)+n.c[r].change,n.c[r].mod+=e}(t);for(var r=0;r<t.cs;r++)n(t.c[r],e)}(f,0),vD(f,n,e),pD(n,e),n},SD=xD,MD=rD,TD=function(n){var t,e;function r(){return n.apply(this,arguments)||this}return e=n,(t=r).prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e,r.prototype.execute=function(){return SD(this.rootNode,this.options,ED)},r}(sD),jD={};var kD=function(n,t){return t=MD.assign({},jD,t),new TD(n,t).execute()},CD=rD;function PD(n,t){void 0===t&&(t=[]);var e=this;e.x=e.y=0,e.leftChild=e.rightChild=null,e.height=0,e.children=t}var OD={isHorizontal:!0,nodeSep:20,nodeSize:20,rankSep:200,subTreeSep:10};function AD(n,t,e){e?(t.x=n.x,t.y=n.y):(t.x=n.y,t.y=n.x),n.children.forEach((function(n,r){AD(n,t.children[r],e)}))}var ND=function(n,t){void 0===t&&(t={}),t=CD.assign({},OD,t);var e,r=0;var o=function n(t){if(!t)return null;t.width=0,t.depth&&t.depth>r&&(r=t.depth);var e=t.children,o=e.length,i=new PD(t.height,[]);return e.forEach((function(t,e){var r=n(t);i.children.push(r),0===e&&(i.leftChild=r),e===o-1&&(i.rightChild=r)})),i.originNode=t,i.isLeaf=t.isLeaf(),i}(n);return function n(t){if(t.isLeaf||0===t.children.length)t.drawingDepth=r;else{var e=t.children.map((function(t){return n(t)})),o=Math.min.apply(null,e);t.drawingDepth=o-1}return t.drawingDepth}(o),function n(r){r.x=r.drawingDepth*t.rankSep,r.isLeaf?(r.y=0,e&&(r.y=e.y+e.height+t.nodeSep,r.originNode.parent!==e.originNode.parent&&(r.y+=t.subTreeSep)),e=r):(r.children.forEach((function(t){n(t)})),r.y=(r.leftChild.y+r.rightChild.y)/2)}(o),AD(o,n,t.isHorizontal),n},RD=xD,ID=rD,DD=function(n){var t,e;function r(){return n.apply(this,arguments)||this}return e=n,(t=r).prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e,r.prototype.execute=function(){var n=this;return n.rootNode.width=0,RD(n.rootNode,n.options,ND)},r}(sD),LD={};var BD=function(n,t){return t=ID.assign({},LD,t),new DD(n,t).execute()};var zD=sD,qD=function(n,t,e){var r=null;n.eachNode((function(n){!function(n,t,e,r){if(!r)try{if(n.id===n.parent.children[0].id)return n.x+=e*n.depth,void(n.y=t?t.y:0)}catch(VB){}n.x+=e*n.depth,n.y=t?t.y+t.height:0}(n,r,t,e),r=n}))},FD=yD,GD=rD,VD=["LR","RL","H"],HD=VD[0],UD=function(n){var t,e;function r(){return n.apply(this,arguments)||this}return e=n,(t=r).prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e,r.prototype.execute=function(){var n=this.options,t=this.rootNode;n.isHorizontal=!0;var e=n.indent,r=void 0===e?20:e,o=n.dropCap,i=void 0===o||o,a=n.direction||HD;if(a&&-1===VD.indexOf(a))throw new TypeError("Invalid direction: "+a);if(a===VD[0])qD(t,r,i);else if(a===VD[1])qD(t,r,i),t.right2left();else if(a===VD[2]){var u=FD(t,n),c=u.left,s=u.right;qD(c,r,i),c.right2left(),qD(s,r,i);var f=c.getBoundingBox();s.translate(f.width,0),t.x=s.x-t.width/2}return t},r}(zD),WD={};var YD=function(n,t){return t=GD.assign({},WD,t),new UD(n,t).execute()},$D=rD;function JD(n,t){var e=0;return n.children.length?n.children.forEach((function(n){e+=JD(n,t)})):e=n.height,n._subTreeSep=t.getSubTreeSep(n.data),n.totalHeight=Math.max(n.height,e)+2*n._subTreeSep,n.totalHeight}function XD(n){var t=n.children,e=t.length;if(e){t.forEach((function(n){XD(n)}));var r=t[0],o=t[e-1],i=o.y-r.y+o.height,a=0;if(t.forEach((function(n){a+=n.totalHeight})),i>n.height)n.y=r.y+i/2-n.height/2;else if(1!==t.length||n.height>a){var u=n.y+(n.height-i)/2-r.y;t.forEach((function(n){n.translate(0,u)}))}else n.y=(r.y+r.height/2+o.y+o.height/2)/2-n.height/2}}var QD={getSubTreeSep:function(){return 0}};var KD=function(n,t){void 0===t&&(t={}),t=$D.assign({},QD,t),n.parent={x:0,width:0,height:0,y:0},n.BFTraverse((function(n){n.x=n.parent.x+n.parent.width})),n.parent=null,JD(n,t),n.startY=0,n.y=n.totalHeight/2-n.height/2,n.eachNode((function(n){var t=n.children,e=t.length;if(e){var r=t[0];if(r.startY=n.startY+n._subTreeSep,1===e)r.y=n.y+n.height/2-r.height/2;else{r.y=r.startY+r.totalHeight/2-r.height/2;for(var o=1;o<e;o++){var i=t[o];i.startY=t[o-1].startY+t[o-1].totalHeight,i.y=i.startY+i.totalHeight/2-i.height/2}}}})),XD(n)},ZD=xD,nL=rD,tL=function(n){var t,e;function r(){return n.apply(this,arguments)||this}return e=n,(t=r).prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e,r.prototype.execute=function(){return ZD(this.rootNode,this.options,KD)},r}(sD),eL={};var rL={compactBox:kD,dendrogram:BD,indented:YD,mindmap:function(n,t){return t=nL.assign({},eL,t),new tL(n,t).execute()}};Object.defineProperty({},"__esModule",{value:!0});var oL=ut.exports.__importDefault(rL),iL=Nh,aL={};function uL(n,t){var e=n.root;if(t=Object.assign({},aL,t),n.dataType!==iL.DataSet.CONSTANTS.HIERARCHY)throw new TypeError("Invalid DataView: This transform is for Hierarchy data only!");n.root=oL.default.compactBox(e,t)}iL.DataSet.registerTransform("hierarchy.compact-box",uL),iL.DataSet.registerTransform("compact-box-tree",uL),iL.DataSet.registerTransform("non-layered-tidy-tree",uL),iL.DataSet.registerTransform("mindmap-logical",uL);Object.defineProperty({},"__esModule",{value:!0});var cL=ut.exports.__importDefault(rL),sL=Nh,fL={};function lL(n,t){var e=n.root;if(t=Object.assign({},fL,t),n.dataType!==sL.DataSet.CONSTANTS.HIERARCHY)throw new TypeError("Invalid DataView: This transform is for Hierarchy data only!");n.root=cL.default.dendrogram(e,t)}sL.DataSet.registerTransform("hierarchy.dendrogram",lL),sL.DataSet.registerTransform("dendrogram",lL);Object.defineProperty({},"__esModule",{value:!0});var hL=ut.exports.__importDefault(rL),pL=Nh,vL={};function dL(n,t){var e=n.root;if(t=Object.assign({},vL,t),n.dataType!==pL.DataSet.CONSTANTS.HIERARCHY)throw new TypeError("Invalid DataView: This transform is for Hierarchy data only!");n.root=hL.default.indented(e,t)}pL.DataSet.registerTransform("hierarchy.indented",dL),pL.DataSet.registerTransform("indented-tree",dL);Object.defineProperty({},"__esModule",{value:!0});var gL=ct,yL=ut.exports.__importStar(Yv),mL=Nh,wL=gd,_L={field:"value",size:[1,1],padding:0,as:["x","y","r"]};function bL(n,t){if(n.dataType!==mL.DataSet.CONSTANTS.HIERARCHY)throw new TypeError("Invalid DataView: This transform is for Hierarchy data only!");var e,r=n.root,o=(t=gL.assign({},_L,t)).as;if(!gL.isArray(o)||3!==o.length)throw new TypeError('Invalid as: it must be an array with 3 strings (e.g. [ "x", "y", "r" ])!');try{e=wL.getField(t)}catch(VB){console.warn(VB)}e&&r.sum((function(n){return n[e]})).sort((function(n,t){return t[e]-n[e]}));var i=yL.pack();i.size(t.size),t.padding&&i.padding(t.padding),i(r);var a=o[0],u=o[1],c=o[2];r.each((function(n){n[a]=n.x,n[u]=n.y,n[c]=n.r}))}mL.DataSet.registerTransform("hierarchy.pack",bL),mL.DataSet.registerTransform("hierarchy.circle-packing",bL),mL.DataSet.registerTransform("circle-packing",bL);Object.defineProperty({},"__esModule",{value:!0});var xL=ut.exports.__importStar(Yv),EL=ct,SL=Nh,ML=gd,TL={field:"value",size:[1,1],round:!1,padding:0,sort:!0,as:["x","y"]};function jL(n,t){if(n.dataType!==SL.DataSet.CONSTANTS.HIERARCHY)throw new TypeError("Invalid DataView: This transform is for Hierarchy data only!");var e,r=n.root,o=(t=EL.assign({},TL,t)).as;if(!EL.isArray(o)||2!==o.length)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "x", "y" ])!');try{e=ML.getField(t)}catch(VB){console.warn(VB)}e&&r.sum((function(n){return n[e]}));var i=xL.partition();i.size(t.size).round(t.round).padding(t.padding),i(r);var a=o[0],u=o[1];r.each((function(n){n[a]=[n.x0,n.x1,n.x1,n.x0],n[u]=[n.y1,n.y1,n.y0,n.y0],["x0","x1","y0","y1"].forEach((function(t){-1===o.indexOf(t)&&delete n[t]}))}))}SL.DataSet.registerTransform("hierarchy.partition",jL),SL.DataSet.registerTransform("adjacency",jL);Object.defineProperty({},"__esModule",{value:!0});var kL=ut.exports.__importStar(Yv),CL=ct,PL=Nh,OL=gd,AL={field:"value",size:[1,1],nodeSize:null,separation:null,as:["x","y"]};function NL(n,t){if(n.dataType!==PL.DataSet.CONSTANTS.HIERARCHY)throw new TypeError("Invalid DataView: This transform is for Hierarchy data only!");var e,r=n.root,o=(t=CL.assign({},AL,t)).as;if(!CL.isArray(o)||2!==o.length)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "x", "y" ])!');try{e=OL.getField(t)}catch(VB){console.warn(VB)}e&&r.sum((function(n){return n[e]}));var i=kL.tree();i.size(t.size),t.nodeSize&&i.nodeSize(t.nodeSize),t.separation&&i.separation(t.separation),i(r);var a=o[0],u=o[1];r.each((function(n){n[a]=n.x,n[u]=n.y}))}PL.DataSet.registerTransform("hierarchy.tree",NL),PL.DataSet.registerTransform("tree",NL);Object.defineProperty({},"__esModule",{value:!0});var RL=ut.exports.__importStar(Yv),IL=ct,DL=Nh,LL=gd,BL={field:"value",tile:"treemapSquarify",size:[1,1],round:!1,padding:0,paddingInner:0,paddingOuter:0,paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0,as:["x","y"]};function zL(n,t){if(n.dataType!==DL.DataSet.CONSTANTS.HIERARCHY)throw new TypeError("Invalid DataView: This transform is for Hierarchy data only!");var e,r=n.root,o=(t=IL.assign({},BL,t)).as;if(!IL.isArray(o)||2!==o.length)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "x", "y" ])!');try{e=LL.getField(t)}catch(VB){console.warn(VB)}e&&r.sum((function(n){return n[e]}));var i=RL.treemap();i.tile(RL[t.tile]).size(t.size).round(t.round).padding(t.padding).paddingInner(t.paddingInner).paddingOuter(t.paddingOuter).paddingTop(t.paddingTop).paddingRight(t.paddingRight).paddingBottom(t.paddingBottom).paddingLeft(t.paddingLeft),i(r);var a=o[0],u=o[1];r.each((function(n){n[a]=[n.x0,n.x1,n.x1,n.x0],n[u]=[n.y1,n.y1,n.y0,n.y0],["x0","x1","y0","y1"].forEach((function(t){-1===o.indexOf(t)&&delete n[t]}))}))}DL.DataSet.registerTransform("hierarchy.treemap",zL),DL.DataSet.registerTransform("treemap",zL);var qL={};Object.defineProperty(qL,"__esModule",{value:!0});var FL=ut.exports,GL=Math.PI/180,VL=2048;function HL(n){return n.text}function UL(){return"serif"}function WL(){return"normal"}function YL(n){return n.value}function $L(){return 90*~~(2*Math.random())}function JL(){return 1}function XL(n,t,e,r){if(!t.sprite){var o=n.context,i=n.ratio;o.clearRect(0,0,2048/i,2048/i);var a=0,u=0,c=0,s=e.length;for(--r;++r<s;){t=e[r],o.save(),o.font=t.style+" "+t.weight+" "+~~((t.size+1)/i)+"px "+t.font;var f=o.measureText(t.text+"m").width*i,l=t.size<<1;if(t.rotate){var h=Math.sin(t.rotate*GL),p=Math.cos(t.rotate*GL),v=f*p,d=f*h,g=l*p,y=l*h;f=Math.max(Math.abs(v+y),Math.abs(v-y))+31>>5<<5,l=~~Math.max(Math.abs(d+g),Math.abs(d-g))}else f=f+31>>5<<5;if(l>c&&(c=l),a+f>=2048&&(a=0,u+=c,c=0),u+l>=2048)break;o.translate((a+(f>>1))/i,(u+(l>>1))/i),t.rotate&&o.rotate(t.rotate*GL),o.fillText(t.text,0,0),t.padding&&(o.lineWidth=2*t.padding,o.strokeText(t.text,0,0)),o.restore(),t.width=f,t.height=l,t.xoff=a,t.yoff=u,t.x1=f>>1,t.y1=l>>1,t.x0=-t.x1,t.y0=-t.y1,t.hasText=!0,a+=f}for(var m=o.getImageData(0,0,2048/i,2048/i).data,w=[];--r>=0;)if((t=e[r]).hasText){for(var _=(f=t.width)>>5,b=(l=t.y1-t.y0,0);b<l*_;b++)w[b]=0;if(null==(a=t.xoff))return;u=t.yoff;for(var x=0,E=-1,S=0;S<l;S++){for(b=0;b<f;b++){var M=_*S+(b>>5),T=m[2048*(u+S)+(a+b)<<2]?1<<31-b%32:0;w[M]|=T,x|=T}x?E=S:(t.y0++,l--,S--,u++)}t.y1=t.y0+E,t.sprite=w.slice(0,(t.y1-t.y0)*_)}}}function QL(n,t,e){e>>=5;for(var r,o=n.sprite,i=n.width>>5,a=n.x-(i<<4),u=127&a,c=32-u,s=n.y1-n.y0,f=(n.y+n.y0)*e+(a>>5),l=0;l<s;l++){r=0;for(var h=0;h<=i;h++)if((r<<c|(h<i?(r=o[l*i+h])>>>u:0))&t[f+h])return!0;f+=e}return!1}function KL(n,t){var e=n[0],r=n[1];t.x+t.x0<e.x&&(e.x=t.x+t.x0),t.y+t.y0<e.y&&(e.y=t.y+t.y0),t.x+t.x1>r.x&&(r.x=t.x+t.x1),t.y+t.y1>r.y&&(r.y=t.y+t.y1)}function ZL(n){var t=n[0]/n[1];return function(n){return[t*(n*=.1)*Math.cos(n),n*Math.sin(n)]}}function nB(n){for(var t=[],e=-1;++e<n;)t[e]=0;return t}function tB(){return document.createElement("canvas")}function eB(n){return"function"==typeof n?n:function(){return n}}var rB={archimedean:ZL,rectangular:function(n){var t=4*n[0]/n[1],e=0,r=0;return function(n){var o=n<0?-1:1;switch(Math.sqrt(1+4*o*n)-o&3){case 0:e+=t;break;case 1:r+=4;break;case 2:e-=t;break;default:r-=4}return[e,r]}}};qL.default=function(){var n=[256,256],t=HL,e=UL,r=YL,o=WL,i=WL,a=$L,u=JL,c=ZL,s=[],f=1/0,l=Math.random,h=tB,p={};function v(t,e,r){for(var o,i,a,u,s,f=e.x,h=e.y,p=Math.sqrt(n[0]*n[0]+n[1]*n[1]),v=c(n),d=l()<.5?1:-1,g=-d;(o=v(g+=d))&&(i=~~o[0],a=~~o[1],!(Math.min(Math.abs(i),Math.abs(a))>=p));)if(e.x=f+i,e.y=h+a,!(e.x+e.x0<0||e.y+e.y0<0||e.x+e.x1>n[0]||e.y+e.y1>n[1]||r&&QL(e,t,n[0])||r&&(s=r,!((u=e).x+u.x1>s[0].x&&u.x+u.x0<s[1].x&&u.y+u.y1>s[0].y&&u.y+u.y0<s[1].y)))){for(var y=e.sprite,m=e.width>>5,w=n[0]>>5,_=e.x-(m<<4),b=127&_,x=32-b,E=e.y1-e.y0,S=void 0,M=(e.y+e.y0)*w+(_>>5),T=0;T<E;T++){S=0;for(var j=0;j<=m;j++)t[M+j]|=S<<x|(j<m?(S=y[T*m+j])>>>b:0);M+=w}return delete e.sprite,!0}return!1}return p.canvas=function(n){return arguments.length?(h=eB(n),p):h},p.start=function(){var c=FL.__read(n,2),d=c[0],g=c[1],y=function(n){n.width=n.height=1;var t=Math.sqrt(n.getContext("2d").getImageData(0,0,1,1).data.length>>2);n.width=2048/t,n.height=VL/t;var e=n.getContext("2d");return e.fillStyle=e.strokeStyle="red",e.textAlign="center",{context:e,ratio:t}}(h()),m=p.board?p.board:nB((n[0]>>5)*n[1]),w=s.length,_=[],b=s.map((function(n,c){return n.text=t.call(this,n,c),n.font=e.call(this,n,c),n.style=o.call(this,n,c),n.weight=i.call(this,n,c),n.rotate=a.call(this,n,c),n.size=~~r.call(this,n,c),n.padding=u.call(this,n,c),n})).sort((function(n,t){return t.size-n.size})),x=-1,E=p.board?[{x:0,y:0},{x:d,y:g}]:null;return function(){var t=Date.now();for(;Date.now()-t<f&&++x<w;){var e=b[x];e.x=d*(l()+.5)>>1,e.y=g*(l()+.5)>>1,XL(y,e,b,x),e.hasText&&v(m,e,E)&&(_.push(e),E?p.hasImage||KL(E,e):E=[{x:e.x+e.x0,y:e.y+e.y0},{x:e.x+e.x1,y:e.y+e.y1}],e.x-=n[0]>>1,e.y-=n[1]>>1)}p._tags=_,p._bounds=E}(),p},p.createMask=function(t){var e=document.createElement("canvas"),r=FL.__read(n,2),o=r[0],i=r[1];if(o&&i){var a=o>>5,u=nB((o>>5)*i);e.width=o,e.height=i;var c=e.getContext("2d");c.drawImage(t,0,0,t.width,t.height,0,0,o,i);for(var s=c.getImageData(0,0,o,i).data,f=0;f<i;f++)for(var l=0;l<o;l++){var h=a*f+(l>>5),v=f*o+l<<2,d=s[v]>=250&&s[v+1]>=250&&s[v+2]>=250?1<<31-l%32:0;u[h]|=d}p.board=u,p.hasImage=!0}},p.timeInterval=function(n){return arguments.length?(f=null==n?1/0:n,p):f},p.words=function(n){return arguments.length?(s=n,p):s},p.size=function(t){return arguments.length?(n=[+t[0],+t[1]],p):n},p.font=function(n){return arguments.length?(e=eB(n),p):e},p.fontStyle=function(n){return arguments.length?(o=eB(n),p):o},p.fontWeight=function(n){return arguments.length?(i=eB(n),p):i},p.rotate=function(n){return arguments.length?(a=eB(n),p):a},p.text=function(n){return arguments.length?(t=eB(n),p):t},p.spiral=function(n){return arguments.length?(c=rB[n]||n,p):c},p.fontSize=function(n){return arguments.length?(r=eB(n),p):r},p.padding=function(n){return arguments.length?(u=eB(n),p):u},p.random=function(n){return arguments.length?(l=n,p):l},p},Object.defineProperty({},"__esModule",{value:!0});var oB=ut.exports,iB=ct,aB=Nh,uB=oB.__importDefault(qL),cB=gd,sB={fields:["text","value"],font:function(){return"serif"},padding:1,size:[500,500],spiral:"archimedean",timeInterval:500};function fB(n,t){t=iB.assign({},sB,t);var e=uB.default();if(!t.size[0]||!t.size[1])return n.rows=[],void(n._tagCloud=e);["font","fontSize","fontWeight","padding","rotate","size","spiral","timeInterval"].forEach((function(n){t[n]&&e[n](t[n])}));var r=cB.getFields(t),o=oB.__read(r,2),i=o[0],a=o[1];if(!iB.isString(i)||!iB.isString(a))throw new TypeError('Invalid fields: must be an array with 2 strings (e.g. [ "text", "value" ])!');var u=n.rows.map((function(n){return n.text=n[i],n.value=n[a],n}));e.words(u),t.imageMask&&e.createMask(t.imageMask);var c=e.start(),s=c._tags,f=c._bounds||[{x:0,y:0},{x:t.size[0],y:t.size[1]}];s.forEach((function(n){n.x+=t.size[0]/2,n.y+=t.size[1]/2}));var l=oB.__read(t.size,2),h=l[0],p=l[1],v=c.hasImage;s.push({text:"",value:0,x:v?0:f[0].x,y:v?0:f[0].y,opacity:0}),s.push({text:"",value:0,x:v?h:f[1].x,y:v?p:f[1].y,opacity:0}),n.rows=s,n._tagCloud=c}aB.DataSet.registerTransform("tag-cloud",fB),aB.DataSet.registerTransform("word-cloud",fB);Object.defineProperty({},"__esModule",{value:!0});var lB=ut.exports,hB=ct,pB=Eh,vB=lB.__importDefault(_l),dB=gd,gB={fields:["name","value"],rows:5,size:[1,1],scale:1,groupBy:[],maxCount:1e3,gapRatio:.1,as:["x","y"]};Nh.DataSet.registerTransform("waffle",(function(n,t){t=hB.assign({},gB,t);var e=dB.getFields(t),r=lB.__read(e,2),o=r[0],i=r[1],a=lB.__read(t.as,2),u=a[0],c=a[1],s=t.groupBy,f=vB.default(n.rows,s),l=hB.keys(f),h=lB.__read(t.size,2),p=h[0],v=h[1],d=t.maxCount,g=v/l.length,y=t.rows,m=t.gapRatio,w=[],_=t.scale,b=0,x=0;hB.forIn(f,(function(n){var t=pB.sum(hB.map(n,(function(n){return n[i]}))),e=Math.ceil(t*_/y);t*_>d&&(_=d/t,e=Math.ceil(t*_/y)),x=p/e})),hB.forIn(f,(function(n){var t=[b*g,(b+1)*g],e=(t[1]-t[0])*(1-m)/y,r=0,a=0;hB.each(n,(function(n){for(var f=n[i],l=Math.round(f*_),h=0;h<l;h++){a===y&&(a=0,r++);var p=hB.pick(n,[o,i].concat(s));p[u]=r*x+x/2,p[c]=a*e+e/2+t[0],p._wStep=x,p._hStep=e,a++,w.push(p)}})),b+=1})),n.rows=w}));var yB={};Object.defineProperty(yB,"__esModule",{value:!0});var mB=ut.exports,wB=ct,_B=mB.__importDefault(Eg),bB=mB.__importDefault(Dg),xB=Nh,EB=gd,SB=Mg,MB={as:["x","y","z"],method:"gaussian"},TB=wB.keys(bB.default);function jB(n,t){var e,r;t=wB.assign({},MB,t);var o=EB.getFields(t);if(!wB.isArray(o)||2!==o.length)throw new TypeError("invalid fields: must be an array of 2 strings!");var i,a=mB.__read(t.as,3),u=a[0],c=a[1],s=a[2];if(!wB.isString(u)||!wB.isString(c)||!wB.isString(s))throw new TypeError("invalid as: must be an array of 3 strings!");if(wB.isString(t.method)){if(-1===TB.indexOf(t.method))throw new TypeError("invalid method: "+t.method+". Must be one of "+TB.join(", "));i=bB.default[t.method]}var f,l,h,p,v=mB.__read(o,2),d=v[0],g=v[1],y=t.extent,m=t.bandwidth;y&&Array.isArray(y)&&Array.isArray(y[0])&&Array.isArray(y[1])?(f=(e=mB.__read(y,2))[0],l=e[1]):(f=n.range(d),l=n.range(g)),m&&Array.isArray(m)&&m.slice(0,2).every(wB.isNumber)&&m.slice(0,2).every((function(n){return n>0}))?(h=(r=mB.__read(m,2))[0],p=r[1]):(h=SB.silverman(n.getColumn(d)),p=SB.silverman(n.getColumn(g)));for(var w=_B.default(f,h),_=_B.default(l,p),b=n.rows.length,x=[],E=0;E<w.length;E++)for(var S=0;S<_.length;S++){for(var M=0,T=w[E],j=_[S],k=0;k<b;k++)M+=i((T-n.rows[k][d])/h)*i((j-n.rows[k][g])/p);var C=1/(b*h*p)*M,P={};P[u]=T,P[c]=j,P[s]=C,x.push(P)}n.rows=x}xB.DataSet.registerTransform("kernel-smooth.density",jB),xB.DataSet.registerTransform("kernel.density",jB),yB.default={KERNEL_METHODS:TB};var kB={};Object.defineProperty(kB,"__esModule",{value:!0});var CB=ut.exports,PB=ct,OB=CB.__importDefault(Eg),AB=CB.__importDefault(Dg),NB=Nh,RB=Eh,IB=gd,DB=Mg,LB={as:["x","y"],method:"gaussian"},BB=PB.keys(AB.default);function zB(n,t,e,r){return n((r-e)/t)}function qB(n){return function(t){return PB.isArray(t)?t.map((function(t){return n(t)})):n(t)}}function FB(n,t){t=PB.assign({},LB,t);var e=IB.getFields(t);if(!PB.isArray(e)||1!==e.length&&2!==e.length)throw new TypeError("invalid fields: must be an array of 1 or 2 strings!");var r,o=CB.__read(t.as,2),i=o[0],a=o[1];if(!PB.isString(i)||!PB.isString(a))throw new TypeError("invalid as: must be an array of 2 strings!");var u=t.method;if(PB.isString(u)){if(-1===BB.indexOf(u))throw new TypeError("invalid method: "+u+". Must be one of "+BB.join(", "));r=AB.default[u]}var c=CB.__read(e,2),s=c[0],f=c[1],l=n.getColumn(s),h=t.extent;!h&&PB.isArray(h)||(h=n.range(s));var p=t.bandwidth;(!p||!PB.isNumber(p)||p<=0)&&(p=DB.silverman(l));var v,d=OB.default(h,p),g=l.length,y=zB.bind(null,r,p);if(PB.isNil(f))v=qB((function(n){var t=l.map((function(t){return y(n,t)})),e=RB.sum(t),r=g*p;return e&&r?e/r:0}));else{var m=n.getColumn(f);v=qB((function(n){var t=l.map((function(t){return y(n,t)})),e=RB.sum(t.map((function(n,t){return n*m[t]}))),r=RB.sum(t);return e&&r?e/r:0}))}var w=d.map((function(n){var t={};return t[i]=n,t[a]=v(n),t}));n.rows=w}NB.DataSet.registerTransform("kernel-smooth.regression",FB),NB.DataSet.registerTransform("kernel.regression",FB),kB.default={KERNEL_METHODS:BB};var GB=Nh.DataSet;export{GB as l};
